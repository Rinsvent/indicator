(()=>{var e={7:e=>{"use strict";var t,n="object"==typeof Reflect?Reflect:null,r=n&&"function"==typeof n.apply?n.apply:function(e,t,n){return Function.prototype.apply.call(e,t,n)};t=n&&"function"==typeof n.ownKeys?n.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var i=Number.isNaN||function(e){return e!=e};function o(){o.init.call(this)}e.exports=o,e.exports.once=function(e,t){return new Promise(function(n,r){var i,o,s;function a(n){e.removeListener(t,u),r(n)}function u(){"function"==typeof e.removeListener&&e.removeListener("error",a),n([].slice.call(arguments))}y(e,t,u,{once:!0}),"error"!==t&&(i=e,o=a,s={once:!0},"function"==typeof i.on&&y(i,"error",o,s))})},o.EventEmitter=o,o.prototype._events=void 0,o.prototype._eventsCount=0,o.prototype._maxListeners=void 0;var s=10;function a(e){if("function"!=typeof e)throw TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function u(e){return void 0===e._maxListeners?o.defaultMaxListeners:e._maxListeners}function c(e,t,n,r){if(a(n),void 0===(o=e._events)?(o=e._events=Object.create(null),e._eventsCount=0):(void 0!==o.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),o=e._events),s=o[t]),void 0===s)s=o[t]=n,++e._eventsCount;else if("function"==typeof s?s=o[t]=r?[n,s]:[s,n]:r?s.unshift(n):s.push(n),(i=u(e))>0&&s.length>i&&!s.warned){s.warned=!0;var i,o,s,c=Error("Possible EventEmitter memory leak detected. "+s.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");c.name="MaxListenersExceededWarning",c.emitter=e,c.type=t,c.count=s.length,console&&console.warn&&console.warn(c)}return e}function l(){if(!this.fired)return(this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0==arguments.length)?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function f(e,t,n){var r={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},i=l.bind(r);return i.listener=n,r.wrapFn=i,i}function d(e,t,n){var r=e._events;if(void 0===r)return[];var i=r[t];return void 0===i?[]:"function"==typeof i?n?[i.listener||i]:[i]:n?function(e){for(var t=Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}(i):p(i,i.length)}function h(e){var t=this._events;if(void 0!==t){var n=t[e];if("function"==typeof n)return 1;if(void 0!==n)return n.length}return 0}function p(e,t){for(var n=Array(t),r=0;r<t;++r)n[r]=e[r];return n}function y(e,t,n,r){if("function"==typeof e.on)r.once?e.once(t,n):e.on(t,n);else if("function"==typeof e.addEventListener)e.addEventListener(t,function i(o){r.once&&e.removeEventListener(t,i),n(o)});else throw TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e)}Object.defineProperty(o,"defaultMaxListeners",{enumerable:!0,get:function(){return s},set:function(e){if("number"!=typeof e||e<0||i(e))throw RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");s=e}}),o.init=function(){(void 0===this._events||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},o.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||i(e))throw RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},o.prototype.getMaxListeners=function(){return u(this)},o.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);var i="error"===e,o=this._events;if(void 0!==o)i=i&&void 0===o.error;else if(!i)return!1;if(i){if(t.length>0&&(s=t[0]),s instanceof Error)throw s;var s,a=Error("Unhandled error."+(s?" ("+s.message+")":""));throw a.context=s,a}var u=o[e];if(void 0===u)return!1;if("function"==typeof u)r(u,this,t);else for(var c=u.length,l=p(u,c),n=0;n<c;++n)r(l[n],this,t);return!0},o.prototype.addListener=function(e,t){return c(this,e,t,!1)},o.prototype.on=o.prototype.addListener,o.prototype.prependListener=function(e,t){return c(this,e,t,!0)},o.prototype.once=function(e,t){return a(t),this.on(e,f(this,e,t)),this},o.prototype.prependOnceListener=function(e,t){return a(t),this.prependListener(e,f(this,e,t)),this},o.prototype.removeListener=function(e,t){var n,r,i,o,s;if(a(t),void 0===(r=this._events)||void 0===(n=r[e]))return this;if(n===t||n.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete r[e],r.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!=typeof n){for(i=-1,o=n.length-1;o>=0;o--)if(n[o]===t||n[o].listener===t){s=n[o].listener,i=o;break}if(i<0)return this;0===i?n.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(n,i),1===n.length&&(r[e]=n[0]),void 0!==r.removeListener&&this.emit("removeListener",e,s||t)}return this},o.prototype.off=o.prototype.removeListener,o.prototype.removeAllListeners=function(e){var t,n,r;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0==arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete n[e]),this;if(0==arguments.length){var i,o=Object.keys(n);for(r=0;r<o.length;++r)"removeListener"!==(i=o[r])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=n[e]))this.removeListener(e,t);else if(void 0!==t)for(r=t.length-1;r>=0;r--)this.removeListener(e,t[r]);return this},o.prototype.listeners=function(e){return d(this,e,!0)},o.prototype.rawListeners=function(e){return d(this,e,!1)},o.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):h.call(e,t)},o.prototype.listenerCount=h,o.prototype.eventNames=function(){return this._eventsCount>0?t(this._events):[]}},136:()=>{"use strict";try{self["workbox:core:7.2.0"]&&_()}catch(e){}},227:()=>{"use strict";try{self["workbox:routing:7.2.0"]&&_()}catch(e){}},251:(e,t)=>{t.read=function(e,t,n,r,i){var o,s,a=8*i-r-1,u=(1<<a)-1,c=u>>1,l=-7,f=n?i-1:0,d=n?-1:1,h=e[t+f];for(f+=d,o=h&(1<<-l)-1,h>>=-l,l+=a;l>0;o=256*o+e[t+f],f+=d,l-=8);for(s=o&(1<<-l)-1,o>>=-l,l+=r;l>0;s=256*s+e[t+f],f+=d,l-=8);if(0===o)o=1-c;else{if(o===u)return s?NaN:1/0*(h?-1:1);s+=Math.pow(2,r),o-=c}return(h?-1:1)*s*Math.pow(2,o-r)},t.write=function(e,t,n,r,i,o){var s,a,u,c=8*o-i-1,l=(1<<c)-1,f=l>>1,d=5960464477539062e-23*(23===i),h=r?0:o-1,p=r?1:-1,y=+(t<0||0===t&&1/t<0);for(isNaN(t=Math.abs(t))||t===1/0?(a=+!!isNaN(t),s=l):(s=Math.floor(Math.log(t)/Math.LN2),t*(u=Math.pow(2,-s))<1&&(s--,u*=2),s+f>=1?t+=d/u:t+=d*Math.pow(2,1-f),t*u>=2&&(s++,u/=2),s+f>=l?(a=0,s=l):s+f>=1?(a=(t*u-1)*Math.pow(2,i),s+=f):(a=t*Math.pow(2,f-1)*Math.pow(2,i),s=0));i>=8;e[n+h]=255&a,h+=p,a/=256,i-=8);for(s=s<<i|a,c+=i;c>0;e[n+h]=255&s,h+=p,s/=256,c-=8);e[n+h-p]|=128*y}},287:(e,t,n)=>{"use strict";var r=n(526),i=n(251),o="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;function s(e){if(e>0x7fffffff)throw RangeError('The value "'+e+'" is invalid for option "size"');var t=new Uint8Array(e);return Object.setPrototypeOf(t,a.prototype),t}function a(e,t,n){if("number"==typeof e){if("string"==typeof t)throw TypeError('The "string" argument must be of type string. Received type number');return l(e)}return u(e,t,n)}function u(e,t,n){if("string"==typeof e){var r=e,i=t;if(("string"!=typeof i||""===i)&&(i="utf8"),!a.isEncoding(i))throw TypeError("Unknown encoding: "+i);var o=0|p(r,i),u=s(o),c=u.write(r,i);return c!==o&&(u=u.slice(0,c)),u}if(ArrayBuffer.isView(e)){var l=e;if(C(l,Uint8Array)){var y=new Uint8Array(l);return d(y.buffer,y.byteOffset,y.byteLength)}return f(l)}if(null==e)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(C(e,ArrayBuffer)||e&&C(e.buffer,ArrayBuffer)||"undefined"!=typeof SharedArrayBuffer&&(C(e,SharedArrayBuffer)||e&&C(e.buffer,SharedArrayBuffer)))return d(e,t,n);if("number"==typeof e)throw TypeError('The "value" argument must not be of type number. Received type number');var g=e.valueOf&&e.valueOf();if(null!=g&&g!==e)return a.from(g,t,n);var v=function(e){if(a.isBuffer(e)){var t=0|h(e.length),n=s(t);return 0===n.length||e.copy(n,0,0,t),n}return void 0!==e.length?"number"!=typeof e.length||function(e){return e!=e}(e.length)?s(0):f(e):"Buffer"===e.type&&Array.isArray(e.data)?f(e.data):void 0}(e);if(v)return v;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof e[Symbol.toPrimitive])return a.from(e[Symbol.toPrimitive]("string"),t,n);throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function c(e){if("number"!=typeof e)throw TypeError('"size" argument must be of type number');if(e<0)throw RangeError('The value "'+e+'" is invalid for option "size"')}function l(e){return c(e),s(e<0?0:0|h(e))}function f(e){for(var t=e.length<0?0:0|h(e.length),n=s(t),r=0;r<t;r+=1)n[r]=255&e[r];return n}function d(e,t,n){var r;if(t<0||e.byteLength<t)throw RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(n||0))throw RangeError('"length" is outside of buffer bounds');return Object.setPrototypeOf(r=void 0===t&&void 0===n?new Uint8Array(e):void 0===n?new Uint8Array(e,t):new Uint8Array(e,t,n),a.prototype),r}function h(e){if(e>=0x7fffffff)throw RangeError("Attempt to allocate Buffer larger than maximum size: 0x7fffffff bytes");return 0|e}function p(e,t){if(a.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||C(e,ArrayBuffer))return e.byteLength;if("string"!=typeof e)throw TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);var n=e.length,r=arguments.length>2&&!0===arguments[2];if(!r&&0===n)return 0;for(var i=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":return j(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return S(e).length;default:if(i)return r?-1:j(e).length;t=(""+t).toLowerCase(),i=!0}}function y(e,t,n){var i,o,s,a=!1;if((void 0===t||t<0)&&(t=0),t>this.length||((void 0===n||n>this.length)&&(n=this.length),n<=0||(n>>>=0)<=(t>>>=0)))return"";for(e||(e="utf8");;)switch(e){case"hex":return function(e,t,n){var r=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>r)&&(n=r);for(var i="",o=t;o<n;++o)i+=R[e[o]];return i}(this,t,n);case"utf8":case"utf-8":return b(this,t,n);case"ascii":return function(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(127&e[i]);return r}(this,t,n);case"latin1":case"binary":return function(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(e[i]);return r}(this,t,n);case"base64":return i=this,o=t,s=n,0===o&&s===i.length?r.fromByteArray(i):r.fromByteArray(i.slice(o,s));case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return function(e,t,n){for(var r=e.slice(t,n),i="",o=0;o<r.length-1;o+=2)i+=String.fromCharCode(r[o]+256*r[o+1]);return i}(this,t,n);default:if(a)throw TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),a=!0}}function g(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function v(e,t,n,r,i){var o;if(0===e.length)return -1;if("string"==typeof n?(r=n,n=0):n>0x7fffffff?n=0x7fffffff:n<-0x80000000&&(n=-0x80000000),(o=n*=1)!=o&&(n=i?0:e.length-1),n<0&&(n=e.length+n),n>=e.length)if(i)return -1;else n=e.length-1;else if(n<0)if(!i)return -1;else n=0;if("string"==typeof t&&(t=a.from(t,r)),a.isBuffer(t))return 0===t.length?-1:m(e,t,n,r,i);if("number"==typeof t){if(t&=255,"function"==typeof Uint8Array.prototype.indexOf)if(i)return Uint8Array.prototype.indexOf.call(e,t,n);else return Uint8Array.prototype.lastIndexOf.call(e,t,n);return m(e,[t],n,r,i)}throw TypeError("val must be string, number or Buffer")}function m(e,t,n,r,i){var o,s=1,a=e.length,u=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return -1;s=2,a/=2,u/=2,n/=2}function c(e,t){return 1===s?e[t]:e.readUInt16BE(t*s)}if(i){var l=-1;for(o=n;o<a;o++)if(c(e,o)===c(t,-1===l?0:o-l)){if(-1===l&&(l=o),o-l+1===u)return l*s}else -1!==l&&(o-=o-l),l=-1}else for(n+u>a&&(n=a-u),o=n;o>=0;o--){for(var f=!0,d=0;d<u;d++)if(c(e,o+d)!==c(t,d)){f=!1;break}if(f)return o}return -1}function b(e,t,n){n=Math.min(e.length,n);for(var r=[],i=t;i<n;){var o,s,a,u,c=e[i],l=null,f=c>239?4:c>223?3:c>191?2:1;if(i+f<=n)switch(f){case 1:c<128&&(l=c);break;case 2:(192&(o=e[i+1]))==128&&(u=(31&c)<<6|63&o)>127&&(l=u);break;case 3:o=e[i+1],s=e[i+2],(192&o)==128&&(192&s)==128&&(u=(15&c)<<12|(63&o)<<6|63&s)>2047&&(u<55296||u>57343)&&(l=u);break;case 4:o=e[i+1],s=e[i+2],a=e[i+3],(192&o)==128&&(192&s)==128&&(192&a)==128&&(u=(15&c)<<18|(63&o)<<12|(63&s)<<6|63&a)>65535&&u<1114112&&(l=u)}null===l?(l=65533,f=1):l>65535&&(l-=65536,r.push(l>>>10&1023|55296),l=56320|1023&l),r.push(l),i+=f}var d=r,h=d.length;if(h<=4096)return String.fromCharCode.apply(String,d);for(var p="",y=0;y<h;)p+=String.fromCharCode.apply(String,d.slice(y,y+=4096));return p}function w(e,t,n){if(e%1!=0||e<0)throw RangeError("offset is not uint");if(e+t>n)throw RangeError("Trying to access beyond buffer length")}function k(e,t,n,r,i,o){if(!a.isBuffer(e))throw TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<o)throw RangeError('"value" argument is out of bounds');if(n+r>e.length)throw RangeError("Index out of range")}function x(e,t,n,r,i,o){if(n+r>e.length||n<0)throw RangeError("Index out of range")}function O(e,t,n,r,o){return t*=1,n>>>=0,o||x(e,t,n,4,34028234663852886e22,-34028234663852886e22),i.write(e,t,n,r,23,4),n+4}function E(e,t,n,r,o){return t*=1,n>>>=0,o||x(e,t,n,8,17976931348623157e292,-17976931348623157e292),i.write(e,t,n,r,52,8),n+8}t.hp=a,t.IS=50,a.TYPED_ARRAY_SUPPORT=function(){try{var e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),42===e.foo()}catch(e){return!1}}(),a.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(a.prototype,"parent",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.buffer}}),Object.defineProperty(a.prototype,"offset",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.byteOffset}}),a.poolSize=8192,a.from=function(e,t,n){return u(e,t,n)},Object.setPrototypeOf(a.prototype,Uint8Array.prototype),Object.setPrototypeOf(a,Uint8Array),a.alloc=function(e,t,n){return(c(e),e<=0)?s(e):void 0!==t?"string"==typeof n?s(e).fill(t,n):s(e).fill(t):s(e)},a.allocUnsafe=function(e){return l(e)},a.allocUnsafeSlow=function(e){return l(e)},a.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==a.prototype},a.compare=function(e,t){if(C(e,Uint8Array)&&(e=a.from(e,e.offset,e.byteLength)),C(t,Uint8Array)&&(t=a.from(t,t.offset,t.byteLength)),!a.isBuffer(e)||!a.isBuffer(t))throw TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;for(var n=e.length,r=t.length,i=0,o=Math.min(n,r);i<o;++i)if(e[i]!==t[i]){n=e[i],r=t[i];break}return n<r?-1:+(r<n)},a.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},a.concat=function(e,t){if(!Array.isArray(e))throw TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return a.alloc(0);if(void 0===t)for(n=0,t=0;n<e.length;++n)t+=e[n].length;var n,r=a.allocUnsafe(t),i=0;for(n=0;n<e.length;++n){var o=e[n];if(C(o,Uint8Array))i+o.length>r.length?a.from(o).copy(r,i):Uint8Array.prototype.set.call(r,o,i);else if(a.isBuffer(o))o.copy(r,i);else throw TypeError('"list" argument must be an Array of Buffers');i+=o.length}return r},a.byteLength=p,a.prototype._isBuffer=!0,a.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)g(this,t,t+1);return this},a.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)g(this,t,t+3),g(this,t+1,t+2);return this},a.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)g(this,t,t+7),g(this,t+1,t+6),g(this,t+2,t+5),g(this,t+3,t+4);return this},a.prototype.toString=function(){var e=this.length;return 0===e?"":0==arguments.length?b(this,0,e):y.apply(this,arguments)},a.prototype.toLocaleString=a.prototype.toString,a.prototype.equals=function(e){if(!a.isBuffer(e))throw TypeError("Argument must be a Buffer");return this===e||0===a.compare(this,e)},a.prototype.inspect=function(){var e="",n=t.IS;return e=this.toString("hex",0,n).replace(/(.{2})/g,"$1 ").trim(),this.length>n&&(e+=" ... "),"<Buffer "+e+">"},o&&(a.prototype[o]=a.prototype.inspect),a.prototype.compare=function(e,t,n,r,i){if(C(e,Uint8Array)&&(e=a.from(e,e.offset,e.byteLength)),!a.isBuffer(e))throw TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),t<0||n>e.length||r<0||i>this.length)throw RangeError("out of range index");if(r>=i&&t>=n)return 0;if(r>=i)return -1;if(t>=n)return 1;if(t>>>=0,n>>>=0,r>>>=0,i>>>=0,this===e)return 0;for(var o=i-r,s=n-t,u=Math.min(o,s),c=this.slice(r,i),l=e.slice(t,n),f=0;f<u;++f)if(c[f]!==l[f]){o=c[f],s=l[f];break}return o<s?-1:+(s<o)},a.prototype.includes=function(e,t,n){return -1!==this.indexOf(e,t,n)},a.prototype.indexOf=function(e,t,n){return v(this,e,t,n,!0)},a.prototype.lastIndexOf=function(e,t,n){return v(this,e,t,n,!1)},a.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)r=t,n=this.length,t=0;else if(isFinite(t))t>>>=0,isFinite(n)?(n>>>=0,void 0===r&&(r="utf8")):(r=n,n=void 0);else throw Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var i,o,s,a,u,c,l,f,d=this.length-t;if((void 0===n||n>d)&&(n=d),e.length>0&&(n<0||t<0)||t>this.length)throw RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var h=!1;;)switch(r){case"hex":return function(e,t,n,r){n=Number(n)||0;var i=e.length-n;r?(r=Number(r))>i&&(r=i):r=i;var o=t.length;r>o/2&&(r=o/2);for(var s=0;s<r;++s){var a,u=parseInt(t.substr(2*s,2),16);if((a=u)!=a)break;e[n+s]=u}return s}(this,e,t,n);case"utf8":case"utf-8":return i=t,o=n,q(j(e,this.length-i),this,i,o);case"ascii":case"latin1":case"binary":return s=t,a=n,q(function(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(e),this,s,a);case"base64":return u=t,c=n,q(S(e),this,u,c);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return l=t,f=n,q(function(e,t){for(var n,r,i=[],o=0;o<e.length&&!((t-=2)<0);++o)r=(n=e.charCodeAt(o))>>8,i.push(n%256),i.push(r);return i}(e,this.length-l),this,l,f);default:if(h)throw TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),h=!0}},a.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},a.prototype.slice=function(e,t){var n=this.length;e=~~e,t=void 0===t?n:~~t,e<0?(e+=n)<0&&(e=0):e>n&&(e=n),t<0?(t+=n)<0&&(t=0):t>n&&(t=n),t<e&&(t=e);var r=this.subarray(e,t);return Object.setPrototypeOf(r,a.prototype),r},a.prototype.readUintLE=a.prototype.readUIntLE=function(e,t,n){e>>>=0,t>>>=0,n||w(e,t,this.length);for(var r=this[e],i=1,o=0;++o<t&&(i*=256);)r+=this[e+o]*i;return r},a.prototype.readUintBE=a.prototype.readUIntBE=function(e,t,n){e>>>=0,t>>>=0,n||w(e,t,this.length);for(var r=this[e+--t],i=1;t>0&&(i*=256);)r+=this[e+--t]*i;return r},a.prototype.readUint8=a.prototype.readUInt8=function(e,t){return e>>>=0,t||w(e,1,this.length),this[e]},a.prototype.readUint16LE=a.prototype.readUInt16LE=function(e,t){return e>>>=0,t||w(e,2,this.length),this[e]|this[e+1]<<8},a.prototype.readUint16BE=a.prototype.readUInt16BE=function(e,t){return e>>>=0,t||w(e,2,this.length),this[e]<<8|this[e+1]},a.prototype.readUint32LE=a.prototype.readUInt32LE=function(e,t){return e>>>=0,t||w(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+0x1000000*this[e+3]},a.prototype.readUint32BE=a.prototype.readUInt32BE=function(e,t){return e>>>=0,t||w(e,4,this.length),0x1000000*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},a.prototype.readIntLE=function(e,t,n){e>>>=0,t>>>=0,n||w(e,t,this.length);for(var r=this[e],i=1,o=0;++o<t&&(i*=256);)r+=this[e+o]*i;return r>=(i*=128)&&(r-=Math.pow(2,8*t)),r},a.prototype.readIntBE=function(e,t,n){e>>>=0,t>>>=0,n||w(e,t,this.length);for(var r=t,i=1,o=this[e+--r];r>0&&(i*=256);)o+=this[e+--r]*i;return o>=(i*=128)&&(o-=Math.pow(2,8*t)),o},a.prototype.readInt8=function(e,t){return(e>>>=0,t||w(e,1,this.length),128&this[e])?-((255-this[e]+1)*1):this[e]},a.prototype.readInt16LE=function(e,t){e>>>=0,t||w(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?0xffff0000|n:n},a.prototype.readInt16BE=function(e,t){e>>>=0,t||w(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?0xffff0000|n:n},a.prototype.readInt32LE=function(e,t){return e>>>=0,t||w(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},a.prototype.readInt32BE=function(e,t){return e>>>=0,t||w(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},a.prototype.readFloatLE=function(e,t){return e>>>=0,t||w(e,4,this.length),i.read(this,e,!0,23,4)},a.prototype.readFloatBE=function(e,t){return e>>>=0,t||w(e,4,this.length),i.read(this,e,!1,23,4)},a.prototype.readDoubleLE=function(e,t){return e>>>=0,t||w(e,8,this.length),i.read(this,e,!0,52,8)},a.prototype.readDoubleBE=function(e,t){return e>>>=0,t||w(e,8,this.length),i.read(this,e,!1,52,8)},a.prototype.writeUintLE=a.prototype.writeUIntLE=function(e,t,n,r){if(e*=1,t>>>=0,n>>>=0,!r){var i=Math.pow(2,8*n)-1;k(this,e,t,n,i,0)}var o=1,s=0;for(this[t]=255&e;++s<n&&(o*=256);)this[t+s]=e/o&255;return t+n},a.prototype.writeUintBE=a.prototype.writeUIntBE=function(e,t,n,r){if(e*=1,t>>>=0,n>>>=0,!r){var i=Math.pow(2,8*n)-1;k(this,e,t,n,i,0)}var o=n-1,s=1;for(this[t+o]=255&e;--o>=0&&(s*=256);)this[t+o]=e/s&255;return t+n},a.prototype.writeUint8=a.prototype.writeUInt8=function(e,t,n){return e*=1,t>>>=0,n||k(this,e,t,1,255,0),this[t]=255&e,t+1},a.prototype.writeUint16LE=a.prototype.writeUInt16LE=function(e,t,n){return e*=1,t>>>=0,n||k(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},a.prototype.writeUint16BE=a.prototype.writeUInt16BE=function(e,t,n){return e*=1,t>>>=0,n||k(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},a.prototype.writeUint32LE=a.prototype.writeUInt32LE=function(e,t,n){return e*=1,t>>>=0,n||k(this,e,t,4,0xffffffff,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},a.prototype.writeUint32BE=a.prototype.writeUInt32BE=function(e,t,n){return e*=1,t>>>=0,n||k(this,e,t,4,0xffffffff,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},a.prototype.writeIntLE=function(e,t,n,r){if(e*=1,t>>>=0,!r){var i=Math.pow(2,8*n-1);k(this,e,t,n,i-1,-i)}var o=0,s=1,a=0;for(this[t]=255&e;++o<n&&(s*=256);)e<0&&0===a&&0!==this[t+o-1]&&(a=1),this[t+o]=(e/s|0)-a&255;return t+n},a.prototype.writeIntBE=function(e,t,n,r){if(e*=1,t>>>=0,!r){var i=Math.pow(2,8*n-1);k(this,e,t,n,i-1,-i)}var o=n-1,s=1,a=0;for(this[t+o]=255&e;--o>=0&&(s*=256);)e<0&&0===a&&0!==this[t+o+1]&&(a=1),this[t+o]=(e/s|0)-a&255;return t+n},a.prototype.writeInt8=function(e,t,n){return e*=1,t>>>=0,n||k(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},a.prototype.writeInt16LE=function(e,t,n){return e*=1,t>>>=0,n||k(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},a.prototype.writeInt16BE=function(e,t,n){return e*=1,t>>>=0,n||k(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},a.prototype.writeInt32LE=function(e,t,n){return e*=1,t>>>=0,n||k(this,e,t,4,0x7fffffff,-0x80000000),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},a.prototype.writeInt32BE=function(e,t,n){return e*=1,t>>>=0,n||k(this,e,t,4,0x7fffffff,-0x80000000),e<0&&(e=0xffffffff+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},a.prototype.writeFloatLE=function(e,t,n){return O(this,e,t,!0,n)},a.prototype.writeFloatBE=function(e,t,n){return O(this,e,t,!1,n)},a.prototype.writeDoubleLE=function(e,t,n){return E(this,e,t,!0,n)},a.prototype.writeDoubleBE=function(e,t,n){return E(this,e,t,!1,n)},a.prototype.copy=function(e,t,n,r){if(!a.isBuffer(e))throw TypeError("argument should be a Buffer");if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<n&&(r=n),r===n||0===e.length||0===this.length)return 0;if(t<0)throw RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw RangeError("Index out of range");if(r<0)throw RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);var i=r-n;return this===e&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(t,n,r):Uint8Array.prototype.set.call(e,this.subarray(n,r),t),i},a.prototype.fill=function(e,t,n,r){if("string"==typeof e){if("string"==typeof t?(r=t,t=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),void 0!==r&&"string"!=typeof r)throw TypeError("encoding must be a string");if("string"==typeof r&&!a.isEncoding(r))throw TypeError("Unknown encoding: "+r);if(1===e.length){var i,o=e.charCodeAt(0);("utf8"===r&&o<128||"latin1"===r)&&(e=o)}}else"number"==typeof e?e&=255:"boolean"==typeof e&&(e=Number(e));if(t<0||this.length<t||this.length<n)throw RangeError("Out of range index");if(n<=t)return this;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"==typeof e)for(i=t;i<n;++i)this[i]=e;else{var s=a.isBuffer(e)?e:a.from(e,r),u=s.length;if(0===u)throw TypeError('The value "'+e+'" is invalid for argument "value"');for(i=0;i<n-t;++i)this[i+t]=s[i%u]}return this};var A=/[^+/0-9A-Za-z-_]/g;function j(e,t){t=t||1/0;for(var n,r=e.length,i=null,o=[],s=0;s<r;++s){if((n=e.charCodeAt(s))>55295&&n<57344){if(!i){if(n>56319||s+1===r){(t-=3)>-1&&o.push(239,191,189);continue}i=n;continue}if(n<56320){(t-=3)>-1&&o.push(239,191,189),i=n;continue}n=(i-55296<<10|n-56320)+65536}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,n<128){if((t-=1)<0)break;o.push(n)}else if(n<2048){if((t-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else if(n<1114112){if((t-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}else throw Error("Invalid code point")}return o}function S(e){return r.toByteArray(function(e){if((e=(e=e.split("=")[0]).trim().replace(A,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function q(e,t,n,r){for(var i=0;i<r&&!(i+n>=t.length)&&!(i>=e.length);++i)t[i+n]=e[i];return i}function C(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}var R=function(){for(var e="0123456789abcdef",t=Array(256),n=0;n<16;++n)for(var r=16*n,i=0;i<16;++i)t[r+i]=e[n]+e[i];return t}()},307:e=>{!function(){var t={229:function(e){var t,n,r,i=e.exports={};function o(){throw Error("setTimeout has not been defined")}function s(){throw Error("clearTimeout has not been defined")}try{t="function"==typeof setTimeout?setTimeout:o}catch(e){t=o}try{n="function"==typeof clearTimeout?clearTimeout:s}catch(e){n=s}function a(e){if(t===setTimeout)return setTimeout(e,0);if((t===o||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(n){try{return t.call(null,e,0)}catch(n){return t.call(this,e,0)}}}var u=[],c=!1,l=-1;function f(){c&&r&&(c=!1,r.length?u=r.concat(u):l=-1,u.length&&d())}function d(){if(!c){var e=a(f);c=!0;for(var t=u.length;t;){for(r=u,u=[];++l<t;)r&&r[l].run();l=-1,t=u.length}r=null,c=!1,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===s||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}(e)}}function h(e,t){this.fun=e,this.array=t}function p(){}i.nextTick=function(e){var t=Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];u.push(new h(e,t)),1!==u.length||c||a(d)},h.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=p,i.addListener=p,i.once=p,i.off=p,i.removeListener=p,i.removeAllListeners=p,i.emit=p,i.prependListener=p,i.prependOnceListener=p,i.listeners=function(e){return[]},i.binding=function(e){throw Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw Error("process.chdir is not supported")},i.umask=function(){return 0}}},n={};function r(e){var i=n[e];if(void 0!==i)return i.exports;var o=n[e]={exports:{}},s=!0;try{t[e](o,o.exports,r),s=!1}finally{s&&delete n[e]}return o.exports}r.ab="//",e.exports=r(229)}()},390:()=>{"use strict";try{self["workbox:strategies:7.2.0"]&&_()}catch(e){}},447:()=>{"use strict";try{self["workbox:precaching:7.2.0"]&&_()}catch(e){}},526:(e,t)=>{"use strict";t.byteLength=function(e){var t=u(e),n=t[0],r=t[1];return(n+r)*3/4-r},t.toByteArray=function(e){var t,n,o=u(e),s=o[0],a=o[1],c=new i((s+a)*3/4-a),l=0,f=a>0?s-4:s;for(n=0;n<f;n+=4)t=r[e.charCodeAt(n)]<<18|r[e.charCodeAt(n+1)]<<12|r[e.charCodeAt(n+2)]<<6|r[e.charCodeAt(n+3)],c[l++]=t>>16&255,c[l++]=t>>8&255,c[l++]=255&t;return 2===a&&(t=r[e.charCodeAt(n)]<<2|r[e.charCodeAt(n+1)]>>4,c[l++]=255&t),1===a&&(t=r[e.charCodeAt(n)]<<10|r[e.charCodeAt(n+1)]<<4|r[e.charCodeAt(n+2)]>>2,c[l++]=t>>8&255,c[l++]=255&t),c},t.fromByteArray=function(e){for(var t,r=e.length,i=r%3,o=[],s=0,a=r-i;s<a;s+=16383)o.push(function(e,t,r){for(var i,o=[],s=t;s<r;s+=3)i=(e[s]<<16&0xff0000)+(e[s+1]<<8&65280)+(255&e[s+2]),o.push(n[i>>18&63]+n[i>>12&63]+n[i>>6&63]+n[63&i]);return o.join("")}(e,s,s+16383>a?a:s+16383));return 1===i?o.push(n[(t=e[r-1])>>2]+n[t<<4&63]+"=="):2===i&&o.push(n[(t=(e[r-2]<<8)+e[r-1])>>10]+n[t>>4&63]+n[t<<2&63]+"="),o.join("")};for(var n=[],r=[],i="undefined"!=typeof Uint8Array?Uint8Array:Array,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,a=o.length;s<a;++s)n[s]=o[s],r[o.charCodeAt(s)]=s;function u(e){var t=e.length;if(t%4>0)throw Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");-1===n&&(n=t);var r=n===t?0:4-n%4;return[n,r]}r[45]=62,r[95]=63},655:(e,t)=>{"use strict";function n(e,t,n){var r=n[n.length-1];e===r.element&&(n.pop(),r=n[n.length-1]);var i=r.element,o=r.index;Array.isArray(i)?i.push(e):o===t.length-2?i[t.pop()]=e:t.push(e)}t.stringify=function(e){var t,n,r,i,o,s,a,u,c,l,f,d=[];d.push({obj:e});for(var h="";t=d.pop();)if(n=t.obj,r=t.prefix||"",i=t.val||"",h+=r,i)h+=i;else if("object"!=typeof n)h+=void 0===n?null:JSON.stringify(n);else if(null===n)h+="null";else if(Array.isArray(n)){for(d.push({val:"]"}),o=n.length-1;o>=0;o--)s=0===o?"":",",d.push({obj:n[o],prefix:s});d.push({val:"["})}else{for(u in a=[],n)n.hasOwnProperty(u)&&a.push(u);for(d.push({val:"}"}),o=a.length-1;o>=0;o--)l=n[c=a[o]],f=(o>0?",":"")+JSON.stringify(c)+":",d.push({obj:l,prefix:f});d.push({val:"{"})}return h},t.parse=function(e){for(var t,r,i,o,s,a,u,c,l,f=[],d=[],h=0;;){if("}"===(t=e[h++])||"]"===t||void 0===t)if(1===f.length)return f.pop();else{n(f.pop(),f,d);continue}switch(t){case" ":case"	":case"\n":case":":case",":break;case"n":h+=3,n(null,f,d);break;case"t":h+=3,n(!0,f,d);break;case"f":h+=4,n(!1,f,d);break;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":case"-":for(r="",h--;;)if(i=e[h++],/[\d\.\-e\+]/.test(i))r+=i;else{h--;break}n(parseFloat(r),f,d);break;case'"':for(o="",s=void 0,a=0;;)if('"'!==(u=e[h++])||"\\"===s&&a%2==1)o+=u,"\\"===(s=u)?a++:a=0;else break;n(JSON.parse('"'+o+'"'),f,d);break;case"[":c={element:[],index:f.length},f.push(c.element),d.push(c);break;case"{":l={element:{},index:f.length},f.push(l.element),d.push(l);break;default:throw Error("unexpectedly reached end of input: "+t)}}}},735:e=>{e.exports=function(e){"use strict";var t=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"];function n(e,t){var n=e[0],r=e[1],i=e[2],o=e[3];n+=(r&i|~r&o)+t[0]-0x28955b88|0,o+=((n=(n<<7|n>>>25)+r|0)&r|~n&i)+t[1]-0x173848aa|0,i+=((o=(o<<12|o>>>20)+n|0)&n|~o&r)+t[2]+0x242070db|0,r+=((i=(i<<17|i>>>15)+o|0)&o|~i&n)+t[3]-0x3e423112|0,n+=((r=(r<<22|r>>>10)+i|0)&i|~r&o)+t[4]-0xa83f051|0,o+=((n=(n<<7|n>>>25)+r|0)&r|~n&i)+t[5]+0x4787c62a|0,i+=((o=(o<<12|o>>>20)+n|0)&n|~o&r)+t[6]-0x57cfb9ed|0,r+=((i=(i<<17|i>>>15)+o|0)&o|~i&n)+t[7]-0x2b96aff|0,n+=((r=(r<<22|r>>>10)+i|0)&i|~r&o)+t[8]+0x698098d8|0,o+=((n=(n<<7|n>>>25)+r|0)&r|~n&i)+t[9]-0x74bb0851|0,i+=((o=(o<<12|o>>>20)+n|0)&n|~o&r)+t[10]-42063|0,r+=((i=(i<<17|i>>>15)+o|0)&o|~i&n)+t[11]-0x76a32842|0,n+=((r=(r<<22|r>>>10)+i|0)&i|~r&o)+t[12]+0x6b901122|0,o+=((n=(n<<7|n>>>25)+r|0)&r|~n&i)+t[13]-0x2678e6d|0,i+=((o=(o<<12|o>>>20)+n|0)&n|~o&r)+t[14]-0x5986bc72|0,r+=((i=(i<<17|i>>>15)+o|0)&o|~i&n)+t[15]+0x49b40821|0,n+=((r=(r<<22|r>>>10)+i|0)&o|i&~o)+t[1]-0x9e1da9e|0,o+=((n=(n<<5|n>>>27)+r|0)&i|r&~i)+t[6]-0x3fbf4cc0|0,i+=((o=(o<<9|o>>>23)+n|0)&r|n&~r)+t[11]+0x265e5a51|0,r+=((i=(i<<14|i>>>18)+o|0)&n|o&~n)+t[0]-0x16493856|0,n+=((r=(r<<20|r>>>12)+i|0)&o|i&~o)+t[5]-0x29d0efa3|0,o+=((n=(n<<5|n>>>27)+r|0)&i|r&~i)+t[10]+0x2441453|0,i+=((o=(o<<9|o>>>23)+n|0)&r|n&~r)+t[15]-0x275e197f|0,r+=((i=(i<<14|i>>>18)+o|0)&n|o&~n)+t[4]-0x182c0438|0,n+=((r=(r<<20|r>>>12)+i|0)&o|i&~o)+t[9]+0x21e1cde6|0,o+=((n=(n<<5|n>>>27)+r|0)&i|r&~i)+t[14]-0x3cc8f82a|0,i+=((o=(o<<9|o>>>23)+n|0)&r|n&~r)+t[3]-0xb2af279|0,r+=((i=(i<<14|i>>>18)+o|0)&n|o&~n)+t[8]+0x455a14ed|0,n+=((r=(r<<20|r>>>12)+i|0)&o|i&~o)+t[13]-0x561c16fb|0,o+=((n=(n<<5|n>>>27)+r|0)&i|r&~i)+t[2]-0x3105c08|0,i+=((o=(o<<9|o>>>23)+n|0)&r|n&~r)+t[7]+0x676f02d9|0,r+=((i=(i<<14|i>>>18)+o|0)&n|o&~n)+t[12]-0x72d5b376|0,n+=((r=(r<<20|r>>>12)+i|0)^i^o)+t[5]-378558|0,o+=((n=(n<<4|n>>>28)+r|0)^r^i)+t[8]-0x788e097f|0,i+=((o=(o<<11|o>>>21)+n|0)^n^r)+t[11]+0x6d9d6122|0,r+=((i=(i<<16|i>>>16)+o|0)^o^n)+t[14]-0x21ac7f4|0,n+=((r=(r<<23|r>>>9)+i|0)^i^o)+t[1]-0x5b4115bc|0,o+=((n=(n<<4|n>>>28)+r|0)^r^i)+t[4]+0x4bdecfa9|0,i+=((o=(o<<11|o>>>21)+n|0)^n^r)+t[7]-0x944b4a0|0,r+=((i=(i<<16|i>>>16)+o|0)^o^n)+t[10]-0x41404390|0,n+=((r=(r<<23|r>>>9)+i|0)^i^o)+t[13]+0x289b7ec6|0,o+=((n=(n<<4|n>>>28)+r|0)^r^i)+t[0]-0x155ed806|0,i+=((o=(o<<11|o>>>21)+n|0)^n^r)+t[3]-0x2b10cf7b|0,r+=((i=(i<<16|i>>>16)+o|0)^o^n)+t[6]+0x4881d05|0,n+=((r=(r<<23|r>>>9)+i|0)^i^o)+t[9]-0x262b2fc7|0,o+=((n=(n<<4|n>>>28)+r|0)^r^i)+t[12]-0x1924661b|0,i+=((o=(o<<11|o>>>21)+n|0)^n^r)+t[15]+0x1fa27cf8|0,r+=((i=(i<<16|i>>>16)+o|0)^o^n)+t[2]-0x3b53a99b|0,r=(r<<23|r>>>9)+i|0,n+=(i^(r|~o))+t[0]-0xbd6ddbc|0,n=(n<<6|n>>>26)+r|0,o+=(r^(n|~i))+t[7]+0x432aff97|0,o=(o<<10|o>>>22)+n|0,i+=(n^(o|~r))+t[14]-0x546bdc59|0,i=(i<<15|i>>>17)+o|0,r+=(o^(i|~n))+t[5]-0x36c5fc7|0,r=(r<<21|r>>>11)+i|0,n+=(i^(r|~o))+t[12]+0x655b59c3|0,n=(n<<6|n>>>26)+r|0,o+=(r^(n|~i))+t[3]-0x70f3336e|0,o=(o<<10|o>>>22)+n|0,i+=(n^(o|~r))+t[10]-1051523|0,i=(i<<15|i>>>17)+o|0,r+=(o^(i|~n))+t[1]-0x7a7ba22f|0,r=(r<<21|r>>>11)+i|0,n+=(i^(r|~o))+t[8]+0x6fa87e4f|0,n=(n<<6|n>>>26)+r|0,o+=(r^(n|~i))+t[15]-0x1d31920|0,o=(o<<10|o>>>22)+n|0,i+=(n^(o|~r))+t[6]-0x5cfebcec|0,i=(i<<15|i>>>17)+o|0,r+=(o^(i|~n))+t[13]+0x4e0811a1|0,r=(r<<21|r>>>11)+i|0,n+=(i^(r|~o))+t[4]-0x8ac817e|0,n=(n<<6|n>>>26)+r|0,o+=(r^(n|~i))+t[11]-0x42c50dcb|0,o=(o<<10|o>>>22)+n|0,i+=(n^(o|~r))+t[2]+0x2ad7d2bb|0,i=(i<<15|i>>>17)+o|0,r+=(o^(i|~n))+t[9]-0x14792c6f|0,r=(r<<21|r>>>11)+i|0,e[0]=n+e[0]|0,e[1]=r+e[1]|0,e[2]=i+e[2]|0,e[3]=o+e[3]|0}function r(e){var t,n=[];for(t=0;t<64;t+=4)n[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return n}function i(e){var t,n=[];for(t=0;t<64;t+=4)n[t>>2]=e[t]+(e[t+1]<<8)+(e[t+2]<<16)+(e[t+3]<<24);return n}function o(e){var t,i,o,s,a,u,c=e.length,l=[0x67452301,-0x10325477,-0x67452302,0x10325476];for(t=64;t<=c;t+=64)n(l,r(e.substring(t-64,t)));for(i=(e=e.substring(t-64)).length,o=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],t=0;t<i;t+=1)o[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(o[t>>2]|=128<<(t%4<<3),t>55)for(n(l,o),t=0;t<16;t+=1)o[t]=0;return a=parseInt((s=(s=8*c).toString(16).match(/(.*?)(.{0,8})$/))[2],16),u=parseInt(s[1],16)||0,o[14]=a,o[15]=u,n(l,o),l}function s(e){var n;for(n=0;n<e.length;n+=1)e[n]=function(e){var n,r="";for(n=0;n<4;n+=1)r+=t[e>>8*n+4&15]+t[e>>8*n&15];return r}(e[n]);return e.join("")}function a(e){return/[\u0080-\uFFFF]/.test(e)&&(e=unescape(encodeURIComponent(e))),e}function u(e){var t,n=[],r=e.length;for(t=0;t<r-1;t+=2)n.push(parseInt(e.substr(t,2),16));return String.fromCharCode.apply(String,n)}function c(){this.reset()}return s(o("hello")),"undefined"==typeof ArrayBuffer||ArrayBuffer.prototype.slice||function(){function e(e,t){return(e=0|e||0)<0?Math.max(e+t,0):Math.min(e,t)}ArrayBuffer.prototype.slice=function(t,n){var r,i,o,s,a=this.byteLength,u=e(t,a),c=a;return(void 0!==n&&(c=e(n,a)),u>c)?new ArrayBuffer(0):(o=new Uint8Array(i=new ArrayBuffer(r=c-u)),s=new Uint8Array(this,u,r),o.set(s),i)}}(),c.prototype.append=function(e){return this.appendBinary(a(e)),this},c.prototype.appendBinary=function(e){this._buff+=e,this._length+=e.length;var t,i=this._buff.length;for(t=64;t<=i;t+=64)n(this._hash,r(this._buff.substring(t-64,t)));return this._buff=this._buff.substring(t-64),this},c.prototype.end=function(e){var t,n,r=this._buff,i=r.length,o=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<i;t+=1)o[t>>2]|=r.charCodeAt(t)<<(t%4<<3);return this._finish(o,i),n=s(this._hash),e&&(n=u(n)),this.reset(),n},c.prototype.reset=function(){return this._buff="",this._length=0,this._hash=[0x67452301,-0x10325477,-0x67452302,0x10325476],this},c.prototype.getState=function(){return{buff:this._buff,length:this._length,hash:this._hash.slice()}},c.prototype.setState=function(e){return this._buff=e.buff,this._length=e.length,this._hash=e.hash,this},c.prototype.destroy=function(){delete this._hash,delete this._buff,delete this._length},c.prototype._finish=function(e,t){var r,i,o,s=t;if(e[s>>2]|=128<<(s%4<<3),s>55)for(n(this._hash,e),s=0;s<16;s+=1)e[s]=0;i=parseInt((r=(r=8*this._length).toString(16).match(/(.*?)(.{0,8})$/))[2],16),o=parseInt(r[1],16)||0,e[14]=i,e[15]=o,n(this._hash,e)},c.hash=function(e,t){return c.hashBinary(a(e),t)},c.hashBinary=function(e,t){var n=s(o(e));return t?u(n):n},c.ArrayBuffer=function(){this.reset()},c.ArrayBuffer.prototype.append=function(e){var t,r,o,s=(t=this._buff.buffer,(r=new Uint8Array(t.byteLength+e.byteLength)).set(new Uint8Array(t)),r.set(new Uint8Array(e),t.byteLength),r),a=s.length;for(this._length+=e.byteLength,o=64;o<=a;o+=64)n(this._hash,i(s.subarray(o-64,o)));return this._buff=new Uint8Array(o-64<a?s.buffer.slice(o-64):0),this},c.ArrayBuffer.prototype.end=function(e){var t,n,r=this._buff,i=r.length,o=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<i;t+=1)o[t>>2]|=r[t]<<(t%4<<3);return this._finish(o,i),n=s(this._hash),e&&(n=u(n)),this.reset(),n},c.ArrayBuffer.prototype.reset=function(){return this._buff=new Uint8Array(0),this._length=0,this._hash=[0x67452301,-0x10325477,-0x67452302,0x10325476],this},c.ArrayBuffer.prototype.getState=function(){var e,t=c.prototype.getState.call(this);return e=t.buff,t.buff=String.fromCharCode.apply(null,new Uint8Array(e)),t},c.ArrayBuffer.prototype.setState=function(e){return e.buff=function(e,t){var n,r=e.length,i=new ArrayBuffer(r),o=new Uint8Array(i);for(n=0;n<r;n+=1)o[n]=e.charCodeAt(n);return t?o:i}(e.buff,!0),c.prototype.setState.call(this,e)},c.ArrayBuffer.prototype.destroy=c.prototype.destroy,c.ArrayBuffer.prototype._finish=c.prototype._finish,c.ArrayBuffer.hash=function(e,t){var r=s(function(e){var t,r,o,s,a,u,c=e.length,l=[0x67452301,-0x10325477,-0x67452302,0x10325476];for(t=64;t<=c;t+=64)n(l,i(e.subarray(t-64,t)));for(r=(e=t-64<c?e.subarray(t-64):new Uint8Array(0)).length,o=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],t=0;t<r;t+=1)o[t>>2]|=e[t]<<(t%4<<3);if(o[t>>2]|=128<<(t%4<<3),t>55)for(n(l,o),t=0;t<16;t+=1)o[t]=0;return a=parseInt((s=(s=8*c).toString(16).match(/(.*?)(.{0,8})$/))[2],16),u=parseInt(s[1],16)||0,o[14]=a,o[15]=u,n(l,o),l}(new Uint8Array(e)));return t?u(r):r},c}()},836:(e,t,n)=>{"use strict";var r,i;e.exports=(null==(r=n.g.process)?void 0:r.env)&&"object"==typeof(null==(i=n.g.process)?void 0:i.env)?n.g.process:n(307)}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var o=t[r]={exports:{}},s=!0;try{e[r](o,o.exports,n),s=!1}finally{s&&delete t[r]}return o.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{"use strict";let e,t,r,i;var o,s,a,u,c,l,f,d={};n.r(d),n.d(d,{hasBrowserEnv:()=>eJ,hasStandardBrowserEnv:()=>eV,hasStandardBrowserWebWorkerEnv:()=>eH,navigator:()=>eW,origin:()=>eQ}),n(136);let h=(e,...t)=>{let n=e;return t.length>0&&(n+=` :: ${JSON.stringify(t)}`),n};class p extends Error{constructor(e,t){super(h(e,t)),this.name=e,this.details=t}}let y={googleAnalytics:"googleAnalytics",precache:"precache-v2",prefix:"workbox",runtime:"runtime",suffix:"undefined"!=typeof registration?registration.scope:""},g=e=>[y.prefix,e,y.suffix].filter(e=>e&&e.length>0).join("-"),v={getPrecacheName:e=>e||g(y.precache),getRuntimeName:e=>e||g(y.runtime)};function m(e,t){let n=t();return e.waitUntil(n),n}n(447);class b{constructor(){this.updatedURLs=[],this.notUpdatedURLs=[],this.handlerWillStart=async({request:e,state:t})=>{t&&(t.originalRequest=e)},this.cachedResponseWillBeUsed=async({event:e,state:t,cachedResponse:n})=>{if("install"===e.type&&t&&t.originalRequest&&t.originalRequest instanceof Request){let e=t.originalRequest.url;n?this.notUpdatedURLs.push(e):this.updatedURLs.push(e)}return n}}}class w{constructor({precacheController:e}){this.cacheKeyWillBeUsed=async({request:e,params:t})=>{let n=(null==t?void 0:t.cacheKey)||this._precacheController.getCacheKeyForURL(e.url);return n?new Request(n,{headers:e.headers}):e},this._precacheController=e}}async function k(t,n){let r=null;if(t.url&&(r=new URL(t.url).origin),r!==self.location.origin)throw new p("cross-origin-copy-response",{origin:r});let i=t.clone(),o={headers:new Headers(i.headers),status:i.status,statusText:i.statusText},s=n?n(o):o,a=!function(){if(void 0===e){let t=new Response("");if("body"in t)try{new Response(t.body),e=!0}catch(t){e=!1}e=!1}return e}()?await i.blob():i.body;return new Response(a,s)}let x=e=>new URL(String(e),location.href).href.replace(RegExp(`^${location.origin}`),"");function O(e,t){let n=new URL(e);for(let e of t)n.searchParams.delete(e);return n.href}async function E(e,t,n,r){let i=O(t.url,n);if(t.url===i)return e.match(t,r);let o=Object.assign(Object.assign({},r),{ignoreSearch:!0});for(let s of(await e.keys(t,o)))if(i===O(s.url,n))return e.match(s,r)}class A{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}let j=new Set;async function S(){for(let e of j)await e()}function q(e){return"string"==typeof e?new Request(e):e}n(390);class C{constructor(e,t){for(let n of(this._cacheKeys={},Object.assign(this,t),this.event=t.event,this._strategy=e,this._handlerDeferred=new A,this._extendLifetimePromises=[],this._plugins=[...e.plugins],this._pluginStateMap=new Map,this._plugins))this._pluginStateMap.set(n,{});this.event.waitUntil(this._handlerDeferred.promise)}async fetch(e){let{event:t}=this,n=q(e);if("navigate"===n.mode&&t instanceof FetchEvent&&t.preloadResponse){let e=await t.preloadResponse;if(e)return e}let r=this.hasCallback("fetchDidFail")?n.clone():null;try{for(let e of this.iterateCallbacks("requestWillFetch"))n=await e({request:n.clone(),event:t})}catch(e){if(e instanceof Error)throw new p("plugin-error-request-will-fetch",{thrownErrorMessage:e.message})}let i=n.clone();try{let e;for(let r of(e=await fetch(n,"navigate"===n.mode?void 0:this._strategy.fetchOptions),this.iterateCallbacks("fetchDidSucceed")))e=await r({event:t,request:i,response:e});return e}catch(e){throw r&&await this.runCallbacks("fetchDidFail",{error:e,event:t,originalRequest:r.clone(),request:i.clone()}),e}}async fetchAndCachePut(e){let t=await this.fetch(e),n=t.clone();return this.waitUntil(this.cachePut(e,n)),t}async cacheMatch(e){let t,n=q(e),{cacheName:r,matchOptions:i}=this._strategy,o=await this.getCacheKey(n,"read"),s=Object.assign(Object.assign({},i),{cacheName:r});for(let e of(t=await caches.match(o,s),this.iterateCallbacks("cachedResponseWillBeUsed")))t=await e({cacheName:r,matchOptions:i,cachedResponse:t,request:o,event:this.event})||void 0;return t}async cachePut(e,t){let n=q(e);await new Promise(e=>setTimeout(e,0));let r=await this.getCacheKey(n,"write");if(!t)throw new p("cache-put-with-no-response",{url:x(r.url)});let i=await this._ensureResponseSafeToCache(t);if(!i)return!1;let{cacheName:o,matchOptions:s}=this._strategy,a=await self.caches.open(o),u=this.hasCallback("cacheDidUpdate"),c=u?await E(a,r.clone(),["__WB_REVISION__"],s):null;try{await a.put(r,u?i.clone():i)}catch(e){if(e instanceof Error)throw"QuotaExceededError"===e.name&&await S(),e}for(let e of this.iterateCallbacks("cacheDidUpdate"))await e({cacheName:o,oldResponse:c,newResponse:i.clone(),request:r,event:this.event});return!0}async getCacheKey(e,t){let n=`${e.url} | ${t}`;if(!this._cacheKeys[n]){let r=e;for(let e of this.iterateCallbacks("cacheKeyWillBeUsed"))r=q(await e({mode:t,request:r,event:this.event,params:this.params}));this._cacheKeys[n]=r}return this._cacheKeys[n]}hasCallback(e){for(let t of this._strategy.plugins)if(e in t)return!0;return!1}async runCallbacks(e,t){for(let n of this.iterateCallbacks(e))await n(t)}*iterateCallbacks(e){for(let t of this._strategy.plugins)if("function"==typeof t[e]){let n=this._pluginStateMap.get(t),r=r=>{let i=Object.assign(Object.assign({},r),{state:n});return t[e](i)};yield r}}waitUntil(e){return this._extendLifetimePromises.push(e),e}async doneWaiting(){let e;for(;e=this._extendLifetimePromises.shift();)await e}destroy(){this._handlerDeferred.resolve(null)}async _ensureResponseSafeToCache(e){let t=e,n=!1;for(let e of this.iterateCallbacks("cacheWillUpdate"))if(t=await e({request:this.request,response:t,event:this.event})||void 0,n=!0,!t)break;return!n&&t&&200!==t.status&&(t=void 0),t}}class R{constructor(e={}){this.cacheName=v.getRuntimeName(e.cacheName),this.plugins=e.plugins||[],this.fetchOptions=e.fetchOptions,this.matchOptions=e.matchOptions}handle(e){let[t]=this.handleAll(e);return t}handleAll(e){e instanceof FetchEvent&&(e={event:e,request:e.request});let t=e.event,n="string"==typeof e.request?new Request(e.request):e.request,r=new C(this,{event:t,request:n,params:"params"in e?e.params:void 0}),i=this._getResponse(r,n,t),o=this._awaitComplete(i,r,n,t);return[i,o]}async _getResponse(e,t,n){let r;await e.runCallbacks("handlerWillStart",{event:n,request:t});try{if(!(r=await this._handle(t,e))||"error"===r.type)throw new p("no-response",{url:t.url})}catch(i){if(i instanceof Error){for(let o of e.iterateCallbacks("handlerDidError"))if(r=await o({error:i,event:n,request:t}))break}if(r);else throw i}for(let i of e.iterateCallbacks("handlerWillRespond"))r=await i({event:n,request:t,response:r});return r}async _awaitComplete(e,t,n,r){let i,o;try{i=await e}catch(e){}try{await t.runCallbacks("handlerDidRespond",{event:r,request:n,response:i}),await t.doneWaiting()}catch(e){e instanceof Error&&(o=e)}if(await t.runCallbacks("handlerDidComplete",{event:r,request:n,response:i,error:o}),t.destroy(),o)throw o}}class T extends R{constructor(e={}){e.cacheName=v.getPrecacheName(e.cacheName),super(e),this._fallbackToNetwork=!1!==e.fallbackToNetwork,this.plugins.push(T.copyRedirectedCacheableResponsesPlugin)}async _handle(e,t){let n=await t.cacheMatch(e);return n||(t.event&&"install"===t.event.type?await this._handleInstall(e,t):await this._handleFetch(e,t))}async _handleFetch(e,t){let n,r=t.params||{};if(this._fallbackToNetwork){let i=r.integrity,o=e.integrity,s=!o||o===i;n=await t.fetch(new Request(e,{integrity:"no-cors"!==e.mode?o||i:void 0})),i&&s&&"no-cors"!==e.mode&&(this._useDefaultCacheabilityPluginIfNeeded(),await t.cachePut(e,n.clone()))}else throw new p("missing-precache-entry",{cacheName:this.cacheName,url:e.url});return n}async _handleInstall(e,t){this._useDefaultCacheabilityPluginIfNeeded();let n=await t.fetch(e);if(!await t.cachePut(e,n.clone()))throw new p("bad-precaching-response",{url:e.url,status:n.status});return n}_useDefaultCacheabilityPluginIfNeeded(){let e=null,t=0;for(let[n,r]of this.plugins.entries())r!==T.copyRedirectedCacheableResponsesPlugin&&(r===T.defaultPrecacheCacheabilityPlugin&&(e=n),r.cacheWillUpdate&&t++);0===t?this.plugins.push(T.defaultPrecacheCacheabilityPlugin):t>1&&null!==e&&this.plugins.splice(e,1)}}T.defaultPrecacheCacheabilityPlugin={cacheWillUpdate:async({response:e})=>!e||e.status>=400?null:e},T.copyRedirectedCacheableResponsesPlugin={cacheWillUpdate:async({response:e})=>e.redirected?await k(e):e};class ${constructor({cacheName:e,plugins:t=[],fallbackToNetwork:n=!0}={}){this._urlsToCacheKeys=new Map,this._urlsToCacheModes=new Map,this._cacheKeysToIntegrities=new Map,this._strategy=new T({cacheName:v.getPrecacheName(e),plugins:[...t,new w({precacheController:this})],fallbackToNetwork:n}),this.install=this.install.bind(this),this.activate=this.activate.bind(this)}get strategy(){return this._strategy}precache(e){this.addToCacheList(e),this._installAndActiveListenersAdded||(self.addEventListener("install",this.install),self.addEventListener("activate",this.activate),this._installAndActiveListenersAdded=!0)}addToCacheList(e){let t=[];for(let n of e){"string"==typeof n?t.push(n):n&&void 0===n.revision&&t.push(n.url);let{cacheKey:e,url:r}=function(e){if(!e)throw new p("add-to-cache-list-unexpected-type",{entry:e});if("string"==typeof e){let t=new URL(e,location.href);return{cacheKey:t.href,url:t.href}}let{revision:t,url:n}=e;if(!n)throw new p("add-to-cache-list-unexpected-type",{entry:e});if(!t){let e=new URL(n,location.href);return{cacheKey:e.href,url:e.href}}let r=new URL(n,location.href),i=new URL(n,location.href);return r.searchParams.set("__WB_REVISION__",t),{cacheKey:r.href,url:i.href}}(n),i="string"!=typeof n&&n.revision?"reload":"default";if(this._urlsToCacheKeys.has(r)&&this._urlsToCacheKeys.get(r)!==e)throw new p("add-to-cache-list-conflicting-entries",{firstEntry:this._urlsToCacheKeys.get(r),secondEntry:e});if("string"!=typeof n&&n.integrity){if(this._cacheKeysToIntegrities.has(e)&&this._cacheKeysToIntegrities.get(e)!==n.integrity)throw new p("add-to-cache-list-conflicting-integrities",{url:r});this._cacheKeysToIntegrities.set(e,n.integrity)}this._urlsToCacheKeys.set(r,e),this._urlsToCacheModes.set(r,i),t.length>0&&console.warn(`Workbox is precaching URLs without revision info: ${t.join(", ")}
This is generally NOT safe. Learn more at https://bit.ly/wb-precache`)}}install(e){return m(e,async()=>{let t=new b;for(let[n,r]of(this.strategy.plugins.push(t),this._urlsToCacheKeys)){let t=this._cacheKeysToIntegrities.get(r),i=this._urlsToCacheModes.get(n),o=new Request(n,{integrity:t,cache:i,credentials:"same-origin"});await Promise.all(this.strategy.handleAll({params:{cacheKey:r},request:o,event:e}))}let{updatedURLs:n,notUpdatedURLs:r}=t;return{updatedURLs:n,notUpdatedURLs:r}})}activate(e){return m(e,async()=>{let e=await self.caches.open(this.strategy.cacheName),t=await e.keys(),n=new Set(this._urlsToCacheKeys.values()),r=[];for(let i of t)n.has(i.url)||(await e.delete(i),r.push(i.url));return{deletedURLs:r}})}getURLsToCacheKeys(){return this._urlsToCacheKeys}getCachedURLs(){return[...this._urlsToCacheKeys.keys()]}getCacheKeyForURL(e){let t=new URL(e,location.href);return this._urlsToCacheKeys.get(t.href)}getIntegrityForCacheKey(e){return this._cacheKeysToIntegrities.get(e)}async matchPrecache(e){let t=e instanceof Request?e.url:e,n=this.getCacheKeyForURL(t);if(n)return(await self.caches.open(this.strategy.cacheName)).match(n)}createHandlerBoundToURL(e){let t=this.getCacheKeyForURL(e);if(!t)throw new p("non-precached-url",{url:e});return n=>(n.request=new Request(e),n.params=Object.assign({cacheKey:t},n.params),this.strategy.handle(n))}}let B=()=>(t||(t=new $),t);n(227);let P=e=>e&&"object"==typeof e?e:{handle:e};class L{constructor(e,t,n="GET"){this.handler=P(t),this.match=e,this.method=n}setCatchHandler(e){this.catchHandler=P(e)}}class U extends L{constructor(e,t,n){super(({url:t})=>{let n=e.exec(t.href);if(n)return t.origin!==location.origin&&0!==n.index?void 0:n.slice(1)},t,n)}}class D{constructor(){this._routes=new Map,this._defaultHandlerMap=new Map}get routes(){return this._routes}addFetchListener(){self.addEventListener("fetch",e=>{let{request:t}=e,n=this.handleRequest({request:t,event:e});n&&e.respondWith(n)})}addCacheListener(){self.addEventListener("message",e=>{if(e.data&&"CACHE_URLS"===e.data.type){let{payload:t}=e.data,n=Promise.all(t.urlsToCache.map(t=>{"string"==typeof t&&(t=[t]);let n=new Request(...t);return this.handleRequest({request:n,event:e})}));e.waitUntil(n),e.ports&&e.ports[0]&&n.then(()=>e.ports[0].postMessage(!0))}})}handleRequest({request:e,event:t}){let n,r=new URL(e.url,location.href);if(!r.protocol.startsWith("http"))return;let i=r.origin===location.origin,{params:o,route:s}=this.findMatchingRoute({event:t,request:e,sameOrigin:i,url:r}),a=s&&s.handler,u=e.method;if(!a&&this._defaultHandlerMap.has(u)&&(a=this._defaultHandlerMap.get(u)),!a)return;try{n=a.handle({url:r,request:e,event:t,params:o})}catch(e){n=Promise.reject(e)}let c=s&&s.catchHandler;return n instanceof Promise&&(this._catchHandler||c)&&(n=n.catch(async n=>{if(c)try{return await c.handle({url:r,request:e,event:t,params:o})}catch(e){e instanceof Error&&(n=e)}if(this._catchHandler)return this._catchHandler.handle({url:r,request:e,event:t});throw n})),n}findMatchingRoute({url:e,sameOrigin:t,request:n,event:r}){for(let i of this._routes.get(n.method)||[]){let o,s=i.match({url:e,sameOrigin:t,request:n,event:r});if(s)return Array.isArray(o=s)&&0===o.length||s.constructor===Object&&0===Object.keys(s).length?o=void 0:"boolean"==typeof s&&(o=void 0),{route:i,params:o}}return{}}setDefaultHandler(e,t="GET"){this._defaultHandlerMap.set(t,P(e))}setCatchHandler(e){this._catchHandler=P(e)}registerRoute(e){this._routes.has(e.method)||this._routes.set(e.method,[]),this._routes.get(e.method).push(e)}unregisterRoute(e){if(!this._routes.has(e.method))throw new p("unregister-route-but-not-found-with-method",{method:e.method});let t=this._routes.get(e.method).indexOf(e);if(t>-1)this._routes.get(e.method).splice(t,1);else throw new p("unregister-route-route-not-registered")}}let I=()=>(r||((r=new D).addFetchListener(),r.addCacheListener()),r);class N extends L{constructor(e,t){super(({request:n})=>{let r=e.getURLsToCacheKeys();for(let i of function*(e,{ignoreURLParametersMatching:t=[/^utm_/,/^fbclid$/],directoryIndex:n="index.html",cleanURLs:r=!0,urlManipulation:i}={}){let o=new URL(e,location.href);o.hash="",yield o.href;let s=function(e,t=[]){for(let n of[...e.searchParams.keys()])t.some(e=>e.test(n))&&e.searchParams.delete(n);return e}(o,t);if(yield s.href,n&&s.pathname.endsWith("/")){let e=new URL(s.href);e.pathname+=n,yield e.href}if(r){let e=new URL(s.href);e.pathname+=".html",yield e.href}if(i)for(let e of i({url:o}))yield e.href}(n.url,t)){let t=r.get(i);if(t){let n=e.getIntegrityForCacheKey(t);return{cacheKey:t,integrity:n}}}},e.strategy)}}function M(e,t){return function(){return e.apply(t,arguments)}}var F=n(836);let{toString:K}=Object.prototype,{getPrototypeOf:z}=Object,{iterator:J,toStringTag:W}=Symbol,V=(e=>t=>{let n=K.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),H=e=>(e=e.toLowerCase(),t=>V(t)===e),Q=e=>t=>typeof t===e,{isArray:G}=Array,X=Q("undefined"),Y=H("ArrayBuffer"),Z=Q("string"),ee=Q("function"),et=Q("number"),en=e=>null!==e&&"object"==typeof e,er=e=>{if("object"!==V(e))return!1;let t=z(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(W in e)&&!(J in e)},ei=H("Date"),eo=H("File"),es=H("Blob"),ea=H("FileList"),eu=H("URLSearchParams"),[ec,el,ef,ed]=["ReadableStream","Request","Response","Headers"].map(H);function eh(e,t,{allOwnKeys:n=!1}={}){let r,i;if(null!=e)if("object"!=typeof e&&(e=[e]),G(e))for(r=0,i=e.length;r<i;r++)t.call(null,e[r],r,e);else{let i,o=n?Object.getOwnPropertyNames(e):Object.keys(e),s=o.length;for(r=0;r<s;r++)i=o[r],t.call(null,e[i],i,e)}}function ep(e,t){let n;t=t.toLowerCase();let r=Object.keys(e),i=r.length;for(;i-- >0;)if(t===(n=r[i]).toLowerCase())return n;return null}let ey="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:global,eg=e=>!X(e)&&e!==ey,ev=(e=>t=>e&&t instanceof e)("undefined"!=typeof Uint8Array&&z(Uint8Array)),em=H("HTMLFormElement"),e_=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),eb=H("RegExp"),ew=(e,t)=>{let n=Object.getOwnPropertyDescriptors(e),r={};eh(n,(n,i)=>{let o;!1!==(o=t(n,i,e))&&(r[i]=o||n)}),Object.defineProperties(e,r)},ek=H("AsyncFunction"),ex=(o="function"==typeof setImmediate,s=ee(ey.postMessage),o?setImmediate:s?((e,t)=>(ey.addEventListener("message",({source:n,data:r})=>{n===ey&&r===e&&t.length&&t.shift()()},!1),n=>{t.push(n),ey.postMessage(e,"*")}))(`axios@${Math.random()}`,[]):e=>setTimeout(e)),eO="undefined"!=typeof queueMicrotask?queueMicrotask.bind(ey):void 0!==F&&F.nextTick||ex,eE={isArray:G,isArrayBuffer:Y,isBuffer:function(e){return null!==e&&!X(e)&&null!==e.constructor&&!X(e.constructor)&&ee(e.constructor.isBuffer)&&e.constructor.isBuffer(e)},isFormData:e=>{let t;return e&&("function"==typeof FormData&&e instanceof FormData||ee(e.append)&&("formdata"===(t=V(e))||"object"===t&&ee(e.toString)&&"[object FormData]"===e.toString()))},isArrayBufferView:function(e){let t;return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&Y(e.buffer)},isString:Z,isNumber:et,isBoolean:e=>!0===e||!1===e,isObject:en,isPlainObject:er,isReadableStream:ec,isRequest:el,isResponse:ef,isHeaders:ed,isUndefined:X,isDate:ei,isFile:eo,isBlob:es,isRegExp:eb,isFunction:ee,isStream:e=>en(e)&&ee(e.pipe),isURLSearchParams:eu,isTypedArray:ev,isFileList:ea,forEach:eh,merge:function e(){let{caseless:t}=eg(this)&&this||{},n={},r=(r,i)=>{let o=t&&ep(n,i)||i;er(n[o])&&er(r)?n[o]=e(n[o],r):er(r)?n[o]=e({},r):G(r)?n[o]=r.slice():n[o]=r};for(let e=0,t=arguments.length;e<t;e++)arguments[e]&&eh(arguments[e],r);return n},extend:(e,t,n,{allOwnKeys:r}={})=>(eh(t,(t,r)=>{n&&ee(t)?e[r]=M(t,n):e[r]=t},{allOwnKeys:r}),e),trim:e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:e=>(65279===e.charCodeAt(0)&&(e=e.slice(1)),e),inherits:(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},toFlatObject:(e,t,n,r)=>{let i,o,s,a={};if(t=t||{},null==e)return t;do{for(o=(i=Object.getOwnPropertyNames(e)).length;o-- >0;)s=i[o],(!r||r(s,e,t))&&!a[s]&&(t[s]=e[s],a[s]=!0);e=!1!==n&&z(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},kindOf:V,kindOfTest:H,endsWith:(e,t,n)=>{e=String(e),(void 0===n||n>e.length)&&(n=e.length),n-=t.length;let r=e.indexOf(t,n);return -1!==r&&r===n},toArray:e=>{if(!e)return null;if(G(e))return e;let t=e.length;if(!et(t))return null;let n=Array(t);for(;t-- >0;)n[t]=e[t];return n},forEachEntry:(e,t)=>{let n,r=(e&&e[J]).call(e);for(;(n=r.next())&&!n.done;){let r=n.value;t.call(e,r[0],r[1])}},matchAll:(e,t)=>{let n,r=[];for(;null!==(n=e.exec(t));)r.push(n);return r},isHTMLForm:em,hasOwnProperty:e_,hasOwnProp:e_,reduceDescriptors:ew,freezeMethods:e=>{ew(e,(t,n)=>{if(ee(e)&&-1!==["arguments","caller","callee"].indexOf(n))return!1;if(ee(e[n])){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},toObjectSet:(e,t)=>{let n={};return(G(e)?e:String(e).split(t)).forEach(e=>{n[e]=!0}),n},toCamelCase:e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(e,t,n){return t.toUpperCase()+n}),noop:()=>{},toFiniteNumber:(e,t)=>null!=e&&Number.isFinite(e*=1)?e:t,findKey:ep,global:ey,isContextDefined:eg,isSpecCompliantForm:function(e){return!!(e&&ee(e.append)&&"FormData"===e[W]&&e[J])},toJSONObject:e=>{let t=Array(10),n=(e,r)=>{if(en(e)){if(t.indexOf(e)>=0)return;if(!("toJSON"in e)){t[r]=e;let i=G(e)?[]:{};return eh(e,(e,t)=>{let o=n(e,r+1);X(o)||(i[t]=o)}),t[r]=void 0,i}}return e};return n(e,0)},isAsyncFn:ek,isThenable:e=>e&&(en(e)||ee(e))&&ee(e.then)&&ee(e.catch),setImmediate:ex,asap:eO,isIterable:e=>null!=e&&ee(e[J])};function eA(e,t,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i,this.status=i.status?i.status:null)}eE.inherits(eA,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:eE.toJSONObject(this.config),code:this.code,status:this.status}}});let ej=eA.prototype,eS={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{eS[e]={value:e}}),Object.defineProperties(eA,eS),Object.defineProperty(ej,"isAxiosError",{value:!0}),eA.from=(e,t,n,r,i,o)=>{let s=Object.create(ej);return eE.toFlatObject(e,s,function(e){return e!==Error.prototype},e=>"isAxiosError"!==e),eA.call(s,e.message,t,n,r,i),s.cause=e,s.name=e.name,o&&Object.assign(s,o),s};var eq=n(287).hp;function eC(e){return eE.isPlainObject(e)||eE.isArray(e)}function eR(e){return eE.endsWith(e,"[]")?e.slice(0,-2):e}function eT(e,t,n){return e?e.concat(t).map(function(e,t){return e=eR(e),!n&&t?"["+e+"]":e}).join(n?".":""):t}let e$=eE.toFlatObject(eE,{},null,function(e){return/^is[A-Z]/.test(e)}),eB=function(e,t,n){if(!eE.isObject(e))throw TypeError("target must be an object");t=t||new FormData;let r=(n=eE.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(e,t){return!eE.isUndefined(t[e])})).metaTokens,i=n.visitor||c,o=n.dots,s=n.indexes,a=(n.Blob||"undefined"!=typeof Blob&&Blob)&&eE.isSpecCompliantForm(t);if(!eE.isFunction(i))throw TypeError("visitor must be a function");function u(e){if(null===e)return"";if(eE.isDate(e))return e.toISOString();if(!a&&eE.isBlob(e))throw new eA("Blob is not supported. Use a Buffer instead.");return eE.isArrayBuffer(e)||eE.isTypedArray(e)?a&&"function"==typeof Blob?new Blob([e]):eq.from(e):e}function c(e,n,i){let a=e;if(e&&!i&&"object"==typeof e)if(eE.endsWith(n,"{}"))n=r?n:n.slice(0,-2),e=JSON.stringify(e);else{var c;if(eE.isArray(e)&&(c=e,eE.isArray(c)&&!c.some(eC))||(eE.isFileList(e)||eE.endsWith(n,"[]"))&&(a=eE.toArray(e)))return n=eR(n),a.forEach(function(e,r){eE.isUndefined(e)||null===e||t.append(!0===s?eT([n],r,o):null===s?n:n+"[]",u(e))}),!1}return!!eC(e)||(t.append(eT(i,n,o),u(e)),!1)}let l=[],f=Object.assign(e$,{defaultVisitor:c,convertValue:u,isVisitable:eC});if(!eE.isObject(e))throw TypeError("data must be an object");return!function e(n,r){if(!eE.isUndefined(n)){if(-1!==l.indexOf(n))throw Error("Circular reference detected in "+r.join("."));l.push(n),eE.forEach(n,function(n,o){!0===(!(eE.isUndefined(n)||null===n)&&i.call(t,n,eE.isString(o)?o.trim():o,r,f))&&e(n,r?r.concat(o):[o])}),l.pop()}}(e),t};function eP(e){let t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(e){return t[e]})}function eL(e,t){this._pairs=[],e&&eB(e,this,t)}let eU=eL.prototype;function eD(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function eI(e,t,n){let r;if(!t)return e;let i=n&&n.encode||eD;eE.isFunction(n)&&(n={serialize:n});let o=n&&n.serialize;if(r=o?o(t,n):eE.isURLSearchParams(t)?t.toString():new eL(t,n).toString(i)){let t=e.indexOf("#");-1!==t&&(e=e.slice(0,t)),e+=(-1===e.indexOf("?")?"?":"&")+r}return e}eU.append=function(e,t){this._pairs.push([e,t])},eU.toString=function(e){let t=e?function(t){return e.call(this,t,eP)}:eP;return this._pairs.map(function(e){return t(e[0])+"="+t(e[1])},"").join("&")};class eN{constructor(){this.handlers=[]}use(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){eE.forEach(this.handlers,function(t){null!==t&&e(t)})}}let eM={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},eF="undefined"!=typeof URLSearchParams?URLSearchParams:eL,eK="undefined"!=typeof FormData?FormData:null,ez="undefined"!=typeof Blob?Blob:null,eJ="undefined"!=typeof window&&"undefined"!=typeof document,eW="object"==typeof navigator&&navigator||void 0,eV=eJ&&(!eW||0>["ReactNative","NativeScript","NS"].indexOf(eW.product)),eH="undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"==typeof self.importScripts,eQ=eJ&&window.location.href||"http://localhost",eG={...d,isBrowser:!0,classes:{URLSearchParams:eF,FormData:eK,Blob:ez},protocols:["http","https","file","blob","url","data"]},eX=function(e){if(eE.isFormData(e)&&eE.isFunction(e.entries)){let t={};return eE.forEachEntry(e,(e,n)=>{!function e(t,n,r,i){let o=t[i++];if("__proto__"===o)return!0;let s=Number.isFinite(+o),a=i>=t.length;return(o=!o&&eE.isArray(r)?r.length:o,a)?eE.hasOwnProp(r,o)?r[o]=[r[o],n]:r[o]=n:(r[o]&&eE.isObject(r[o])||(r[o]=[]),e(t,n,r[o],i)&&eE.isArray(r[o])&&(r[o]=function(e){let t,n,r={},i=Object.keys(e),o=i.length;for(t=0;t<o;t++)r[n=i[t]]=e[n];return r}(r[o]))),!s}(eE.matchAll(/\w+|\[(\w*)]/g,e).map(e=>"[]"===e[0]?"":e[1]||e[0]),n,t,0)}),t}return null},eY={transitional:eM,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){let n,r=t.getContentType()||"",i=r.indexOf("application/json")>-1,o=eE.isObject(e);if(o&&eE.isHTMLForm(e)&&(e=new FormData(e)),eE.isFormData(e))return i?JSON.stringify(eX(e)):e;if(eE.isArrayBuffer(e)||eE.isBuffer(e)||eE.isStream(e)||eE.isFile(e)||eE.isBlob(e)||eE.isReadableStream(e))return e;if(eE.isArrayBufferView(e))return e.buffer;if(eE.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();if(o){if(r.indexOf("application/x-www-form-urlencoded")>-1){var s,a;return(s=e,a=this.formSerializer,eB(s,new eG.classes.URLSearchParams,Object.assign({visitor:function(e,t,n,r){return eG.isNode&&eE.isBuffer(e)?(this.append(t,e.toString("base64")),!1):r.defaultVisitor.apply(this,arguments)}},a))).toString()}if((n=eE.isFileList(e))||r.indexOf("multipart/form-data")>-1){let t=this.env&&this.env.FormData;return eB(n?{"files[]":e}:e,t&&new t,this.formSerializer)}}if(o||i){t.setContentType("application/json",!1);var u=e;if(eE.isString(u))try{return(0,JSON.parse)(u),eE.trim(u)}catch(e){if("SyntaxError"!==e.name)throw e}return(0,JSON.stringify)(u)}return e}],transformResponse:[function(e){let t=this.transitional||eY.transitional,n=t&&t.forcedJSONParsing,r="json"===this.responseType;if(eE.isResponse(e)||eE.isReadableStream(e))return e;if(e&&eE.isString(e)&&(n&&!this.responseType||r)){let n=t&&t.silentJSONParsing;try{return JSON.parse(e)}catch(e){if(!n&&r){if("SyntaxError"===e.name)throw eA.from(e,eA.ERR_BAD_RESPONSE,this,null,this.response);throw e}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:eG.classes.FormData,Blob:eG.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};eE.forEach(["delete","get","head","post","put","patch"],e=>{eY.headers[e]={}});let eZ=eE.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),e0=e=>{let t,n,r,i={};return e&&e.split("\n").forEach(function(e){r=e.indexOf(":"),t=e.substring(0,r).trim().toLowerCase(),n=e.substring(r+1).trim(),!t||i[t]&&eZ[t]||("set-cookie"===t?i[t]?i[t].push(n):i[t]=[n]:i[t]=i[t]?i[t]+", "+n:n)}),i},e1=Symbol("internals");function e2(e){return e&&String(e).trim().toLowerCase()}function e4(e){return!1===e||null==e?e:eE.isArray(e)?e.map(e4):String(e)}let e5=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function e6(e,t,n,r,i){if(eE.isFunction(r))return r.call(this,t,n);if(i&&(t=n),eE.isString(t)){if(eE.isString(r))return -1!==t.indexOf(r);if(eE.isRegExp(r))return r.test(t)}}class e3{constructor(e){e&&this.set(e)}set(e,t,n){let r=this;function i(e,t,n){let i=e2(t);if(!i)throw Error("header name must be a non-empty string");let o=eE.findKey(r,i);o&&void 0!==r[o]&&!0!==n&&(void 0!==n||!1===r[o])||(r[o||t]=e4(e))}let o=(e,t)=>eE.forEach(e,(e,n)=>i(e,n,t));if(eE.isPlainObject(e)||e instanceof this.constructor)o(e,t);else if(eE.isString(e)&&(e=e.trim())&&!e5(e))o(e0(e),t);else if(eE.isObject(e)&&eE.isIterable(e)){let n={},r,i;for(let t of e){if(!eE.isArray(t))throw TypeError("Object iterator must return a key-value pair");n[i=t[0]]=(r=n[i])?eE.isArray(r)?[...r,t[1]]:[r,t[1]]:t[1]}o(n,t)}else null!=e&&i(t,e,n);return this}get(e,t){if(e=e2(e)){let n=eE.findKey(this,e);if(n){let e=this[n];if(!t)return e;if(!0===t){let t,n=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;for(;t=r.exec(e);)n[t[1]]=t[2];return n}if(eE.isFunction(t))return t.call(this,e,n);if(eE.isRegExp(t))return t.exec(e);throw TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=e2(e)){let n=eE.findKey(this,e);return!!(n&&void 0!==this[n]&&(!t||e6(this,this[n],n,t)))}return!1}delete(e,t){let n=this,r=!1;function i(e){if(e=e2(e)){let i=eE.findKey(n,e);i&&(!t||e6(n,n[i],i,t))&&(delete n[i],r=!0)}}return eE.isArray(e)?e.forEach(i):i(e),r}clear(e){let t=Object.keys(this),n=t.length,r=!1;for(;n--;){let i=t[n];(!e||e6(this,this[i],i,e,!0))&&(delete this[i],r=!0)}return r}normalize(e){let t=this,n={};return eE.forEach(this,(r,i)=>{let o=eE.findKey(n,i);if(o){t[o]=e4(r),delete t[i];return}let s=e?i.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,n)=>t.toUpperCase()+n):String(i).trim();s!==i&&delete t[i],t[s]=e4(r),n[s]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){let t=Object.create(null);return eE.forEach(this,(n,r)=>{null!=n&&!1!==n&&(t[r]=e&&eE.isArray(n)?n.join(", "):n)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,t])=>e+": "+t).join("\n")}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){let n=new this(e);return t.forEach(e=>n.set(e)),n}static accessor(e){let t=(this[e1]=this[e1]={accessors:{}}).accessors,n=this.prototype;function r(e){let r=e2(e);if(!t[r]){let i=eE.toCamelCase(" "+e);["get","set","has"].forEach(t=>{Object.defineProperty(n,t+i,{value:function(n,r,i){return this[t].call(this,e,n,r,i)},configurable:!0})}),t[r]=!0}}return eE.isArray(e)?e.forEach(r):r(e),this}}function e8(e,t){let n=this||eY,r=t||n,i=e3.from(r.headers),o=r.data;return eE.forEach(e,function(e){o=e.call(n,o,i.normalize(),t?t.status:void 0)}),i.normalize(),o}function e7(e){return!!(e&&e.__CANCEL__)}function e9(e,t,n){eA.call(this,null==e?"canceled":e,eA.ERR_CANCELED,t,n),this.name="CanceledError"}function te(e,t,n){let r=n.config.validateStatus;!n.status||!r||r(n.status)?e(n):t(new eA("Request failed with status code "+n.status,[eA.ERR_BAD_REQUEST,eA.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}e3.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),eE.reduceDescriptors(e3.prototype,({value:e},t)=>{let n=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(e){this[n]=e}}}),eE.freezeMethods(e3),eE.inherits(e9,eA,{__CANCEL__:!0});let tt=function(e,t){let n,r=Array(e=e||10),i=Array(e),o=0,s=0;return t=void 0!==t?t:1e3,function(a){let u=Date.now(),c=i[s];n||(n=u),r[o]=a,i[o]=u;let l=s,f=0;for(;l!==o;)f+=r[l++],l%=e;if((o=(o+1)%e)===s&&(s=(s+1)%e),u-n<t)return;let d=c&&u-c;return d?Math.round(1e3*f/d):void 0}},tn=function(e,t){let n,r,i=0,o=1e3/t,s=(t,o=Date.now())=>{i=o,n=null,r&&(clearTimeout(r),r=null),e.apply(null,t)};return[(...e)=>{let t=Date.now(),a=t-i;a>=o?s(e,t):(n=e,r||(r=setTimeout(()=>{r=null,s(n)},o-a)))},()=>n&&s(n)]},tr=(e,t,n=3)=>{let r=0,i=tt(50,250);return tn(n=>{let o=n.loaded,s=n.lengthComputable?n.total:void 0,a=o-r,u=i(a);r=o,e({loaded:o,total:s,progress:s?o/s:void 0,bytes:a,rate:u||void 0,estimated:u&&s&&o<=s?(s-o)/u:void 0,event:n,lengthComputable:null!=s,[t?"download":"upload"]:!0})},n)},ti=(e,t)=>{let n=null!=e;return[r=>t[0]({lengthComputable:n,total:e,loaded:r}),t[1]]},to=e=>(...t)=>eE.asap(()=>e(...t)),ts=eG.hasStandardBrowserEnv?((e,t)=>n=>(n=new URL(n,eG.origin),e.protocol===n.protocol&&e.host===n.host&&(t||e.port===n.port)))(new URL(eG.origin),eG.navigator&&/(msie|trident)/i.test(eG.navigator.userAgent)):()=>!0,ta=eG.hasStandardBrowserEnv?{write(e,t,n,r,i,o){let s=[e+"="+encodeURIComponent(t)];eE.isNumber(n)&&s.push("expires="+new Date(n).toGMTString()),eE.isString(r)&&s.push("path="+r),eE.isString(i)&&s.push("domain="+i),!0===o&&s.push("secure"),document.cookie=s.join("; ")},read(e){let t=document.cookie.match(RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read:()=>null,remove(){}};function tu(e,t,n){let r=!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t);return e&&(r||!1==n)?t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e:t}let tc=e=>e instanceof e3?{...e}:e;function tl(e,t){t=t||{};let n={};function r(e,t,n,r){return eE.isPlainObject(e)&&eE.isPlainObject(t)?eE.merge.call({caseless:r},e,t):eE.isPlainObject(t)?eE.merge({},t):eE.isArray(t)?t.slice():t}function i(e,t,n,i){return eE.isUndefined(t)?eE.isUndefined(e)?void 0:r(void 0,e,n,i):r(e,t,n,i)}function o(e,t){if(!eE.isUndefined(t))return r(void 0,t)}function s(e,t){return eE.isUndefined(t)?eE.isUndefined(e)?void 0:r(void 0,e):r(void 0,t)}function a(n,i,o){return o in t?r(n,i):o in e?r(void 0,n):void 0}let u={url:o,method:o,data:o,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,withXSRFToken:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,beforeRedirect:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:a,headers:(e,t,n)=>i(tc(e),tc(t),n,!0)};return eE.forEach(Object.keys(Object.assign({},e,t)),function(r){let o=u[r]||i,s=o(e[r],t[r],r);eE.isUndefined(s)&&o!==a||(n[r]=s)}),n}let tf=e=>{let t,n=tl({},e),{data:r,withXSRFToken:i,xsrfHeaderName:o,xsrfCookieName:s,headers:a,auth:u}=n;if(n.headers=a=e3.from(a),n.url=eI(tu(n.baseURL,n.url,n.allowAbsoluteUrls),e.params,e.paramsSerializer),u&&a.set("Authorization","Basic "+btoa((u.username||"")+":"+(u.password?unescape(encodeURIComponent(u.password)):""))),eE.isFormData(r)){if(eG.hasStandardBrowserEnv||eG.hasStandardBrowserWebWorkerEnv)a.setContentType(void 0);else if(!1!==(t=a.getContentType())){let[e,...n]=t?t.split(";").map(e=>e.trim()).filter(Boolean):[];a.setContentType([e||"multipart/form-data",...n].join("; "))}}if(eG.hasStandardBrowserEnv&&(i&&eE.isFunction(i)&&(i=i(n)),i||!1!==i&&ts(n.url))){let e=o&&s&&ta.read(s);e&&a.set(o,e)}return n},td="undefined"!=typeof XMLHttpRequest&&function(e){return new Promise(function(t,n){let r,i,o,s,a,u=tf(e),c=u.data,l=e3.from(u.headers).normalize(),{responseType:f,onUploadProgress:d,onDownloadProgress:h}=u;function p(){s&&s(),a&&a(),u.cancelToken&&u.cancelToken.unsubscribe(r),u.signal&&u.signal.removeEventListener("abort",r)}let y=new XMLHttpRequest;function g(){if(!y)return;let r=e3.from("getAllResponseHeaders"in y&&y.getAllResponseHeaders());te(function(e){t(e),p()},function(e){n(e),p()},{data:f&&"text"!==f&&"json"!==f?y.response:y.responseText,status:y.status,statusText:y.statusText,headers:r,config:e,request:y}),y=null}y.open(u.method.toUpperCase(),u.url,!0),y.timeout=u.timeout,"onloadend"in y?y.onloadend=g:y.onreadystatechange=function(){y&&4===y.readyState&&(0!==y.status||y.responseURL&&0===y.responseURL.indexOf("file:"))&&setTimeout(g)},y.onabort=function(){y&&(n(new eA("Request aborted",eA.ECONNABORTED,e,y)),y=null)},y.onerror=function(){n(new eA("Network Error",eA.ERR_NETWORK,e,y)),y=null},y.ontimeout=function(){let t=u.timeout?"timeout of "+u.timeout+"ms exceeded":"timeout exceeded",r=u.transitional||eM;u.timeoutErrorMessage&&(t=u.timeoutErrorMessage),n(new eA(t,r.clarifyTimeoutError?eA.ETIMEDOUT:eA.ECONNABORTED,e,y)),y=null},void 0===c&&l.setContentType(null),"setRequestHeader"in y&&eE.forEach(l.toJSON(),function(e,t){y.setRequestHeader(t,e)}),eE.isUndefined(u.withCredentials)||(y.withCredentials=!!u.withCredentials),f&&"json"!==f&&(y.responseType=u.responseType),h&&([o,a]=tr(h,!0),y.addEventListener("progress",o)),d&&y.upload&&([i,s]=tr(d),y.upload.addEventListener("progress",i),y.upload.addEventListener("loadend",s)),(u.cancelToken||u.signal)&&(r=t=>{y&&(n(!t||t.type?new e9(null,e,y):t),y.abort(),y=null)},u.cancelToken&&u.cancelToken.subscribe(r),u.signal&&(u.signal.aborted?r():u.signal.addEventListener("abort",r)));let v=function(e){let t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}(u.url);if(v&&-1===eG.protocols.indexOf(v))return void n(new eA("Unsupported protocol "+v+":",eA.ERR_BAD_REQUEST,e));y.send(c||null)})},th=(e,t)=>{let{length:n}=e=e?e.filter(Boolean):[];if(t||n){let n,r=new AbortController,i=function(e){if(!n){n=!0,s();let t=e instanceof Error?e:this.reason;r.abort(t instanceof eA?t:new e9(t instanceof Error?t.message:t))}},o=t&&setTimeout(()=>{o=null,i(new eA(`timeout ${t} of ms exceeded`,eA.ETIMEDOUT))},t),s=()=>{e&&(o&&clearTimeout(o),o=null,e.forEach(e=>{e.unsubscribe?e.unsubscribe(i):e.removeEventListener("abort",i)}),e=null)};e.forEach(e=>e.addEventListener("abort",i));let{signal:a}=r;return a.unsubscribe=()=>eE.asap(s),a}},tp=function*(e,t){let n,r=e.byteLength;if(!t||r<t)return void(yield e);let i=0;for(;i<r;)n=i+t,yield e.slice(i,n),i=n},ty=async function*(e,t){for await(let n of tg(e))yield*tp(n,t)},tg=async function*(e){if(e[Symbol.asyncIterator])return void(yield*e);let t=e.getReader();try{for(;;){let{done:e,value:n}=await t.read();if(e)break;yield n}}finally{await t.cancel()}},tv=(e,t,n,r)=>{let i,o=ty(e,t),s=0,a=e=>{!i&&(i=!0,r&&r(e))};return new ReadableStream({async pull(e){try{let{done:t,value:r}=await o.next();if(t){a(),e.close();return}let i=r.byteLength;if(n){let e=s+=i;n(e)}e.enqueue(new Uint8Array(r))}catch(e){throw a(e),e}},cancel:e=>(a(e),o.return())},{highWaterMark:2})},tm="function"==typeof fetch&&"function"==typeof Request&&"function"==typeof Response,t_=tm&&"function"==typeof ReadableStream,tb=tm&&("function"==typeof TextEncoder?(i=new TextEncoder,e=>i.encode(e)):async e=>new Uint8Array(await new Response(e).arrayBuffer())),tw=(e,...t)=>{try{return!!e(...t)}catch(e){return!1}},tk=t_&&tw(()=>{let e=!1,t=new Request(eG.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),tx=t_&&tw(()=>eE.isReadableStream(new Response("").body)),tO={stream:tx&&(e=>e.body)};tm&&(a=new Response,["text","arrayBuffer","blob","formData","stream"].forEach(e=>{tO[e]||(tO[e]=eE.isFunction(a[e])?t=>t[e]():(t,n)=>{throw new eA(`Response type '${e}' is not supported`,eA.ERR_NOT_SUPPORT,n)})}));let tE=async e=>{if(null==e)return 0;if(eE.isBlob(e))return e.size;if(eE.isSpecCompliantForm(e)){let t=new Request(eG.origin,{method:"POST",body:e});return(await t.arrayBuffer()).byteLength}return eE.isArrayBufferView(e)||eE.isArrayBuffer(e)?e.byteLength:(eE.isURLSearchParams(e)&&(e+=""),eE.isString(e))?(await tb(e)).byteLength:void 0},tA=async(e,t)=>{let n=eE.toFiniteNumber(e.getContentLength());return null==n?tE(t):n},tj={http:null,xhr:td,fetch:tm&&(async e=>{let t,n,{url:r,method:i,data:o,signal:s,cancelToken:a,timeout:u,onDownloadProgress:c,onUploadProgress:l,responseType:f,headers:d,withCredentials:h="same-origin",fetchOptions:p}=tf(e);f=f?(f+"").toLowerCase():"text";let y=th([s,a&&a.toAbortSignal()],u),g=y&&y.unsubscribe&&(()=>{y.unsubscribe()});try{if(l&&tk&&"get"!==i&&"head"!==i&&0!==(n=await tA(d,o))){let e,t=new Request(r,{method:"POST",body:o,duplex:"half"});if(eE.isFormData(o)&&(e=t.headers.get("content-type"))&&d.setContentType(e),t.body){let[e,r]=ti(n,tr(to(l)));o=tv(t.body,65536,e,r)}}eE.isString(h)||(h=h?"include":"omit");let s="credentials"in Request.prototype;t=new Request(r,{...p,signal:y,method:i.toUpperCase(),headers:d.normalize().toJSON(),body:o,duplex:"half",credentials:s?h:void 0});let a=await fetch(t),u=tx&&("stream"===f||"response"===f);if(tx&&(c||u&&g)){let e={};["status","statusText","headers"].forEach(t=>{e[t]=a[t]});let t=eE.toFiniteNumber(a.headers.get("content-length")),[n,r]=c&&ti(t,tr(to(c),!0))||[];a=new Response(tv(a.body,65536,n,()=>{r&&r(),g&&g()}),e)}f=f||"text";let v=await tO[eE.findKey(tO,f)||"text"](a,e);return!u&&g&&g(),await new Promise((n,r)=>{te(n,r,{data:v,headers:e3.from(a.headers),status:a.status,statusText:a.statusText,config:e,request:t})})}catch(n){if(g&&g(),n&&"TypeError"===n.name&&/Load failed|fetch/i.test(n.message))throw Object.assign(new eA("Network Error",eA.ERR_NETWORK,e,t),{cause:n.cause||n});throw eA.from(n,n&&n.code,e,t)}})};eE.forEach(tj,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch(e){}Object.defineProperty(e,"adapterName",{value:t})}});let tS=e=>`- ${e}`,tq=e=>eE.isFunction(e)||null===e||!1===e,tC={getAdapter:e=>{let t,n,{length:r}=e=eE.isArray(e)?e:[e],i={};for(let o=0;o<r;o++){let r;if(n=t=e[o],!tq(t)&&void 0===(n=tj[(r=String(t)).toLowerCase()]))throw new eA(`Unknown adapter '${r}'`);if(n)break;i[r||"#"+o]=n}if(!n){let e=Object.entries(i).map(([e,t])=>`adapter ${e} `+(!1===t?"is not supported by the environment":"is not available in the build"));throw new eA("There is no suitable adapter to dispatch the request "+(r?e.length>1?"since :\n"+e.map(tS).join("\n"):" "+tS(e[0]):"as no adapter specified"),"ERR_NOT_SUPPORT")}return n}};function tR(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new e9(null,e)}function tT(e){return tR(e),e.headers=e3.from(e.headers),e.data=e8.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1),tC.getAdapter(e.adapter||eY.adapter)(e).then(function(t){return tR(e),t.data=e8.call(e,e.transformResponse,t),t.headers=e3.from(t.headers),t},function(t){return!e7(t)&&(tR(e),t&&t.response&&(t.response.data=e8.call(e,e.transformResponse,t.response),t.response.headers=e3.from(t.response.headers))),Promise.reject(t)})}let t$="1.9.0",tB={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{tB[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});let tP={};tB.transitional=function(e,t,n){function r(e,t){return"[Axios v"+t$+"] Transitional option '"+e+"'"+t+(n?". "+n:"")}return(n,i,o)=>{if(!1===e)throw new eA(r(i," has been removed"+(t?" in "+t:"")),eA.ERR_DEPRECATED);return t&&!tP[i]&&(tP[i]=!0,console.warn(r(i," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,i,o)}},tB.spelling=function(e){return(t,n)=>(console.warn(`${n} is likely a misspelling of ${e}`),!0)};let tL={assertOptions:function(e,t,n){if("object"!=typeof e)throw new eA("options must be an object",eA.ERR_BAD_OPTION_VALUE);let r=Object.keys(e),i=r.length;for(;i-- >0;){let o=r[i],s=t[o];if(s){let t=e[o],n=void 0===t||s(t,o,e);if(!0!==n)throw new eA("option "+o+" must be "+n,eA.ERR_BAD_OPTION_VALUE);continue}if(!0!==n)throw new eA("Unknown option "+o,eA.ERR_BAD_OPTION)}},validators:tB},tU=tL.validators;class tD{constructor(e){this.defaults=e||{},this.interceptors={request:new eN,response:new eN}}async request(e,t){try{return await this._request(e,t)}catch(e){if(e instanceof Error){let t={};Error.captureStackTrace?Error.captureStackTrace(t):t=Error();let n=t.stack?t.stack.replace(/^.+\n/,""):"";try{e.stack?n&&!String(e.stack).endsWith(n.replace(/^.+\n.+\n/,""))&&(e.stack+="\n"+n):e.stack=n}catch(e){}}throw e}}_request(e,t){let n,r;"string"==typeof e?(t=t||{}).url=e:t=e||{};let{transitional:i,paramsSerializer:o,headers:s}=t=tl(this.defaults,t);void 0!==i&&tL.assertOptions(i,{silentJSONParsing:tU.transitional(tU.boolean),forcedJSONParsing:tU.transitional(tU.boolean),clarifyTimeoutError:tU.transitional(tU.boolean)},!1),null!=o&&(eE.isFunction(o)?t.paramsSerializer={serialize:o}:tL.assertOptions(o,{encode:tU.function,serialize:tU.function},!0)),void 0!==t.allowAbsoluteUrls||(void 0!==this.defaults.allowAbsoluteUrls?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),tL.assertOptions(t,{baseUrl:tU.spelling("baseURL"),withXsrfToken:tU.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let a=s&&eE.merge(s.common,s[t.method]);s&&eE.forEach(["delete","get","head","post","put","patch","common"],e=>{delete s[e]}),t.headers=e3.concat(a,s);let u=[],c=!0;this.interceptors.request.forEach(function(e){("function"!=typeof e.runWhen||!1!==e.runWhen(t))&&(c=c&&e.synchronous,u.unshift(e.fulfilled,e.rejected))});let l=[];this.interceptors.response.forEach(function(e){l.push(e.fulfilled,e.rejected)});let f=0;if(!c){let e=[tT.bind(this),void 0];for(e.unshift.apply(e,u),e.push.apply(e,l),r=e.length,n=Promise.resolve(t);f<r;)n=n.then(e[f++],e[f++]);return n}r=u.length;let d=t;for(f=0;f<r;){let e=u[f++],t=u[f++];try{d=e(d)}catch(e){t.call(this,e);break}}try{n=tT.call(this,d)}catch(e){return Promise.reject(e)}for(f=0,r=l.length;f<r;)n=n.then(l[f++],l[f++]);return n}getUri(e){return eI(tu((e=tl(this.defaults,e)).baseURL,e.url,e.allowAbsoluteUrls),e.params,e.paramsSerializer)}}eE.forEach(["delete","get","head","options"],function(e){tD.prototype[e]=function(t,n){return this.request(tl(n||{},{method:e,url:t,data:(n||{}).data}))}}),eE.forEach(["post","put","patch"],function(e){function t(t){return function(n,r,i){return this.request(tl(i||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:n,data:r}))}}tD.prototype[e]=t(),tD.prototype[e+"Form"]=t(!0)});class tI{constructor(e){let t;if("function"!=typeof e)throw TypeError("executor must be a function.");this.promise=new Promise(function(e){t=e});let n=this;this.promise.then(e=>{if(!n._listeners)return;let t=n._listeners.length;for(;t-- >0;)n._listeners[t](e);n._listeners=null}),this.promise.then=e=>{let t,r=new Promise(e=>{n.subscribe(e),t=e}).then(e);return r.cancel=function(){n.unsubscribe(t)},r},e(function(e,r,i){n.reason||(n.reason=new e9(e,r,i),t(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason)return void e(this.reason);this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;let t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}toAbortSignal(){let e=new AbortController,t=t=>{e.abort(t)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;return{token:new tI(function(t){e=t}),cancel:e}}}let tN={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(tN).forEach(([e,t])=>{tN[t]=e});let tM=function e(t){let n=new tD(t),r=M(tD.prototype.request,n);return eE.extend(r,tD.prototype,n,{allOwnKeys:!0}),eE.extend(r,n,null,{allOwnKeys:!0}),r.create=function(n){return e(tl(t,n))},r}(eY);tM.Axios=tD,tM.CanceledError=e9,tM.CancelToken=tI,tM.isCancel=e7,tM.VERSION=t$,tM.toFormData=eB,tM.AxiosError=eA,tM.Cancel=tM.CanceledError,tM.all=function(e){return Promise.all(e)},tM.spread=function(e){return function(t){return e.apply(null,t)}},tM.isAxiosError=function(e){return eE.isObject(e)&&!0===e.isAxiosError},tM.mergeConfig=tl,tM.AxiosHeaders=e3,tM.formToJSON=e=>eX(eE.isHTMLForm(e)?new FormData(e):e),tM.getAdapter=tC.getAdapter,tM.HttpStatusCode=tN,tM.default=tM;let tF=tM.create({baseURL:"".concat("http://localhost:8012","/v1"),headers:{"Content-Type":"application/json"},withCredentials:!0,paramsSerializer:{indexes:null}}),tK=async e=>(await tF.get("indicators",{...e})).data;var tz=n(735),tJ=n.n(tz),tW=new Uint8Array(16);let tV=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;for(var tH=[],tQ=0;tQ<256;++tQ)tH.push((tQ+256).toString(16).substr(1));let tG=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(tH[e[t+0]]+tH[e[t+1]]+tH[e[t+2]]+tH[e[t+3]]+"-"+tH[e[t+4]]+tH[e[t+5]]+"-"+tH[e[t+6]]+tH[e[t+7]]+"-"+tH[e[t+8]]+tH[e[t+9]]+"-"+tH[e[t+10]]+tH[e[t+11]]+tH[e[t+12]]+tH[e[t+13]]+tH[e[t+14]]+tH[e[t+15]]).toLowerCase();if(!("string"==typeof n&&tV.test(n)))throw TypeError("Stringified UUID is invalid");return n},tX=function(e,t,n){var r=(e=e||{}).random||(e.rng||function(){if(!u&&!(u="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return u(tW)})();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){n=n||0;for(var i=0;i<16;++i)t[n+i]=r[i];return t}return tG(r)};var tY=n(655),tZ=n(7),t0=n.n(tZ),t1=(n(836),Function.prototype.toString),t2=t1.call(Object);function t4(e){if(!e||"object"!=typeof e)return e;if(Array.isArray(e)){for(n=0,t=[],r=e.length;n<r;n++)t[n]=t4(e[n]);return t}if(e instanceof Date&&isFinite(e))return e.toISOString();if("undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer||"undefined"!=typeof Blob&&e instanceof Blob)return e instanceof ArrayBuffer?e.slice(0):e.slice(0,e.size,e.type);if(!function(e){var t=Object.getPrototypeOf(e);if(null===t)return!0;var n=t.constructor;return"function"==typeof n&&n instanceof n&&t1.call(n)==t2}(e))return e;for(n in t={},e)if(Object.prototype.hasOwnProperty.call(e,n)){var t,n,r,i=t4(e[n]);void 0!==i&&(t[n]=i)}return t}function t5(e){var t=!1;return function(...n){if(t)throw Error("once called more than once");t=!0,e.apply(this,n)}}function t6(e){return function(...t){t=t4(t);var n=this,r="function"==typeof t[t.length-1]&&t.pop(),i=new Promise(function(r,i){var o;try{var s=t5(function(e,t){e?i(e):r(t)});t.push(s),(o=e.apply(n,t))&&"function"==typeof o.then&&r(o)}catch(e){i(e)}});return r&&i.then(function(e){r(null,e)},r),i}}function t3(e,t){return t6(function(...n){if(this._closed)return Promise.reject(Error("database is closed"));if(this._destroyed)return Promise.reject(Error("database is destroyed"));var r=this;if(r.constructor.listeners("debug").length){for(var i=["api",r.name,e],o=0;o<n.length-1;o++)i.push(n[o]);r.constructor.emit("debug",i);var s=n[n.length-1];n[n.length-1]=function(t,n){var i=["api",r.name,e];i=i.concat(t?["error",t]:["success",n]),r.constructor.emit("debug",i),s(t,n)}}return this.taskqueue.isReady?t.apply(this,n):new Promise(function(t,i){r.taskqueue.addTask(function(o){o?i(o):t(r[e].apply(r,n))})})})}function t8(e,t){for(var n={},r=0,i=t.length;r<i;r++){var o=t[r];o in e&&(n[o]=e[o])}return n}function t7(e){return e}function t9(e){return[{ok:e}]}function ne(e,t,n){var r=t.docs,i=new Map;r.forEach(function(e){i.has(e.id)?i.get(e.id).push(e):i.set(e.id,[e])});var o=i.size,s=0,a=Array(o),u=[];i.forEach(function(e,t){u.push(t)});var c=0;!function r(){if(!(c>=u.length)){var l,f,d=Math.min(c+6,u.length),h=u.slice(c,d);l=h,f=c,l.forEach(function(u,c){var l=f+c,d=i.get(u),h=t8(d[0],["atts_since","attachments"]);h.open_revs=d.map(function(e){return e.rev}),h.open_revs=h.open_revs.filter(t7);var p=t7;0===h.open_revs.length&&(delete h.open_revs,p=t9),["revs","attachments","binary","ajax","latest"].forEach(function(e){e in t&&(h[e]=t[e])}),e.get(u,h,function(e,t){var i,c;i=e?[{error:e}]:p(t),a[l]={id:u,docs:i},++s===o&&(c=[],a.forEach(function(e){e.docs.forEach(function(t){c.push({id:e.id,docs:[t]})})}),n(null,{results:c})),r()})}),c+=h.length}}()}try{localStorage.setItem("_pouch_check_localstorage",1),c=!!localStorage.getItem("_pouch_check_localstorage")}catch(e){c=!1}let nt="function"==typeof queueMicrotask?queueMicrotask:function(e){Promise.resolve().then(e)};class nn extends t0(){constructor(){super(),this._listeners={},c&&addEventListener("storage",e=>{this.emit(e.key)})}addListener(e,t,n,r){if(!this._listeners[t]){var i=!1,o=this;this._listeners[t]=s,this.on(e,s)}function s(){if(o._listeners[t]){if(i){i="waiting";return}i=!0;var e=t8(r,["style","include_docs","attachments","conflicts","filter","doc_ids","view","since","query_params","binary","return_docs"]);n.changes(e).on("change",function(e){e.seq>r.since&&!r.cancelled&&(r.since=e.seq,r.onChange(e))}).on("complete",function(){"waiting"===i&&nt(s),i=!1}).on("error",function(){i=!1})}}}removeListener(e,t){t in this._listeners&&(super.removeListener(e,this._listeners[t]),delete this._listeners[t])}notifyLocalWindows(e){c&&(localStorage[e]="a"===localStorage[e]?"b":"a")}notify(e){this.emit(e),this.notifyLocalWindows(e)}}function nr(e){if("undefined"!=typeof console&&"function"==typeof console[e]){var t=Array.prototype.slice.call(arguments,1);console[e].apply(console,t)}}function ni(e){var t,n,r=0;return e||(r=2e3),t=e,n=r,t=parseInt(t,10)||0,(n=parseInt(n,10))!=n||n<=t?n=(t||1)<<1:n+=1,n>6e5&&(t=3e5,n=6e5),~~((n-t)*Math.random()+t)}function no(e,t){nr("info","The above "+e+" is totally normal. "+t)}class ns extends Error{constructor(e,t,n){super(),this.status=e,this.name=t,this.message=n,this.error=!0}toString(){return JSON.stringify({status:this.status,name:this.name,message:this.message,reason:this.reason})}}new ns(401,"unauthorized","Name or password is incorrect.");var na=new ns(400,"bad_request","Missing JSON list of 'docs'"),nu=new ns(404,"not_found","missing"),nc=new ns(409,"conflict","Document update conflict"),nl=new ns(400,"bad_request","_id field must contain a string"),nf=new ns(412,"missing_id","_id is required for puts"),nd=new ns(400,"bad_request","Only reserved document ids may start with underscore.");new ns(412,"precondition_failed","Database not open");var nh=new ns(500,"unknown_error","Database encountered an unknown error"),np=new ns(500,"badarg","Some query argument is invalid");new ns(400,"invalid_request","Request was invalid");var ny=new ns(400,"query_parse_error","Some query parameter is invalid"),ng=new ns(500,"doc_validation","Bad special document member"),nv=new ns(400,"bad_request","Something wrong with the request"),nm=new ns(400,"bad_request","Document must be a JSON object");new ns(404,"not_found","Database not found");var n_=new ns(500,"indexed_db_went_bad","unknown");new ns(500,"web_sql_went_bad","unknown"),new ns(500,"levelDB_went_went_bad","unknown"),new ns(403,"forbidden","Forbidden by design doc validate_doc_update function");var nb=new ns(400,"bad_request","Invalid rev format");new ns(412,"file_exists","The database could not be created, the file already exists.");var nw=new ns(412,"missing_stub","A pre-existing attachment stub wasn't found");function nk(e,t){function n(t){for(var n=Object.getOwnPropertyNames(e),r=0,i=n.length;r<i;r++)"function"!=typeof e[n[r]]&&(this[n[r]]=e[n[r]]);void 0===this.stack&&(this.stack=Error().stack),void 0!==t&&(this.reason=t)}return n.prototype=ns.prototype,new n(t)}function nx(e){if("object"!=typeof e){var t=e;(e=nh).data=t}return"error"in e&&"conflict"===e.error&&(e.name="conflict",e.status=409),"name"in e||(e.name=e.error||"unknown"),"status"in e||(e.status=500),"message"in e||(e.message=e.message||e.reason),"stack"in e||(e.stack=Error().stack),e}function nO(e){var t={},n=e.filter&&"function"==typeof e.filter;return t.query=e.query_params,function(r){r.doc||(r.doc={});var i=n&&function(e,t,n){try{return!e(t,n)}catch(e){return nk(nv,"Filter function threw: "+e.toString())}}(e.filter,r.doc,t);if("object"==typeof i)return i;if(i)return!1;if(e.include_docs){if(!e.attachments)for(var o in r.doc._attachments)Object.prototype.hasOwnProperty.call(r.doc._attachments,o)&&(r.doc._attachments[o].stub=!0)}else delete r.doc;return!0}}function nE(e){var t;if(e?"string"!=typeof e?t=nk(nl):/^_/.test(e)&&!/^_(design|local)/.test(e)&&(t=nk(nd)):t=nk(nf),t)throw t}function nA(e){return"boolean"==typeof e._remote?e._remote:"function"==typeof e.type&&(nr("warn","db.type() is deprecated and will be removed in a future version of PouchDB"),"http"===e.type())}function nj(e){if(!e)return null;var t=e.split("/");return 2===t.length?t:1===t.length?[e,e]:null}function nS(e){var t=nj(e);return t?t.join("/"):null}new ns(413,"invalid_url","Provided URL is invalid");var nq=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],nC="queryKey",nR=/(?:^|&)([^&=]*)=?([^&]*)/g,nT=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/;function n$(e){for(var t=nT.exec(e),n={},r=14;r--;){var i=nq[r],o=t[r]||"",s=-1!==["user","password"].indexOf(i);n[i]=s?decodeURIComponent(o):o}return n[nC]={},n[nq[12]].replace(nR,function(e,t,r){t&&(n[nC][t]=r)}),n}function nB(e,t){var n=[],r=[];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n.push(i),r.push(t[i]));return n.push(e),Function.apply(null,n).apply(null,r)}function nP(e,t,n){return e.get(t).catch(function(e){if(404!==e.status)throw e;return{}}).then(function(r){var i,o,s,a=r._rev,u=n(r);return u?(u._id=t,u._rev=a,i=e,o=u,s=n,i.put(o).then(function(e){return{updated:!0,rev:e.rev}},function(e){if(409!==e.status)throw e;return nP(i,o._id,s)})):{updated:!1,rev:a}})}var nL=function(e){return atob(e)},nU=function(e){return btoa(e)};function nD(e,t){e=e||[],t=t||{};try{return new Blob(e,t)}catch(i){if("TypeError"!==i.name)throw i;for(var n=new("undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof MSBlobBuilder?MSBlobBuilder:"undefined"!=typeof MozBlobBuilder?MozBlobBuilder:WebKitBlobBuilder),r=0;r<e.length;r+=1)n.append(e[r]);return n.getBlob(t.type)}}function nI(e,t){return nD([function(e){for(var t=e.length,n=new ArrayBuffer(t),r=new Uint8Array(n),i=0;i<t;i++)r[i]=e.charCodeAt(i);return n}(e)],{type:t})}function nN(e,t){var n=new FileReader,r="function"==typeof n.readAsBinaryString;n.onloadend=function(e){var n=e.target.result||"";if(r)return t(n);t(function(e){for(var t="",n=new Uint8Array(e),r=n.byteLength,i=0;i<r;i++)t+=String.fromCharCode(n[i]);return t}(n))},r?n.readAsBinaryString(e):n.readAsArrayBuffer(e)}function nM(e,t){nN(e,function(e){t(e)})}function nF(e,t){nM(e,function(e){t(nU(e))})}var nK=self.setImmediate||self.setTimeout;function nz(e,t,n,r,i){var o,s,a;(n>0||r<t.size)&&(t=t.slice(n,r)),o=t,s=function(t){e.append(t),i()},(a=new FileReader).onloadend=function(e){s(e.target.result||new ArrayBuffer(0))},a.readAsArrayBuffer(o)}function nJ(e,t,n,r,i){(n>0||r<t.length)&&(t=t.substring(n,r)),e.appendBinary(t),i()}function nW(e,t){var n="string"==typeof e,r=n?e.length:e.size,i=Math.min(32768,r),o=Math.ceil(r/i),s=0,a=n?new(tJ()):new(tJ()).ArrayBuffer,u=n?nJ:nz;function c(){nK(f)}function l(){t(nU(a.end(!0))),a.destroy()}function f(){var t=s*i,n=t+i;++s<o?u(a,e,t,n,c):u(a,e,t,n,l)}f()}function nV(e,t){if(!t)return tX().replace(/-/g,"").toLowerCase();var n,r=Object.assign({},e);return delete r._rev_tree,n=JSON.stringify(r),tJ().hash(n)}function nH(e){for(var t,n,r,i,o=e.rev_tree.slice();i=o.pop();){var s=i.ids,a=s[2],u=i.pos;if(a.length){for(var c=0,l=a.length;c<l;c++)o.push({pos:u+1,ids:a[c]});continue}var f=!!s[1].deleted,d=s[0];(!t||(r!==f?r:n!==u?n<u:t<d))&&(t=d,n=u,r=f)}return n+"-"+t}function nQ(e,t){for(var n,r=e.slice();n=r.pop();)for(var i=n.pos,o=n.ids,s=o[2],a=t(0===s.length,i,o[0],n.ctx,o[1]),u=0,c=s.length;u<c;u++)r.push({pos:i+1,ids:s[u],ctx:a})}function nG(e,t){return e.pos-t.pos}function nX(e){var t=[];nQ(e,function(e,n,r,i,o){e&&t.push({rev:n+"-"+r,pos:n,opts:o})}),t.sort(nG).reverse();for(var n=0,r=t.length;n<r;n++)delete t[n].pos;return t}function nY(e){for(var t=nH(e),n=nX(e.rev_tree),r=[],i=0,o=n.length;i<o;i++){var s=n[i];s.rev===t||s.opts.deleted||r.push(s.rev)}return r}function nZ(e){for(var t,n=[],r=e.slice();t=r.pop();){var i=t.pos,o=t.ids,s=o[0],a=o[1],u=o[2],c=0===u.length,l=t.history?t.history.slice():[];l.push({id:s,opts:a}),c&&n.push({pos:i+1-l.length,ids:l});for(var f=0,d=u.length;f<d;f++)r.push({pos:i+1,ids:u[f],history:l})}return n.reverse()}function n0(e,t){return e.pos-t.pos}function n1(e,t){for(var n,r,i=t,o=e.length;i<o;i++){var s=e[i],a=[s.id,s.opts,[]];r?(r[2].push(a),r=a):n=r=a}return n}function n2(e,t){return e[0]<t[0]?-1:1}function n4(e,t){for(var n=[{tree1:e,tree2:t}],r=!1;n.length>0;){var i=n.pop(),o=i.tree1,s=i.tree2;(o[1].status||s[1].status)&&(o[1].status="available"===o[1].status||"available"===s[1].status?"available":"missing");for(var a=0;a<s[2].length;a++){if(!o[2][0]){r="new_leaf",o[2][0]=s[2][a];continue}for(var u=!1,c=0;c<o[2].length;c++)o[2][c][0]===s[2][a][0]&&(n.push({tree1:o[2][c],tree2:s[2][a]}),u=!0);u||(r="new_branch",function(e,t,n){var r=function(e,t,n){for(var r,i=0,o=e.length;i<o;)0>n(e[r=i+o>>>1],t)?i=r+1:o=r;return i}(e,t,n);e.splice(r,0,t)}(o[2],s[2][a],n2))}}return{conflicts:r,tree:e}}function n5(e,t,n){var r,i=[],o=!1,s=!1;if(!e.length)return{tree:[t],conflicts:"new_leaf"};for(var a=0,u=e.length;a<u;a++){var c=e[a];if(c.pos===t.pos&&c.ids[0]===t.ids[0])r=n4(c.ids,t.ids),i.push({pos:c.pos,ids:r.tree}),o=o||r.conflicts,s=!0;else if(!0!==n){var l=c.pos<t.pos?c:t,f=c.pos<t.pos?t:c,d=f.pos-l.pos,h=[],p=[];for(p.push({ids:l.ids,diff:d,parent:null,parentIdx:null});p.length>0;){var y=p.pop();if(0===y.diff){y.ids[0]===f.ids[0]&&h.push(y);continue}for(var g=y.ids[2],v=0,m=g.length;v<m;v++)p.push({ids:g[v],diff:y.diff-1,parent:y.ids,parentIdx:v})}var b=h[0];b?(r=n4(b.ids,f.ids),b.parent[2][b.parentIdx]=r.tree,i.push({pos:l.pos,ids:l.ids}),o=o||r.conflicts,s=!0):i.push(c)}else i.push(c)}return s||i.push(t),i.sort(n0),{tree:i,conflicts:o||"internal_node"}}function n6(e,t,n){var r=n5(e,t),i=function(e,t){for(var n=nZ(e),r=0,i=n.length;r<i;r++){var o,s,a,u=n[r],c=u.ids;if(c.length>t){o||(o={});var l=c.length-t;a={pos:u.pos+l,ids:n1(c,l)};for(var f=0;f<l;f++)o[u.pos+f+"-"+c[f].id]=!0}else a={pos:u.pos,ids:n1(c,0)};s=s?n5(s,a,!0).tree:[a]}return o&&nQ(s,function(e,t,n){delete o[t+"-"+n]}),{tree:s,revs:o?Object.keys(o):[]}}(r.tree,n);return{tree:i.tree,stemmedRevs:i.revs,conflicts:r.conflicts}}function n3(e){return e.ids}function n8(e,t){t||(t=nH(e));for(var n,r=t.substring(t.indexOf("-")+1),i=e.rev_tree.map(n3);n=i.pop();){if(n[0]===r)return!!n[1].deleted;i=i.concat(n[2])}}function n7(e){return"string"==typeof e&&e.startsWith("_local/")}function n9(e,t,n){var r=[{rev:e._rev}];"all_docs"===n.style&&(r=nX(t.rev_tree).map(function(e){return{rev:e.rev}}));var i={id:t.id,changes:r,doc:e};return n8(t,e._rev)&&(i.deleted=!0),n.conflicts&&(i.doc._conflicts=nY(t),i.doc._conflicts.length||delete i.doc._conflicts),i}class re extends t0(){constructor(e,t,n){super(),this.db=e;var r=(t=t?t4(t):{}).complete=t5((t,n)=>{t?function(e,t){return"listenerCount"in e?e.listenerCount(t):t0().listenerCount(e,t)}(this,"error")>0&&this.emit("error",t):this.emit("complete",n),this.removeAllListeners(),e.removeListener("destroyed",i)});n&&(this.on("complete",function(e){n(null,e)}),this.on("error",n));let i=()=>{this.cancel()};e.once("destroyed",i),t.onChange=(e,t,n)=>{if(!this.isCancelled)try{this.emit("change",e,t,n)}catch(e){nr("error",'Error in .on("change", function):',e)}};var o=new Promise(function(e,n){t.complete=function(t,r){t?n(t):e(r)}});this.once("cancel",function(){e.removeListener("destroyed",i),t.complete(null,{status:"cancelled"})}),this.then=o.then.bind(o),this.catch=o.catch.bind(o),this.then(function(e){r(null,e)},r),e.taskqueue.isReady?this.validateChanges(t):e.taskqueue.addTask(e=>{e?t.complete(e):this.isCancelled?this.emit("cancel"):this.validateChanges(t)})}cancel(){this.isCancelled=!0,this.db.taskqueue.isReady&&this.emit("cancel")}validateChanges(e){var t=e.complete;rl._changesFilterPlugin?rl._changesFilterPlugin.validate(e,n=>{if(n)return t(n);this.doChanges(e)}):this.doChanges(e)}doChanges(e){var t=e.complete;if("live"in(e=t4(e))&&!("continuous"in e)&&(e.continuous=e.live),e.processChange=n9,"latest"===e.since&&(e.since="now"),e.since||(e.since=0),"now"===e.since)return void this.db.info().then(n=>{if(this.isCancelled)return void t(null,{status:"cancelled"});e.since=n.update_seq,this.doChanges(e)},t);if(rl._changesFilterPlugin){if(rl._changesFilterPlugin.normalize(e),rl._changesFilterPlugin.shouldFilter(this,e))return rl._changesFilterPlugin.filter(this,e)}else["doc_ids","filter","selector","view"].forEach(function(t){t in e&&nr("warn",'The "'+t+'" option was passed in to changes/replicate, but pouchdb-changes-filter plugin is not installed, so it was ignored. Please install the plugin to enable filtering.')});"descending"in e||(e.descending=!1),e.limit=0===e.limit?1:e.limit,e.complete=t;var n=this.db._changes(e);if(n&&"function"==typeof n.cancel){let e=this.cancel;this.cancel=(...t)=>{n.cancel(),e.apply(this,t)}}}}function rt(e,t){return function(n,r){n||r[0]&&r[0].error?((n=n||r[0]).docId=t,e(n)):e(null,r.length?r[0]:r)}}function rn(e,t){return e._id===t._id?(e._revisions?e._revisions.start:0)-(t._revisions?t._revisions.start:0):e._id<t._id?-1:1}function rr(e){return null===e||"object"!=typeof e||Array.isArray(e)}let ri=/^\d+-[^-]*$/;function ro(e){return"string"==typeof e&&ri.test(e)}class rs extends t0(){_setup(){this.post=t3("post",function(e,t,n){if("function"==typeof t&&(n=t,t={}),rr(e))return n(nk(nm));this.bulkDocs({docs:[e]},t,rt(n,e._id))}).bind(this),this.put=t3("put",function(e,t,n){var r,i,o,s;if("function"==typeof t&&(n=t,t={}),rr(e))return n(nk(nm));if(nE(e._id),"_rev"in e&&!ro(e._rev))return n(nk(nb));if(n7(e._id)&&"function"==typeof this._putLocal)if(e._deleted)return this._removeLocal(e,n);else return this._putLocal(e,n);let a=n=>{"function"==typeof this._put&&!1!==t.new_edits?this._put(e,t,n):this.bulkDocs({docs:[e]},t,rt(n,e._id))};t.force&&e._rev?(i=(r=e._rev.split("-"))[1],e._revisions={start:o=parseInt(r[0],10)+1,ids:[s=nV(),i]},e._rev=o+"-"+s,t.new_edits=!1,a(function(t){var r=t?null:{ok:!0,id:e._id,rev:e._rev};n(t,r)})):a(n)}).bind(this),this.putAttachment=t3("putAttachment",function(e,t,n,r,i){var o=this;function s(e){var n="_rev"in e?parseInt(e._rev,10):0;return e._attachments=e._attachments||{},e._attachments[t]={content_type:i,data:r,revpos:++n},o.put(e)}return"function"==typeof i&&(i=r,r=n,n=null),void 0===i&&(i=r,r=n,n=null),i||nr("warn","Attachment",t,"on document",e,"is missing content_type"),o.get(e).then(function(e){if(e._rev!==n)throw nk(nc);return s(e)},function(t){if(t.reason===nu.message)return s({_id:e});throw t})}).bind(this),this.removeAttachment=t3("removeAttachment",function(e,t,n,r){this.get(e,(e,i)=>e?void r(e):i._rev!==n?void r(nk(nc)):i._attachments?void(delete i._attachments[t],0===Object.keys(i._attachments).length&&delete i._attachments,this.put(i,r)):r())}).bind(this),this.remove=t3("remove",function(e,t,n,r){"string"==typeof t?(i={_id:e,_rev:t},"function"==typeof n&&(r=n,n={})):(i=e,"function"==typeof t?(r=t,n={}):(r=n,n=t)),(n=n||{}).was_delete=!0;var i,o={_id:i._id,_rev:i._rev||n.rev};if(o._deleted=!0,n7(o._id)&&"function"==typeof this._removeLocal)return this._removeLocal(i,r);this.bulkDocs({docs:[o]},n,rt(r,o._id))}).bind(this),this.revsDiff=t3("revsDiff",function(e,t,n){"function"==typeof t&&(n=t,t={});var r=Object.keys(e);if(!r.length)return n(null,{});var i=0,o=new Map;function s(e,t){o.has(e)||o.set(e,{missing:[]}),o.get(e).missing.push(t)}r.forEach(function(t){this._getRevisionTree(t,function(a,u){if(a&&404===a.status&&"missing"===a.message)o.set(t,{missing:e[t]});else{var c;if(a)return n(a);c=e[t].slice(0),nQ(u,function(e,n,r,i,o){var a=n+"-"+r,u=c.indexOf(a);-1!==u&&(c.splice(u,1),"available"!==o.status&&s(t,a))}),c.forEach(function(e){s(t,e)})}if(++i===r.length){var l={};return o.forEach(function(e,t){l[t]=e}),n(null,l)}})},this)}).bind(this),this.bulkGet=t3("bulkGet",function(e,t){ne(this,e,t)}).bind(this),this.compactDocument=t3("compactDocument",function(e,t,n){this._getRevisionTree(e,(r,i)=>{if(r)return n(r);var o,s,a=(o={},s=[],nQ(i,function(e,t,n,r){var i=t+"-"+n;return e&&(o[i]=0),void 0!==r&&s.push({from:r,to:i}),i}),s.reverse(),s.forEach(function(e){void 0===o[e.from]?o[e.from]=1+o[e.to]:o[e.from]=Math.min(o[e.from],1+o[e.to])}),o),u=[],c=[];Object.keys(a).forEach(function(e){a[e]>t&&u.push(e)}),nQ(i,function(e,t,n,r,i){var o=t+"-"+n;"available"===i.status&&-1!==u.indexOf(o)&&c.push(o)}),this._doCompaction(e,c,n)})}).bind(this),this.compact=t3("compact",function(e,t){"function"==typeof e&&(t=e,e={}),e=e||{},this._compactionQueue=this._compactionQueue||[],this._compactionQueue.push({opts:e,callback:t}),1===this._compactionQueue.length&&function e(t){var n=t._compactionQueue[0],r=n.opts,i=n.callback;t.get("_local/compaction").catch(function(){return!1}).then(function(n){n&&n.last_seq&&(r.last_seq=n.last_seq),t._compact(r,function(n,r){n?i(n):i(null,r),nt(function(){t._compactionQueue.shift(),t._compactionQueue.length&&e(t)})})})}(this)}).bind(this),this.get=t3("get",function(e,t,n){if("function"==typeof t&&(n=t,t={}),t=t||{},"string"!=typeof e)return n(nk(nl));if(n7(e)&&"function"==typeof this._getLocal)return this._getLocal(e,n);var r=[];let i=()=>{var i=[],o=r.length;if(!o)return n(null,i);r.forEach(r=>{this.get(e,{rev:r,revs:t.revs,latest:t.latest,attachments:t.attachments,binary:t.binary},function(e,t){if(e)i.push({missing:r});else{for(var s,a=0,u=i.length;a<u;a++)if(i[a].ok&&i[a].ok._rev===t._rev){s=!0;break}s||i.push({ok:t})}--o||n(null,i)})})};if(t.open_revs){if("all"===t.open_revs)this._getRevisionTree(e,function(e,t){if(e)return n(e);r=nX(t).map(function(e){return e.rev}),i()});else{if(!Array.isArray(t.open_revs))return n(nk(nh,"function_clause"));r=t.open_revs;for(var o=0;o<r.length;o++)if(!ro(r[o]))return n(nk(nb));i()}return}return this._get(e,t,(r,i)=>{if(r)return r.docId=e,n(r);var o=i.doc,s=i.metadata,a=i.ctx;if(t.conflicts){var u=nY(s);u.length&&(o._conflicts=u)}if(n8(s,o._rev)&&(o._deleted=!0),t.revs||t.revs_info){for(var c=o._rev.split("-"),l=parseInt(c[0],10),f=c[1],d=nZ(s.rev_tree),h=null,p=0;p<d.length;p++){var y=d[p];let e=y.ids.findIndex(e=>e.id===f);e!==l-1&&(h||-1===e)||(h=y)}if(!h)return(r=Error("invalid rev tree")).docId=e,n(r);let i=o._rev.split("-")[1],a=h.ids.findIndex(e=>e.id===i)+1;var g=h.ids.length-a;if(h.ids.splice(a,g),h.ids.reverse(),t.revs&&(o._revisions={start:h.pos+h.ids.length-1,ids:h.ids.map(function(e){return e.id})}),t.revs_info){var v=h.pos+h.ids.length;o._revs_info=h.ids.map(function(e){return{rev:--v+"-"+e.id,status:e.opts.status}})}}if(t.attachments&&o._attachments){var m=o._attachments,b=Object.keys(m).length;if(0===b)return n(null,o);Object.keys(m).forEach(e=>{this._getAttachment(o._id,e,m[e],{binary:t.binary,metadata:s,ctx:a},function(t,r){var i=o._attachments[e];i.data=r,delete i.stub,delete i.length,--b||n(null,o)})})}else{if(o._attachments)for(var w in o._attachments)Object.prototype.hasOwnProperty.call(o._attachments,w)&&(o._attachments[w].stub=!0);n(null,o)}})}).bind(this),this.getAttachment=t3("getAttachment",function(e,t,n,r){n instanceof Function&&(r=n,n={}),this._get(e,n,(i,o)=>i?r(i):o.doc._attachments&&o.doc._attachments[t]?void(n.ctx=o.ctx,n.binary=!0,n.metadata=o.metadata,this._getAttachment(e,t,o.doc._attachments[t],n,r)):r(nk(nu)))}).bind(this),this.allDocs=t3("allDocs",function(e,t){if("function"==typeof e&&(t=e,e={}),e.skip=void 0!==e.skip?e.skip:0,e.start_key&&(e.startkey=e.start_key),e.end_key&&(e.endkey=e.end_key),"keys"in e){if(!Array.isArray(e.keys))return t(TypeError("options.keys must be an array"));var n,r,i=["startkey","endkey","key"].filter(function(t){return t in e})[0];if(i)return void t(nk(ny,"Query parameter `"+i+"` is not compatible with multi-get"));if(!nA(this)&&(r="limit"in(n=e)?n.keys.slice(n.skip,n.limit+n.skip):n.skip>0?n.keys.slice(n.skip):n.keys,n.keys=r,n.skip=0,delete n.limit,n.descending&&(r.reverse(),n.descending=!1),0===e.keys.length))return this._allDocs({limit:0},t)}return this._allDocs(e,t)}).bind(this),this.close=t3("close",function(e){return this._closed=!0,this.emit("closed"),this._close(e)}).bind(this),this.info=t3("info",function(e){this._info((t,n)=>{if(t)return e(t);n.db_name=n.db_name||this.name,n.auto_compaction=!!(this.auto_compaction&&!nA(this)),n.adapter=this.adapter,e(null,n)})}).bind(this),this.id=t3("id",function(e){return this._id(e)}).bind(this),this.bulkDocs=t3("bulkDocs",function(e,t,n){if("function"==typeof t&&(n=t,t={}),t=t||{},Array.isArray(e)&&(e={docs:e}),!e||!e.docs||!Array.isArray(e.docs))return n(nk(na));for(var r,i=0;i<e.docs.length;++i){let t=e.docs[i];if(rr(t))return n(nk(nm));if("_rev"in t&&!ro(t._rev))return n(nk(nb))}if(e.docs.forEach(function(e){e._attachments&&Object.keys(e._attachments).forEach(function(t){r=r||"_"===t.charAt(0)&&t+" is not a valid attachment name, attachment names cannot start with '_'",e._attachments[t].content_type||nr("warn","Attachment",t,"on document",e._id,"is missing content_type")})}),r)return n(nk(nv,r));"new_edits"in t||("new_edits"in e?t.new_edits=e.new_edits:t.new_edits=!0);var o=this;t.new_edits||nA(o)||e.docs.sort(rn),function(e){for(var t=0;t<e.length;t++){var n=e[t];if(n._deleted)delete n._attachments;else if(n._attachments)for(var r=Object.keys(n._attachments),i=0;i<r.length;i++){var o=r[i];n._attachments[o]=t8(n._attachments[o],["data","digest","content_type","length","revpos","stub"])}}}(e.docs);var s=e.docs.map(function(e){return e._id});this._bulkDocs(e,t,function(e,r){if(e)return n(e);if(t.new_edits||(r=r.filter(function(e){return e.error})),!nA(o))for(var i=0,a=r.length;i<a;i++)r[i].id=r[i].id||s[i];n(null,r)})}).bind(this),this.registerDependentDatabase=t3("registerDependentDatabase",function(e,t){var n=t4(this.__opts);this.__opts.view_adapter&&(n.adapter=this.__opts.view_adapter);var r=new this.constructor(e,n);nP(this,"_local/_pouch_dependentDbs",function(t){return t.dependentDbs=t.dependentDbs||{},!t.dependentDbs[e]&&(t.dependentDbs[e]=!0,t)}).then(function(){t(null,{db:r})}).catch(t)}).bind(this),this.destroy=t3("destroy",function(e,t){"function"==typeof e&&(t=e,e={});var n=!("use_prefix"in this)||this.use_prefix;let r=()=>{this._destroy(e,(e,n)=>{if(e)return t(e);this._destroyed=!0,this.emit("destroyed"),t(null,n||{ok:!0})})};if(nA(this))return r();this.get("_local/_pouch_dependentDbs",(e,i)=>{if(e)if(404!==e.status)return t(e);else return r();var o=i.dependentDbs,s=this.constructor;Promise.all(Object.keys(o).map(e=>{var t=n?e.replace(RegExp("^"+s.prefix),""):e;return new s(t,this.__opts).destroy()})).then(r,t)})}).bind(this)}_compact(e,t){var n,r={return_docs:!1,last_seq:e.last_seq||0,since:e.last_seq||0},i=[],o=0;let s=e=>{this.activeTasks.update(n,{completed_items:++o}),i.push(this.compactDocument(e.id,0))},a=e=>{this.activeTasks.remove(n,e),t(e)},u=e=>{var r=e.last_seq;Promise.all(i).then(()=>nP(this,"_local/compaction",e=>(!e.last_seq||e.last_seq<r)&&(e.last_seq=r,e))).then(()=>{this.activeTasks.remove(n),t(null,{ok:!0})}).catch(a)};this.info().then(e=>{n=this.activeTasks.add({name:"database_compaction",total_items:e.update_seq-r.last_seq}),this.changes(r).on("change",s).on("complete",u).on("error",a)})}changes(e,t){return"function"==typeof e&&(t=e,e={}),(e=e||{}).return_docs="return_docs"in e?e.return_docs:!e.live,new re(this,e,t)}type(){return"function"==typeof this._type?this._type():this.adapter}}rs.prototype.purge=t3("_purge",function(e,t,n){if(void 0===this._purge)return n(nk(nh,"Purge is not implemented in the "+this.adapter+" adapter."));var r=this;r._getRevisionTree(e,(i,o)=>{let s;if(i)return n(i);if(!o)return n(nk(nu));try{s=function(e,t){let n,r=[],i=e.slice();for(;n=i.pop();){let{pos:e,ids:o}=n,s=`${e}-${o[0]}`,a=o[2];if(r.push(s),s===t){if(0!==a.length)throw Error("The requested revision is not a leaf");return r.reverse()}(0===a.length||a.length>1)&&(r=[]);for(let t=0,n=a.length;t<n;t++)i.push({pos:e+1,ids:a[t]})}if(0===r.length)throw Error("The requested revision does not exist");return r.reverse()}(o,t)}catch(e){return n(e.message||e)}r._purge(e,s,(i,o)=>{if(i)return n(i);r.get("_local/purges").then(function(n){let r=n.purgeSeq+1;return n.purges.push({docId:e,rev:t,purgeSeq:r}),n.purges.length>self.purged_infos_limit&&n.purges.splice(0,n.purges.length-self.purged_infos_limit),n.purgeSeq=r,n}).catch(function(n){if(404!==n.status)throw n;return{_id:"_local/purges",purges:[{docId:e,rev:t,purgeSeq:0}],purgeSeq:0}}).then(function(e){return r.put(e)}).then(function(){return n(null,o)})})})});class ra{constructor(){this.isReady=!1,this.failed=!1,this.queue=[]}execute(){var e;if(this.failed)for(;e=this.queue.shift();)e(this.failed);else for(;e=this.queue.shift();)e()}fail(e){this.failed=e,this.execute()}ready(e){this.isReady=!0,this.db=e,this.execute()}addTask(e){this.queue.push(e),this.failed&&this.execute()}}function ru(e,t){let n=function(...e){if(!(this instanceof n))return new n(...e);t.apply(this,e)};return n.prototype=Object.create(e.prototype,{constructor:{value:n}}),n}class rc extends rs{constructor(e,t){super(),this._setup(e,t)}_setup(e,t){if(super._setup(),t=t||{},e&&"object"==typeof e&&(e=(t=e).name,delete t.name),void 0===t.deterministic_revs&&(t.deterministic_revs=!0),this.__opts=t=t4(t),this.auto_compaction=t.auto_compaction,this.purged_infos_limit=t.purged_infos_limit||1e3,this.prefix=rl.prefix,"string"!=typeof e)throw Error("Missing/invalid DB name");var n=function(e,t){var n=e.match(/([a-z-]*):\/\/(.*)/);if(n)return{name:/https?/.test(n[1])?n[1]+"://"+n[2]:n[2],adapter:n[1]};var r=rl.adapters,i=rl.preferredAdapters,o=rl.prefix,s=t.adapter;if(!s)for(var a=0;a<i.length;++a){if("idb"===(s=i[a])&&"websql"in r&&c&&localStorage["_pouch__websqldb_"+o+e]){nr("log",'PouchDB is downgrading "'+e+'" to WebSQL to avoid data loss, because it was already opened with WebSQL.');continue}break}var u=r[s];return{name:u&&"use_prefix"in u&&!u.use_prefix?e:o+e,adapter:s}}((t.prefix||"")+e,t);if(t.name=n.name,t.adapter=t.adapter||n.adapter,this.name=e,this._adapter=t.adapter,rl.emit("debug",["adapter","Picked adapter: ",t.adapter]),!rl.adapters[t.adapter]||!rl.adapters[t.adapter].valid())throw Error("Invalid Adapter: "+t.adapter);if(t.view_adapter&&(!rl.adapters[t.view_adapter]||!rl.adapters[t.view_adapter].valid()))throw Error("Invalid View Adapter: "+t.view_adapter);this.taskqueue=new ra,this.adapter=t.adapter,rl.adapters[t.adapter].call(this,t,e=>{if(e)return this.taskqueue.fail(e);var t=this;function n(e){t.removeListener("closed",r),e||t.constructor.emit("destroyed",t.name)}function r(){t.removeListener("destroyed",n),t.constructor.emit("unref",t)}t.once("destroyed",n),t.once("closed",r),t.constructor.emit("ref",t),this.emit("created",this),rl.emit("created",this.name),this.taskqueue.ready(this)})}}let rl=ru(rc,function(e,t){rc.prototype._setup.call(this,e,t)});var rf=fetch,rd=Headers;class rh{constructor(){this.tasks={}}list(){return Object.values(this.tasks)}add(e){let t=tX();return this.tasks[t]={id:t,name:e.name,total_items:e.total_items,created_at:new Date().toJSON()},t}get(e){return this.tasks[e]}remove(e,t){return delete this.tasks[e],this.tasks}update(e,t){let n=this.tasks[e];if(void 0!==n){let r={id:n.id,name:n.name,created_at:n.created_at,total_items:t.total_items||n.total_items,completed_items:t.completed_items||n.completed_items,updated_at:new Date().toJSON()};this.tasks[e]=r}return this.tasks}}rl.adapters={},rl.preferredAdapters=[],rl.prefix="_pouch_";var rp=new(t0());function ry(e,t){for(var n=e,r=0,i=t.length;r<i&&(n=n[t[r]]);r++);return n}function rg(e){for(var t=[],n="",r=0,i=e.length;r<i;r++){var o=e[r];r>0&&"\\"===e[r-1]&&("$"===o||"."===o)?n=n.substring(0,n.length-1)+o:"."===o?(t.push(n),n=""):n+=o}return t.push(n),t}!function(e){Object.keys(t0().prototype).forEach(function(t){"function"==typeof t0().prototype[t]&&(e[t]=rp[t].bind(rp))});var t=e._destructionListeners=new Map;e.on("ref",function(e){t.has(e.name)||t.set(e.name,[]),t.get(e.name).push(e)}),e.on("unref",function(e){if(t.has(e.name)){var n=t.get(e.name),r=n.indexOf(e);r<0||(n.splice(r,1),n.length>1?t.set(e.name,n):t.delete(e.name))}}),e.on("destroyed",function(e){if(t.has(e)){var n=t.get(e);t.delete(e),n.forEach(function(e){e.emit("destroyed",!0)})}})}(rl),rl.adapter=function(e,t,n){t.valid()&&(rl.adapters[e]=t,n&&rl.preferredAdapters.push(e))},rl.plugin=function(e){if("function"==typeof e)e(rl);else if("object"!=typeof e||0===Object.keys(e).length)throw Error('Invalid plugin: got "'+e+'", expected an object or a function');else Object.keys(e).forEach(function(t){rl.prototype[t]=e[t]});return this.__defaults&&(rl.__defaults=Object.assign({},this.__defaults)),rl},rl.defaults=function(e){let t=ru(rl,function(e,n){n=n||{},e&&"object"==typeof e&&(e=(n=e).name,delete n.name),n=Object.assign({},t.__defaults,n),rl.call(this,e,n)});return t.preferredAdapters=rl.preferredAdapters.slice(),Object.keys(rl).forEach(function(e){e in t||(t[e]=rl[e])}),t.__defaults=Object.assign({},this.__defaults,e),t},rl.fetch=function(e,t){return rf(e,t)},rl.prototype.activeTasks=rl.activeTasks=new rh;var rv=["$or","$nor","$not"];function rm(e){return rv.indexOf(e)>-1}function r_(e){return Object.keys(e)[0]}function rb(e){var t={},n={$or:!0,$nor:!0};return e.forEach(function(e){Object.keys(e).forEach(function(r){var i=e[r];if("object"!=typeof i&&(i={$eq:i}),rm(r))if(i instanceof Array){if(n[r]){n[r]=!1,t[r]=i;return}var o=[];t[r].forEach(function(e){Object.keys(i).forEach(function(t){var n=i[t],r=Math.max(Object.keys(e).length,Object.keys(n).length),s=rb([e,n]);Object.keys(s).length<=r||o.push(s)})}),t[r]=o}else t[r]=rb([i]);else{var s=t[r]=t[r]||{};Object.keys(i).forEach(function(e){var t,n,r,o,a,u,c,l,f,d,h,p,y=i[e];if("$gt"===e||"$gte"===e){return t=e,n=y,void(void 0===(r=s).$eq&&(void 0!==r.$gte?"$gte"===t?n>r.$gte&&(r.$gte=n):n>=r.$gte&&(delete r.$gte,r.$gt=n):void 0!==r.$gt?"$gte"===t?n>r.$gt&&(delete r.$gt,r.$gte=n):n>r.$gt&&(r.$gt=n):r[t]=n))}if("$lt"===e||"$lte"===e){return o=e,a=y,void(void 0===(u=s).$eq&&(void 0!==u.$lte?"$lte"===o?a<u.$lte&&(u.$lte=a):a<=u.$lte&&(delete u.$lte,u.$lt=a):void 0!==u.$lt?"$lte"===o?a<u.$lt&&(delete u.$lt,u.$lte=a):a<u.$lt&&(u.$lt=a):u[o]=a))}if("$ne"===e){return c=y,void("$ne"in(l=s)?l.$ne.push(c):l.$ne=[c])}if("$eq"===e){return f=y,d=s,void(delete d.$gt,delete d.$gte,delete d.$lt,delete d.$lte,delete d.$ne,d.$eq=f)}if("$regex"===e){return h=y,void("$regex"in(p=s)?p.$regex.push(h):p.$regex=[h])}s[e]=y})}})}),t}function rw(e,t){if(e===t)return 0;e=rk(e),t=rk(t);var n,r,i=rO(e),o=rO(t);if(i-o!=0)return i-o;switch(typeof e){case"number":return e-t;case"boolean":return e<t?-1:1;case"string":return(n=e)===(r=t)?0:n>r?1:-1}return Array.isArray(e)?function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=rw(e[r],t[r]);if(0!==i)return i}return e.length===t.length?0:e.length>t.length?1:-1}(e,t):function(e,t){for(var n=Object.keys(e),r=Object.keys(t),i=Math.min(n.length,r.length),o=0;o<i;o++){var s=rw(n[o],r[o]);if(0!==s||0!==(s=rw(e[n[o]],t[r[o]])))return s}return n.length===r.length?0:n.length>r.length?1:-1}(e,t)}function rk(e){switch(typeof e){case"undefined":return null;case"number":if(e===1/0||e===-1/0||isNaN(e))return null;break;case"object":var t=e;if(Array.isArray(e)){var n=e.length;e=Array(n);for(var r=0;r<n;r++)e[r]=rk(t[r])}else if(e instanceof Date)return e.toJSON();else if(null!==e){for(var i in e={},t)if(Object.prototype.hasOwnProperty.call(t,i)){var o=t[i];void 0!==o&&(e[i]=rk(o))}}}return e}function rx(e){return rO(e=rk(e))+""+function(e){if(null!==e)switch(typeof e){case"boolean":return+!!e;case"number":return function(e){if(0===e)return"1";var t,n=e.toExponential().split(/e\+?/),r=parseInt(n[1],10),i=e<0,o=i?"0":"2";o+=""+(t=((i?-r:r)- -324).toString(),function(e,t,n){for(var r="",i=3-e.length;r.length<i;)r+="0";return r}(t,"0",3)+t);var s=Math.abs(parseFloat(n[0]));i&&(s=10-s);var a=s.toFixed(20);return o+(""+(a=a.replace(/\.?0+$/,"")))}(e);case"string":return e.replace(/\u0002/g,"\x02\x02").replace(/\u0001/g,"\x01\x02").replace(/\u0000/g,"\x01\x01");case"object":var t=Array.isArray(e),n=t?e:Object.keys(e),r=-1,i=n.length,o="";if(t)for(;++r<i;)o+=rx(n[r]);else for(;++r<i;){var s=n[r];o+=rx(s)+rx(e[s])}return o}return""}(e)+"\0"}function rO(e){var t=["boolean","number","string","object"].indexOf(typeof e);return~t?null===e?1:Array.isArray(e)?5:t<3?t+2:t+3:Array.isArray(e)?5:void 0}function rE(e,t,n){return n.every(function(n){var r,i,o,s=t[n],a=rg(n),u=ry(e,a);return rm(n)?(r=n,i=s,o=e,"$or"===r?i.some(function(e){return rE(o,e,Object.keys(e))}):"$not"===r?!rE(o,i,Object.keys(i)):!i.find(function(e){return rE(o,e,Object.keys(e))})):rA(s,e,a,u)})}function rA(e,t,n,r){return!e||("object"==typeof e?Object.keys(e).every(function(i){var o=e[i];if(0===i.indexOf("$"))return rj(i,t,o,n,r);var s=rg(i);if(void 0===r&&"object"!=typeof o&&s.length>0)return!1;var a=ry(r,s);return"object"==typeof o?rA(o,t,n,a):rj("$eq",t,o,s,a)}):e===r)}function rj(e,t,n,r,i){if(!rR[e])throw Error('unknown operator "'+e+'" - should be one of $eq, $lte, $lt, $gt, $gte, $exists, $ne, $in, $nin, $size, $mod, $regex, $elemMatch, $type, $allMatch or $all');return rR[e](t,n,r,i)}function rS(e){return null!=e}function rq(e){return void 0!==e}function rC(e,t){return t.some(function(t){return e instanceof Array?e.some(function(e){return 0===rw(t,e)}):0===rw(t,e)})}var rR={$elemMatch:function(e,t,n,r){return!!Array.isArray(r)&&0!==r.length&&("object"==typeof r[0]&&null!==r[0]?r.some(function(e){return rE(e,t,Object.keys(t))}):r.some(function(r){return rA(t,e,n,r)}))},$allMatch:function(e,t,n,r){return!!Array.isArray(r)&&0!==r.length&&("object"==typeof r[0]&&null!==r[0]?r.every(function(e){return rE(e,t,Object.keys(t))}):r.every(function(r){return rA(t,e,n,r)}))},$eq:function(e,t,n,r){return rq(r)&&0===rw(r,t)},$gte:function(e,t,n,r){return rq(r)&&rw(r,t)>=0},$gt:function(e,t,n,r){return rq(r)&&rw(r,t)>0},$lte:function(e,t,n,r){return rq(r)&&0>=rw(r,t)},$lt:function(e,t,n,r){return rq(r)&&0>rw(r,t)},$exists:function(e,t,n,r){return t?rq(r):!rq(r)},$mod:function(e,t,n,r){return rS(r)&&"number"==typeof r&&parseInt(r,10)===r&&r%t[0]===t[1]},$ne:function(e,t,n,r){return t.every(function(e){return 0!==rw(r,e)})},$in:function(e,t,n,r){return rS(r)&&rC(r,t)},$nin:function(e,t,n,r){return rS(r)&&!rC(r,t)},$size:function(e,t,n,r){return rS(r)&&Array.isArray(r)&&r.length===t},$all:function(e,t,n,r){return Array.isArray(r)&&t.every(function(e){return r.some(function(t){return 0===rw(e,t)})})},$regex:function(e,t,n,r){return rS(r)&&"string"==typeof r&&t.every(function(e){return new RegExp(e).test(r)})},$type:function(e,t,n,r){switch(t){case"null":return null===r;case"boolean":return"boolean"==typeof r;case"number":return"number"==typeof r;case"string":return"string"==typeof r;case"array":return r instanceof Array;case"object":return"[object Object]"===({}).toString.call(r)}}};function rT(e,t){if(e.selector&&e.filter&&"_selector"!==e.filter)return t(Error('selector invalid for filter "'+("string"==typeof e.filter?e.filter:"function")+'"'));t()}function r$(e){e.view&&!e.filter&&(e.filter="_view"),e.selector&&!e.filter&&(e.filter="_selector"),e.filter&&"string"==typeof e.filter&&("_view"===e.filter?e.view=nS(e.view):e.filter=nS(e.filter))}function rB(e,t){return t.filter&&"string"==typeof t.filter&&!t.doc_ids&&!nA(e.db)}function rP(e,t){var n=t.complete;if("_view"===t.filter){if(!t.view||"string"!=typeof t.view)return n(nk(nv,"`view` filter parameter not found or invalid."));var r=nj(t.view);e.db.get("_design/"+r[0],function(i,o){if(e.isCancelled)return n(null,{status:"cancelled"});if(i)return n(nx(i));var s=o&&o.views&&o.views[r[1]]&&o.views[r[1]].map;if(!s)return n(nk(nu,o.views?"missing json key: "+r[1]:"missing json key: views"));t.filter=nB(["return function(doc) {",'  "use strict";',"  var emitted = false;","  var emit = function (a, b) {","    emitted = true;","  };","  var view = "+s+";","  view(doc);","  if (emitted) {","    return true;","  }","};"].join("\n"),{}),e.doChanges(t)})}else if(t.selector)t.filter=function(e){var n=t.selector;if("object"!=typeof n)throw Error("Selector error: expected a JSON object");var r=function(e,t,n){if(e=e.filter(function(e){return rE(e.doc,t.selector,n)}),t.sort){var r,i=function(e){function t(t){return e.map(function(e){return ry(t,rg(r_(e)))})}return function(e,n){var r,i,o=rw(t(e.doc),t(n.doc));return 0!==o?o:(r=e.doc._id)<(i=n.doc._id)?-1:+(r>i)}}(t.sort);e=e.sort(i),"string"!=typeof t.sort[0]&&"desc"===(r=t.sort[0])[r_(r)]&&(e=e.reverse())}if("limit"in t||"skip"in t){var o=t.skip||0,s=("limit"in t?t.limit:e.length)+o;e=e.slice(o,s)}return e}([{doc:e}],{selector:n=function(e){var t=t4(e);(function e(t,n){for(var r in t){"$and"===r&&(n=!0);var i=t[r];"object"==typeof i&&(n=e(i,n))}return n})(t,!1)&&"$and"in(t=function e(t){for(var n in t){if(Array.isArray(t))for(var r in t)t[r].$and&&(t[r]=rb(t[r].$and));var i=t[n];"object"==typeof i&&e(i)}return t}(t))&&(t=rb(t.$and)),["$or","$nor"].forEach(function(e){e in t&&t[e].forEach(function(e){for(var t=Object.keys(e),n=0;n<t.length;n++){var r=t[n],i=e[r];("object"!=typeof i||null===i)&&(e[r]={$eq:i})}})}),"$not"in t&&(t.$not=rb([t.$not]));for(var n=Object.keys(t),r=0;r<n.length;r++){var i=n[r],o=t[i];("object"!=typeof o||null===o)&&(o={$eq:o}),t[i]=o}return function e(t){Object.keys(t).forEach(function(n){var r=t[n];Array.isArray(r)?r.forEach(function(t){t&&"object"==typeof t&&e(t)}):"$ne"===n?t.$ne=[r]:"$regex"===n?t.$regex=[r]:r&&"object"==typeof r&&e(r)})}(t),t}(n)},Object.keys(n));return r&&1===r.length},e.doChanges(t);else{var i=nj(t.filter);e.db.get("_design/"+i[0],function(r,o){if(e.isCancelled)return n(null,{status:"cancelled"});if(r)return n(nx(r));var s=o&&o.filters&&o.filters[i[1]];if(!s)return n(nk(nu,o&&o.filters?"missing json key: "+i[1]:"missing json key: filters"));t.filter=nB('"use strict";\nreturn '+s+";",{}),e.doChanges(t)})}}function rL(e){return e.reduce(function(e,t){return e[t]=!0,e},{})}rl.plugin(function(e){e._changesFilterPlugin={validate:rT,normalize:r$,shouldFilter:rB,filter:rP}}),rl.version="9.0.0";var rU=rL(["_id","_rev","_access","_attachments","_deleted","_revisions","_revs_info","_conflicts","_deleted_conflicts","_local_seq","_rev_tree","_replication_id","_replication_state","_replication_state_time","_replication_state_reason","_replication_stats","_removed"]),rD=rL(["_access","_attachments","_replication_id","_replication_state","_replication_state_time","_replication_state_reason","_replication_stats"]);function rI(e){if(!/^\d+-/.test(e))return nk(nb);var t=e.indexOf("-"),n=e.substring(0,t),r=e.substring(t+1);return{prefix:parseInt(n,10),id:r}}function rN(e,t,n){n||(n={deterministic_revs:!0});var r,i,o,s={status:"available"};if(e._deleted&&(s.deleted=!0),t)if(e._id||(e._id=tX()),i=nV(e,n.deterministic_revs),e._rev){if((o=rI(e._rev)).error)return o;e._rev_tree=[{pos:o.prefix,ids:[o.id,{status:"missing"},[[i,s,[]]]]}],r=o.prefix+1}else e._rev_tree=[{pos:1,ids:[i,s,[]]}],r=1;else if(e._revisions&&(e._rev_tree=function(e,t){for(var n=e.start-e.ids.length+1,r=e.ids,i=[r[0],t,[]],o=1,s=r.length;o<s;o++)i=[r[o],{status:"missing"},[i]];return[{pos:n,ids:i}]}(e._revisions,s),r=e._revisions.start,i=e._revisions.ids[0]),!e._rev_tree){if((o=rI(e._rev)).error)return o;e._rev_tree=[{pos:r=o.prefix,ids:[i=o.id,s,[]]}]}nE(e._id),e._rev=r+"-"+i;var a={metadata:{},data:{}};for(var u in e)if(Object.prototype.hasOwnProperty.call(e,u)){var c="_"===u[0];if(c&&!rU[u]){var l=nk(ng,u);throw l.message=ng.message+": "+u,l}c&&!rD[u]?a.metadata[u.slice(1)]=e[u]:a.data[u]=e[u]}return a}var rM="document-store",rF="by-sequence",rK="attach-store",rz="attach-seq-store",rJ="meta-store",rW="local-store",rV="detect-blob-support";function rH(e){return function(t){var n="unknown_error";t.target&&t.target.error&&(n=t.target.error.name||t.target.error.message),e(nk(n_,n,t.type))}}function rQ(e,t,n){return{data:function(e){try{return JSON.stringify(e)}catch(t){return tY.stringify(e)}}(e),winningRev:t,deletedOrLocal:n?"1":"0",seq:e.seq,id:e.id}}function rG(e){if(!e)return null;var t=function(e){try{return JSON.parse(e)}catch(t){return tY.parse(e)}}(e.data);return t.winningRev=e.winningRev,t.deleted="1"===e.deletedOrLocal,t.seq=e.seq,t}function rX(e){if(!e)return e;var t=e._doc_id_rev.lastIndexOf(":");return e._id=e._doc_id_rev.substring(0,t-1),e._rev=e._doc_id_rev.substring(t+1),delete e._doc_id_rev,e}function rY(e,t,n,r){if(n)if(e)if("string"!=typeof e)r(e);else r(nI(nL(e),t));else r(nD([""],{type:t}));else e?"string"!=typeof e?nN(e,function(e){r(nU(e))}):r(e):r("")}function rZ(e,t,n,r){var i=Object.keys(e._attachments||{});if(!i.length)return r&&r();var o=0;function s(){++o===i.length&&r&&r()}i.forEach(function(r){if(t.attachments&&t.include_docs){var i,o;o=(i=e._attachments[r]).digest,n.objectStore(rK).get(o).onsuccess=function(e){i.body=e.target.result.body,s()}}else e._attachments[r].stub=!0,s()})}function r0(e,t){return Promise.all(e.map(function(e){if(e.doc&&e.doc._attachments)return Promise.all(Object.keys(e.doc._attachments).map(function(n){var r=e.doc._attachments[n];if("body"in r){var i=r.body,o=r.content_type;return new Promise(function(s){rY(i,o,t,function(t){e.doc._attachments[n]=Object.assign(t8(r,["digest","content_type"]),{data:t}),s()})})}}))}))}function r1(e,t,n){var r=[],i=n.objectStore(rF),o=n.objectStore(rK),s=n.objectStore(rz),a=e.length;function u(){r.length&&r.forEach(function(e){s.index("digestSeq").count(IDBKeyRange.bound(e+"::",e+"::",!1,!1)).onsuccess=function(t){t.target.result||o.delete(e)}})}e.forEach(function(e){i.index("_doc_id_rev").getKey(t+"::"+e).onsuccess=function(e){var t=e.target.result;if("number"!=typeof t)return void(!--a&&u());i.delete(t),s.index("seq").openCursor(IDBKeyRange.only(t)).onsuccess=function(e){var t=e.target.result;if(t){var n=t.value.digestSeq.split("::")[0];r.push(n),s.delete(t.primaryKey),t.continue()}else--a||u()}}})}function r2(e,t,n){try{return{txn:e.transaction(t,n)}}catch(e){return{error:e}}}var r4=new nn;function r5(e,t,n,r,i){var o,s,a;function u(e){s=e.target.result,o&&i(o,s,a)}function c(e){o=e.target.result,s&&i(o,s,a)}function l(e){var t=e.target.result;if(!t)return i();i([t.key],[t.value],t)}-1===r&&(r=1e3),"function"==typeof e.getAll&&"function"==typeof e.getAllKeys&&r>1&&!n?(a={continue:function(){if(!o.length)return i();var n,a=o[o.length-1];if(t&&t.upper)try{n=IDBKeyRange.bound(a,t.upper,!0,t.upperOpen)}catch(e){if("DataError"===e.name&&0===e.code)return i()}else n=IDBKeyRange.lowerBound(a,!0);t=n,o=null,s=null,e.getAll(t,r).onsuccess=u,e.getAllKeys(t,r).onsuccess=c}},e.getAll(t,r).onsuccess=u,e.getAllKeys(t,r).onsuccess=c):n?e.openCursor(t,"prev").onsuccess=l:e.openCursor(t).onsuccess=l}var r6=!1,r3=[];function r8(){!r6&&r3.length&&(r6=!0,r3.shift()())}var r7=new Map,r9=new Map;function ie(e,t){var n,r,i=this;n=function(t){!function(e,t,n){var r=t.name,i=null,o=null;function s(e){return function(t,n){t&&t instanceof Error&&!t.reason&&o&&(t.reason=o),e(t,n)}}function a(e,t){var n=e.objectStore(rM);n.createIndex("deletedOrLocal","deletedOrLocal",{unique:!1}),n.openCursor().onsuccess=function(e){var r=e.target.result;if(r){var i=r.value,o=n8(i);i.deletedOrLocal=o?"1":"0",n.put(i),r.continue()}else t()}}function u(e,t){var n=e.objectStore(rW),r=e.objectStore(rM),i=e.objectStore(rF);r.openCursor().onsuccess=function(e){var o=e.target.result;if(o){var s=o.value,a=s.id,u=n7(a),c=nH(s);if(u){var l=a+"::"+c,f=i.index("_doc_id_rev"),d=IDBKeyRange.bound(a+"::",a+"::~",!1,!1),h=f.openCursor(d);h.onsuccess=function(e){if(h=e.target.result){var t=h.value;t._doc_id_rev===l&&n.put(t),i.delete(h.primaryKey),h.continue()}else r.delete(o.primaryKey),o.continue()}}else o.continue()}else t&&t()}}function f(e,t){var n=e.objectStore(rF),r=e.objectStore(rK),i=e.objectStore(rz);r.count().onsuccess=function(e){if(!e.target.result)return t();n.openCursor().onsuccess=function(e){var n=e.target.result;if(!n)return t();for(var r=n.value,o=n.primaryKey,s=Object.keys(r._attachments||{}),a={},u=0;u<s.length;u++)a[r._attachments[s[u]].digest]=!0;var c=Object.keys(a);for(u=0;u<c.length;u++){var l=c[u];i.put({seq:o,digestSeq:l+"::"+o})}n.continue()}}}function d(e){var t=e.objectStore(rF),n=e.objectStore(rM);n.openCursor().onsuccess=function(e){var r=e.target.result;if(r){var i,o,s,a,u,c=(u=r.value).data?rG(u):(u.deleted="1"===u.deletedOrLocal,u);if(c.winningRev=c.winningRev||nH(c),c.seq)return l();i=c.id+"::",o=c.id+"::",s=t.index("_doc_id_rev").openCursor(IDBKeyRange.bound(i,o)),a=0,s.onsuccess=function(e){var t=e.target.result;if(!t)return c.seq=a,l();var n=t.primaryKey;n>a&&(a=n),t.continue()}}function l(){var e=rQ(c,c.winningRev,c.deleted);n.put(e).onsuccess=function(){r.continue()}}}}e._meta=null,e._remote=!1,e.type=function(){return"idb"},e._id=t6(function(t){t(null,e._meta.instanceId)}),e._bulkDocs=function(n,r,o){!function(e,t,n,r,i,o){for(var s,a,u,c,l,f,d,h,p=t.docs,y=0,g=p.length;y<g;y++){var v=p[y];v._id&&n7(v._id)||(v=p[y]=rN(v,n.new_edits,e)).error&&!d&&(d=v)}if(d)return o(d);var m=!1,b=0,w=Array(p.length),k=new Map,x=!1;function O(){m=!0,E()}function E(){h&&m&&(h.docCount+=b,f.put(h))}function A(){x||(r4.notify(r._meta.name),o(null,w))}function j(e,t,n,r,i,o,s,a){e.metadata.winningRev=t,e.metadata.deleted=n;var u=e.data;if(u._id=e.metadata.id,u._rev=e.metadata.rev,r&&(u._deleted=!0),u._attachments&&Object.keys(u._attachments).length)return function(e,t,n,r,i,o){var s=e.data,a=0,u=Object.keys(s._attachments);function l(){a===u.length&&S(e,t,n,r,i,o)}function f(){a++,l()}u.forEach(function(n){var r=e.data._attachments[n];if(r.stub)a++,l();else{var i,o,s,u=r.data;delete r.data,r.revpos=parseInt(t,10),i=r.digest,o=u,s=f,c.count(i).onsuccess=function(e){if(e.target.result)return s();c.put({digest:i,body:o}).onsuccess=s}}})}(e,t,n,i,s,a);b+=o,E(),S(e,t,n,i,s,a)}function S(e,t,n,i,o,c){var f=e.data,d=e.metadata;function h(o){var u,c,l=e.stemmedRevs||[];i&&r.auto_compaction&&(l=l.concat((u=e.metadata,c=[],nQ(u.rev_tree,function(e,t,n,r,i){"available"!==i.status||e||(c.push(t+"-"+n),i.status="missing")}),c))),l&&l.length&&r1(l,e.metadata.id,s),d.seq=o.target.result;var f=rQ(d,t,n);a.put(f).onsuccess=p}function p(){w[o]={ok:!0,id:d.id,rev:d.rev},k.set(e.metadata.id,e.metadata),function(e,t,n){var r=0,i=Object.keys(e.data._attachments||{});if(!i.length)return n();function o(){++r===i.length&&n()}for(var s=0;s<i.length;s++)!function(n){var r=e.data._attachments[n].digest,i=l.put({seq:t,digestSeq:r+"::"+t});i.onsuccess=o,i.onerror=function(e){e.preventDefault(),e.stopPropagation(),o()}}(i[s])}(e,d.seq,c)}f._doc_id_rev=d.id+"::"+d.rev,delete f._id,delete f._rev;var y=u.put(f);y.onsuccess=h,y.onerror=function(e){e.preventDefault(),e.stopPropagation(),u.index("_doc_id_rev").getKey(f._doc_id_rev).onsuccess=function(e){u.put(f,e.target.result).onsuccess=h}}}!function(e,t,n){if(!e.length)return n();var r,i=0;function o(){i++,e.length===i&&(r?n(r):n())}e.forEach(function(e){var n=e.data&&e.data._attachments?Object.keys(e.data._attachments):[],i=0;if(!n.length)return o();function s(e){r=e,++i===n.length&&o()}for(var a in e.data._attachments)Object.prototype.hasOwnProperty.call(e.data._attachments,a)&&function(e,t,n){if(e.stub)return n();if("string"==typeof e.data)!function(e,t,n){var r=function(e){try{return nL(e)}catch(e){return{error:nk(np,"Attachment is not a valid base64 string")}}}(e.data);if(r.error)return n(r.error);e.length=r.length,"blob"===t?e.data=nI(r,e.content_type):"base64"===t?e.data=nU(r):e.data=r,nW(r,function(t){e.digest="md5-"+t,n()})}(e,t,n);else nW(e.data,function(r){e.digest="md5-"+r,e.length=e.data.size||e.data.length||0,"binary"===t?nM(e.data,function(t){e.data=t,n()}):"base64"===t?nF(e.data,function(t){e.data=t,n()}):n()})}(e.data._attachments[a],t,s)})}(p,r._meta.blobSupport?"blob":"base64",function(t){if(t)return o(t);!function(){var t=r2(i,[rM,rF,rK,rW,rz,rJ],"readwrite");if(t.error)return o(t.error);(s=t.txn).onabort=rH(o),s.ontimeout=rH(o),s.oncomplete=A,a=s.objectStore(rM),u=s.objectStore(rF),c=s.objectStore(rK),l=s.objectStore(rz),(f=s.objectStore(rJ)).get(rJ).onsuccess=function(e){h=e.target.result,E()},function(e){var t,n=[];if(p.forEach(function(e){e.data&&e.data._attachments&&Object.keys(e.data._attachments).forEach(function(t){var r=e.data._attachments[t];r.stub&&n.push(r.digest)})}),!n.length)return e();var r=0;n.forEach(function(i){var o;o=function(i){i&&!t&&(t=i),++r===n.length&&e(t)},c.get(i).onsuccess=function(e){if(e.target.result)o();else{var t=nk(nw,"unknown stub attachment with digest "+i);t.status=412,o(t)}}})}(function(t){if(t)return x=!0,o(t);!function(){if(p.length)for(var t=0,i=0,o=p.length;i<o;i++){var u=p[i];if(u._id&&n7(u._id)){c();continue}a.get(u.metadata.id).onsuccess=l}function c(){++t===p.length&&function(e,t,n,r,i,o,s,a,u){e=e||1e3;var c=a.new_edits,l=new Map,f=0,d=t.length;function h(){++f===d&&u&&u()}t.forEach(function(e,t){if(e._id&&n7(e._id))return void n[e._deleted?"_removeLocal":"_putLocal"](e,{ctx:i},function(e,n){o[t]=e||n,h()});var r=e.metadata.id;l.has(r)?(d--,l.get(r).push([e,t])):l.set(r,[[e,t]])}),l.forEach(function(t,n){var i=0;function u(){++i<t.length?l():h()}function l(){var l=t[i],f=l[0],d=l[1];if(r.has(n))!function(e,t,n,r,i,o,s,a){if(function(e,t){for(var n,r=e.slice(),i=t.split("-"),o=parseInt(i[0],10),s=i[1];n=r.pop();){if(n.pos===o&&n.ids[0]===s)return!0;for(var a=n.ids[2],u=0,c=a.length;u<c;u++)r.push({pos:n.pos+1,ids:a[u]})}return!1}(t.rev_tree,n.metadata.rev)&&!a)return r[i]=n,o();var u,c=t.winningRev||nH(t),l="deleted"in t?t.deleted:n8(t,c),f="deleted"in n.metadata?n.metadata.deleted:n8(n.metadata),d=/^1-/.test(n.metadata.rev);if(l&&!f&&a&&d){var h=n.data;h._rev=c,h._id=n.metadata.id,n=rN(h,a)}var p=n6(t.rev_tree,n.metadata.rev_tree[0],e);if(a&&(l&&f&&"new_leaf"!==p.conflicts||!l&&"new_leaf"!==p.conflicts||l&&!f&&"new_branch"===p.conflicts)){var y=nk(nc);return r[i]=y,o()}var g=n.metadata.rev;n.metadata.rev_tree=p.tree,n.stemmedRevs=p.stemmedRevs||[],t.rev_map&&(n.metadata.rev_map=t.rev_map);var v=nH(n.metadata),m=n8(n.metadata,v),b=l===m?0:l<m?-1:1;u=g===v?m:n8(n.metadata,g),s(n,v,m,u,!0,b,i,o)}(e,r.get(n),f,o,d,u,s,c);else{var h=n6([],f.metadata.rev_tree[0],e);f.metadata.rev_tree=h.tree,f.stemmedRevs=h.stemmedRevs||[],function(e,t,n){var r=nH(e.metadata),i=n8(e.metadata,r);if("was_delete"in a&&i)return o[t]=nk(nu,"deleted"),n();if(c&&"missing"===e.metadata.rev_tree[0].ids[1].status){var u=nk(nc);return o[t]=u,n()}var l=+!i;s(e,r,i,i,!1,l,t,n)}(f,d,u)}}l()})}(e.revs_limit,p,r,k,s,w,j,n,O)}function l(e){var t=rG(e.target.result);t&&k.set(t.id,t),c()}}()})}()})}(t,n,r,e,i,s(o))},e._get=function(e,t,n){var r,o,s,a=t.ctx;if(!a){var u=r2(i,[rM,rF,rK],"readonly");if(u.error)return n(u.error);a=u.txn}function c(){n(s,{doc:r,metadata:o,ctx:a})}a.objectStore(rM).get(e).onsuccess=function(e){if(!(o=rG(e.target.result)))return s=nk(nu,"missing"),c();if(t.rev)n=t.latest?function(e,t){for(var n,r=t.rev_tree.slice();n=r.pop();){var i=n.pos,o=n.ids,s=o[0],a=o[1],u=o[2],c=0===u.length,l=n.history?n.history.slice():[];if(l.push({id:s,pos:i,opts:a}),c)for(var f=0,d=l.length;f<d;f++){var h=l[f];if(h.pos+"-"+h.id===e)return i+"-"+s}for(var p=0,y=u.length;p<y;p++)r.push({pos:i+1,ids:u[p],history:l})}throw Error("Unable to resolve latest revision for id "+t.id+", rev "+e)}(t.rev,o):t.rev;else{var n=o.winningRev;if(n8(o))return s=nk(nu,"deleted"),c()}var i=a.objectStore(rF),u=o.id+"::"+n;i.index("_doc_id_rev").get(u).onsuccess=function(e){if((r=e.target.result)&&(r=rX(r)),!r)return s=nk(nu,"missing"),c();c()}}},e._getAttachment=function(e,t,n,r,o){if(r.ctx)s=r.ctx;else{var s,a=r2(i,[rM,rF,rK],"readonly");if(a.error)return o(a.error);s=a.txn}var u=n.digest,c=n.content_type;s.objectStore(rK).get(u).onsuccess=function(e){rY(e.target.result.body,c,r.binary,function(e){o(null,e)})}},e._info=function(t){var n,r,o=r2(i,[rJ,rF],"readonly");if(o.error)return t(o.error);var s=o.txn;s.objectStore(rJ).get(rJ).onsuccess=function(e){r=e.target.result.docCount},s.objectStore(rF).openKeyCursor(null,"prev").onsuccess=function(e){var t=e.target.result;n=t?t.key:0},s.oncomplete=function(){t(null,{doc_count:r,update_seq:n,idb_attachment_format:e._meta.blobSupport?"binary":"base64"})}},e._allDocs=function(e,t){!function(e,t,n){var r,i,o,s,a,u,c="startkey"in e&&e.startkey,l="endkey"in e&&e.endkey,f="key"in e&&e.key,d="keys"in e&&e.keys,h=e.skip||0,p="number"==typeof e.limit?e.limit:-1,y=!1!==e.inclusive_end;if(!d&&(s=(o=function(e,t,n,r,i){try{if(e&&t)if(i)return IDBKeyRange.bound(t,e,!n,!1);else return IDBKeyRange.bound(e,t,!1,!n);if(e)if(i)return IDBKeyRange.upperBound(e);else return IDBKeyRange.lowerBound(e);if(t)if(i)return IDBKeyRange.lowerBound(t,!n);else return IDBKeyRange.upperBound(t,!n);else if(r)return IDBKeyRange.only(r)}catch(e){return{error:e}}return null}(c,l,y,f,e.descending))&&o.error)&&("DataError"!==s.name||0!==s.code))return n(nk(n_,s.name,s.message));var g=[rM,rF,rJ];e.attachments&&g.push(rK);var v=r2(t,g,"readonly");if(v.error)return n(v.error);var m=v.txn;m.oncomplete=function(){e.attachments?r0(O,e.binary).then(j):j()},m.onabort=rH(n);var b=m.objectStore(rM),w=m.objectStore(rF),k=m.objectStore(rJ),x=w.index("_doc_id_rev"),O=[];function E(t){for(var n=0,r=t.length;n<r&&O.length!==p;n++){var i=t[n];if(i.error&&d){O.push(i);continue}var o=rG(i);!function(t,n){var r,i={id:n.id,key:n.id,value:{rev:t}};n.deleted?d&&(O.push(i),i.value.deleted=!0,i.doc=null):h--<=0&&(O.push(i),e.include_docs&&(r=n.id+"::"+t,x.get(r).onsuccess=function(t){if(i.doc=rX(t.target.result)||{},e.conflicts){var r=nY(n);r.length&&(i.doc._conflicts=r)}rZ(i.doc,e,m)}))}(o.winningRev,o)}}function A(e,t,n){n&&(E(t),O.length<p&&n.continue())}function j(){var t={total_rows:a,offset:e.skip,rows:O};e.update_seq&&void 0!==u&&(t.update_seq=u),n(null,t)}if(k.get(rJ).onsuccess=function(e){a=e.target.result.docCount},e.update_seq&&(w.openKeyCursor(null,"prev").onsuccess=e=>{var t=e.target.result;t&&t.key&&(u=t.key)}),!s&&0!==p){if(d)return r=Array(d.length),i=0,d.forEach(function(e,t){b.get(e).onsuccess=function(n){n.target.result?r[t]=n.target.result:r[t]={key:e,error:"not_found"},++i===d.length&&A(d,r,{})}});if(-1===p){var S=o,q=function(t){var n=t.target.result;e.descending&&(n=n.reverse()),E(n)};if("function"==typeof b.getAll){b.getAll(S).onsuccess=q;return}var C=[];b.openCursor(S).onsuccess=function(e){var t=e.target.result;t?(C.push(t.value),t.continue()):q({target:{result:C}})};return}r5(b,o,e.descending,p+h,A)}}(e,i,s(t))},e._changes=function(t){return function(e,t,n,r){if((e=t4(e)).continuous){var i,o,s,a,u=n+":"+tX();return r4.addListener(n,u,t,e),r4.notify(n),{cancel:function(){r4.removeListener(n,u)}}}var c=e.doc_ids&&new Set(e.doc_ids);e.since=e.since||0;var l=e.since,f="limit"in e?e.limit:-1;0===f&&(f=1);var d=[],h=0,p=nO(e),y=new Map;function g(e,t,n,r){if(n.seq!==t)return r();if(n.winningRev===e._rev)return r(n,e);var i=e._id+"::"+n.winningRev;a.get(i).onsuccess=function(e){r(n,rX(e.target.result))}}function v(){e.complete(null,{results:d,last_seq:l})}var m=[rM,rF];e.attachments&&m.push(rK);var b=r2(r,m,"readonly");if(b.error)return e.complete(b.error);(i=b.txn).onabort=rH(e.complete),i.oncomplete=function(){!e.continuous&&e.attachments?r0(d).then(v):v()},o=i.objectStore(rF),s=i.objectStore(rM),a=o.index("_doc_id_rev"),r5(o,e.since&&!e.descending?IDBKeyRange.lowerBound(e.since,!0):null,e.descending,f,function(t,n,r){if(r&&t.length){var o=Array(t.length),a=Array(t.length),u=0;n.forEach(function(n,v){!function(e,t,n){if(c&&!c.has(e._id))return n();var r=y.get(e._id);if(r)return g(e,t,r,n);s.get(e._id).onsuccess=function(i){r=rG(i.target.result),y.set(e._id,r),g(e,t,r,n)}}(rX(n),t[v],function(n,s){a[v]=n,o[v]=s,++u===t.length&&function(){for(var t=[],n=0,s=o.length;n<s&&h!==f;n++){var u=o[n];if(u){var c=a[n];t.push(function(t,n){var r=e.processChange(n,t,e);l=r.seq=t.seq;var o=p(r);return"object"==typeof o?Promise.reject(o):o?(h++,e.return_docs&&d.push(r),e.attachments&&e.include_docs)?new Promise(function(t){rZ(n,e,i,function(){r0([r],e.binary).then(function(){t(r)})})}):Promise.resolve(r):Promise.resolve()}(c,u))}}Promise.all(t).then(function(t){for(var n=0,r=t.length;n<r;n++)t[n]&&e.onChange(t[n])}).catch(e.complete),h!==f&&r.continue()}()})})}})}(t,e,r,i)},e._close=function(e){i.close(),r7.delete(r),e()},e._getRevisionTree=function(e,t){var n=r2(i,[rM],"readonly");if(n.error)return t(n.error);n.txn.objectStore(rM).get(e).onsuccess=function(e){var n=rG(e.target.result);n?t(null,n.rev_tree):t(nk(nu))}},e._doCompaction=function(e,t,n){var r=r2(i,[rM,rF,rK,rz],"readwrite");if(r.error)return n(r.error);var o=r.txn;o.objectStore(rM).get(e).onsuccess=function(n){var r=rG(n.target.result);nQ(r.rev_tree,function(e,n,r,i,o){-1!==t.indexOf(n+"-"+r)&&(o.status="missing")}),r1(t,e,o);var i=r.winningRev,s=r.deleted;o.objectStore(rM).put(rQ(r,i,s))},o.onabort=rH(n),o.oncomplete=function(){n()}},e._getLocal=function(e,t){var n=r2(i,[rW],"readonly");if(n.error)return t(n.error);var r=n.txn.objectStore(rW).get(e);r.onerror=rH(t),r.onsuccess=function(e){var n=e.target.result;n?(delete n._doc_id_rev,t(null,n)):t(nk(nu))}},e._putLocal=function(e,t,n){"function"==typeof t&&(n=t,t={}),delete e._revisions;var r,o,s=e._rev,a=e._id;s?e._rev="0-"+(parseInt(s.split("-")[1],10)+1):e._rev="0-1";var u=t.ctx;if(!u){var c=r2(i,[rW],"readwrite");if(c.error)return n(c.error);(u=c.txn).onerror=rH(n),u.oncomplete=function(){r&&n(null,r)}}var l=u.objectStore(rW);s?(o=l.get(a)).onsuccess=function(i){var o=i.target.result;o&&o._rev===s?l.put(e).onsuccess=function(){r={ok:!0,id:e._id,rev:e._rev},t.ctx&&n(null,r)}:n(nk(nc))}:((o=l.add(e)).onerror=function(e){n(nk(nc)),e.preventDefault(),e.stopPropagation()},o.onsuccess=function(){r={ok:!0,id:e._id,rev:e._rev},t.ctx&&n(null,r)})},e._removeLocal=function(e,t,n){"function"==typeof t&&(n=t,t={});var r,o=t.ctx;if(!o){var s=r2(i,[rW],"readwrite");if(s.error)return n(s.error);(o=s.txn).oncomplete=function(){r&&n(null,r)}}var a=e._id,u=o.objectStore(rW),c=u.get(a);c.onerror=rH(n),c.onsuccess=function(i){var o=i.target.result;o&&o._rev===e._rev?(u.delete(a),r={ok:!0,id:a,rev:"0-0"},t.ctx&&n(null,r)):n(nk(nu))}},e._destroy=function(e,t){r4.removeAllListeners(r);var n=r9.get(r);n&&n.result&&(n.result.close(),r7.delete(r));var i=indexedDB.deleteDatabase(r);i.onsuccess=function(){r9.delete(r),c&&r in localStorage&&delete localStorage[r],t(null,{ok:!0})},i.onerror=rH(t)};var h=r7.get(r);if(h)return i=h.idb,e._meta=h.global,nt(function(){n(null,e)});var p=indexedDB.open(r,5);r9.set(r,p),p.onupgradeneeded=function(e){var t,n,r,i=e.target.result;if(e.oldVersion<1)return t=i.createObjectStore(rM,{keyPath:"id"}),i.createObjectStore(rF,{autoIncrement:!0}).createIndex("_doc_id_rev","_doc_id_rev",{unique:!0}),i.createObjectStore(rK,{keyPath:"digest"}),i.createObjectStore(rJ,{keyPath:"id",autoIncrement:!1}),i.createObjectStore(rV),t.createIndex("deletedOrLocal","deletedOrLocal",{unique:!1}),i.createObjectStore(rW,{keyPath:"_id"}),void((n=i.createObjectStore(rz,{autoIncrement:!0})).createIndex("seq","seq"),n.createIndex("digestSeq","digestSeq",{unique:!0}));var o=e.currentTarget.transaction;e.oldVersion<3&&i.createObjectStore(rW,{keyPath:"_id"}).createIndex("_doc_id_rev","_doc_id_rev",{unique:!0}),e.oldVersion<4&&((r=i.createObjectStore(rz,{autoIncrement:!0})).createIndex("seq","seq"),r.createIndex("digestSeq","digestSeq",{unique:!0}));var s=[a,u,f,d],c=e.oldVersion;!function e(){var t=s[c-1];c++,t&&t(o,e)}()},p.onsuccess=function(t){(i=t.target.result).onversionchange=function(){i.close(),r7.delete(r)},i.onabort=function(e){nr("error","Database has a global failure",e.target.error),o=e.target.error,i.close(),r7.delete(r)};var s,a,u,c,f,d=i.transaction([rJ,rV,rM],"readwrite"),h=!1;function p(){void 0!==c&&h&&(e._meta={name:r,instanceId:f,blobSupport:c},r7.set(r,{idb:i,global:e._meta}),n(null,e))}function y(){if(void 0!==u&&void 0!==a){var e=r+"_id";e in a?f=a[e]:a[e]=f=tX(),a.docCount=u,d.objectStore(rJ).put(a)}}d.objectStore(rJ).get(rJ).onsuccess=function(e){a=e.target.result||{id:rJ},y()},s=function(e){u=e,y()},d.objectStore(rM).index("deletedOrLocal").count(IDBKeyRange.only("0")).onsuccess=function(e){s(e.target.result)},l||(l=new Promise(function(e){let t;var n=nD([""]);(t=d.objectStore(rV).put(n,"key")).onsuccess=function(){var t=navigator.userAgent.match(/Chrome\/(\d+)/);e(navigator.userAgent.match(/Edge\//)||!t||parseInt(t[1],10)>=43)},t.onerror=d.onabort=function(t){t.preventDefault(),t.stopPropagation(),e(!1)}}).catch(function(){return!1})),l.then(function(e){c=e,p()}),d.oncomplete=function(){h=!0,p()},d.onabort=rH(n)},p.onerror=function(e){var t=e.target.error&&e.target.error.message;t?-1!==t.indexOf("stored database is a higher version")&&(t=Error('This DB was created with the newer "indexeddb" adapter, but you are trying to open it with the older "idb" adapter')):t="Failed to open indexedDB, are you in private browsing mode?",nr("error",t),n(nk(n_,t))}}(i,e,t)},r=i.constructor,r3.push(function(){n(function(e,n){try{t(e,n)}catch(e){r.emit("error",e)}r6=!1,nt(function(){r8(r)})})}),r8()}ie.valid=function(){try{return"undefined"!=typeof indexedDB&&"undefined"!=typeof IDBKeyRange}catch(e){return!1}};let it={};function ir(e){let t=e.doc||e.ok,n=t&&t._attachments;n&&Object.keys(n).forEach(function(e){var t,r;let i=n[e];t=i.data,r=i.content_type,i.data=nI(nL(t),r)})}function ii(e){return/^_design/.test(e)?"_design/"+encodeURIComponent(e.slice(8)):e.startsWith("_local/")?"_local/"+encodeURIComponent(e.slice(7)):encodeURIComponent(e)}function io(e){return e._attachments&&Object.keys(e._attachments)?Promise.all(Object.keys(e._attachments).map(function(t){let n=e._attachments[t];if(n.data&&"string"!=typeof n.data)return new Promise(function(e){nF(n.data,e)}).then(function(e){n.data=e})})):Promise.resolve()}function is(e,t){return ia(e,e.db+"/"+t)}function ia(e,t){let n=e.path?"/":"";return e.protocol+"://"+e.host+(e.port?":"+e.port:"")+"/"+e.path+n+t}function iu(e){let t=Object.keys(e);return 0===t.length?"":"?"+t.map(t=>t+"="+encodeURIComponent(e[t])).join("&")}function ic(e,t){let n,r=this,i=function(e,t){if(function(e){if(!e.prefix)return!1;let t=n$(e.prefix).protocol;return"http"===t||"https"===t}(t)){let n=t.name.substr(t.prefix.length);e=t.prefix.replace(/\/?$/,"/")+encodeURIComponent(n)}let n=n$(e);(n.user||n.password)&&(n.auth={username:n.user,password:n.password});let r=n.path.replace(/(^\/|\/$)/g,"").split("/");return n.db=r.pop(),-1===n.db.indexOf("%")&&(n.db=encodeURIComponent(n.db)),n.path=r.join("/"),n}(e.name,e),o=is(i,"");e=t4(e);let s=async function(t,n){if((n=n||{}).headers=n.headers||new rd,n.credentials="include",e.auth||i.auth){let t=e.auth||i.auth,r=nU(unescape(encodeURIComponent(t.username+":"+t.password)));n.headers.set("Authorization","Basic "+r)}let r=e.headers||{};Object.keys(r).forEach(function(e){n.headers.append(e,r[e])}),function(e){let t="undefined"!=typeof navigator&&navigator.userAgent?navigator.userAgent.toLowerCase():"",n=-1!==t.indexOf("msie"),r=-1!==t.indexOf("trident"),i=-1!==t.indexOf("edge"),o=!("method"in e)||"GET"===e.method;return(n||r||i)&&o}(n)&&(t+=(-1===t.indexOf("?")?"?":"&")+"_nonce="+Date.now());let o=e.fetch||rf;return await o(t,n)};function a(e,t){return t3(e,function(...e){c().then(function(){return t.apply(this,e)}).catch(function(t){e.pop()(t)})}).bind(r)}async function u(e,t){let n={};(t=t||{}).headers=t.headers||new rd,t.headers.get("Content-Type")||t.headers.set("Content-Type","application/json"),t.headers.get("Accept")||t.headers.set("Accept","application/json");let r=await s(e,t);if(n.ok=r.ok,n.status=r.status,n.data=await r.json(),!n.ok)throw n.data.status=n.status,nx(n.data);return Array.isArray(n.data)&&(n.data=n.data.map(function(e){return e.error||e.missing?nx(e):e})),n}async function c(){return e.skip_setup?Promise.resolve():(n||(n=u(o).catch(function(e){return e&&e.status&&404===e.status?(no(404,"PouchDB is just detecting if the remote exists."),u(o,{method:"PUT"})):Promise.reject(e)}).catch(function(e){return!!e&&!!e.status&&412===e.status||Promise.reject(e)})).catch(function(){n=null}),n)}function l(e){return e.split("/").map(encodeURIComponent).join("/")}nt(function(){t(null,r)}),r._remote=!0,r.type=function(){return"http"},r.id=a("id",async function(e){let t;try{let e=await s(ia(i,""));t=await e.json()}catch(e){t={}}e(null,t&&t.uuid?t.uuid+i.db:is(i,""))}),r.compact=a("compact",async function(e,t){"function"==typeof e&&(t=e,e={}),e=t4(e),await u(is(i,"_compact"),{method:"POST"}),!function n(){r.info(function(r,i){i&&!i.compact_running?t(null,{ok:!0}):setTimeout(n,e.interval||200)})}()}),r.bulkGet=t3("bulkGet",function(e,t){let n=this;async function r(t){let n={};e.revs&&(n.revs=!0),e.attachments&&(n.attachments=!0),e.latest&&(n.latest=!0);try{let r=await u(is(i,"_bulk_get"+iu(n)),{method:"POST",body:JSON.stringify({docs:e.docs})});e.attachments&&e.binary&&r.data.results.forEach(function(e){e.docs.forEach(ir)}),t(null,r.data)}catch(e){t(e)}}function o(){let r=Math.ceil(e.docs.length/50),i=0,o=Array(r);for(let s=0;s<r;s++){let a=t8(e,["revs","attachments","binary","latest"]);a.docs=e.docs.slice(50*s,Math.min(e.docs.length,(s+1)*50)),ne(n,a,function(e){return function(n,s){o[e]=s.results,++i===r&&t(null,{results:o.flat()})}}(s))}}let s=ia(i,""),a=it[s];"boolean"!=typeof a?r(function(e,n){e?(it[s]=!1,no(e.status,"PouchDB is just detecting if the remote supports the _bulk_get API."),o()):(it[s]=!0,t(null,n))}):a?r(t):o()}),r._info=async function(e){try{await c();let t=await s(is(i,"")),n=await t.json();n.host=is(i,""),e(null,n)}catch(t){e(t)}},r.fetch=async function(e,t){return await c(),s("/"===e.substring(0,1)?ia(i,e.substring(1)):is(i,e),t)},r.get=a("get",async function(e,t,n){"function"==typeof t&&(n=t,t={});let r={};function o(e){var n;let r=e._attachments,o=r&&Object.keys(r);if(r&&o.length)return n=o.map(function(e){return function(){return a(e)}}),new Promise(function(e,t){var r,i=0,o=0,s=0,a=n.length;function u(){++s===a?r?t(r):e():f()}function c(){i--,u()}function l(e){i--,r=r||e,u()}function f(){for(;i<5&&o<a;)i++,n[o++]().then(c,l)}f()});async function a(n){let o,a,u=r[n],c=ii(e._id)+"/"+l(n)+"?rev="+e._rev,f=await s(is(i,c));if(o="buffer"in f?await f.buffer():await f.blob(),t.binary){let e=Object.getOwnPropertyDescriptor(o.__proto__,"type");(!e||e.set)&&(o.type=u.content_type),a=o}else a=await new Promise(function(e){nF(o,e)});delete u.stub,delete u.length,u.data=a}}(t=t4(t)).revs&&(r.revs=!0),t.revs_info&&(r.revs_info=!0),t.latest&&(r.latest=!0),t.open_revs&&("all"!==t.open_revs&&(t.open_revs=JSON.stringify(t.open_revs)),r.open_revs=t.open_revs),t.rev&&(r.rev=t.rev),t.conflicts&&(r.conflicts=t.conflicts),t.update_seq&&(r.update_seq=t.update_seq);let a=is(i,(e=ii(e))+iu(r));try{var c;let e=await u(a);t.attachments&&await (c=e.data,Array.isArray(c)?Promise.all(c.map(function(e){if(e.ok)return o(e.ok)})):o(c)),n(null,e.data)}catch(t){t.docId=e,n(t)}}),r.remove=a("remove",async function(e,t,n,r){let o;"string"==typeof t?(o={_id:e,_rev:t},"function"==typeof n&&(r=n,n={})):(o=e,"function"==typeof t?(r=t,n={}):(r=n,n=t));let s=o._rev||n.rev,a=is(i,ii(o._id))+"?rev="+s;try{let e=await u(a,{method:"DELETE"});r(null,e.data)}catch(e){r(e)}}),r.getAttachment=a("getAttachment",async function(e,t,n,r){"function"==typeof n&&(r=n,n={});let o=n.rev?"?rev="+n.rev:"",a=is(i,ii(e))+"/"+l(t)+o;try{let e,t=await s(a,{method:"GET"});if(!t.ok)throw t;t.headers.get("content-type"),e=await t.blob(),r(null,e)}catch(e){r(e)}}),r.removeAttachment=a("removeAttachment",async function(e,t,n,r){let o=is(i,ii(e)+"/"+l(t))+"?rev="+n;try{let e=await u(o,{method:"DELETE"});r(null,e.data)}catch(e){r(e)}}),r.putAttachment=a("putAttachment",async function(e,t,n,r,o,s){"function"==typeof o&&(s=o,o=r,r=n,n=null);let a=is(i,ii(e)+"/"+l(t));if(n&&(a+="?rev="+n),"string"==typeof r){let e;try{e=nL(r)}catch(e){return s(nk(np,"Attachment is not a valid base64 string"))}r=e?nI(e,o):""}try{let e=await u(a,{headers:new rd({"Content-Type":o}),method:"PUT",body:r});s(null,e.data)}catch(e){s(e)}}),r._bulkDocs=async function(e,t,n){e.new_edits=t.new_edits;try{await c(),await Promise.all(e.docs.map(io));let t=await u(is(i,"_bulk_docs"),{method:"POST",body:JSON.stringify(e)});n(null,t.data)}catch(e){n(e)}},r._put=async function(e,t,n){try{await c(),await io(e);let t=await u(is(i,ii(e._id)),{method:"PUT",body:JSON.stringify(e)});n(null,t.data)}catch(t){t.docId=e&&e._id,n(t)}},r.allDocs=a("allDocs",async function(e,t){let n;"function"==typeof e&&(t=e,e={});let r={},o="GET";(e=t4(e)).conflicts&&(r.conflicts=!0),e.update_seq&&(r.update_seq=!0),e.descending&&(r.descending=!0),e.include_docs&&(r.include_docs=!0),e.attachments&&(r.attachments=!0),e.key&&(r.key=JSON.stringify(e.key)),e.start_key&&(e.startkey=e.start_key),e.startkey&&(r.startkey=JSON.stringify(e.startkey)),e.end_key&&(e.endkey=e.end_key),e.endkey&&(r.endkey=JSON.stringify(e.endkey)),void 0!==e.inclusive_end&&(r.inclusive_end=!!e.inclusive_end),void 0!==e.limit&&(r.limit=e.limit),void 0!==e.skip&&(r.skip=e.skip);let s=iu(r);void 0!==e.keys&&(o="POST",n={keys:e.keys});try{let r=await u(is(i,"_all_docs"+s),{method:o,body:JSON.stringify(n)});e.include_docs&&e.attachments&&e.binary&&r.data.rows.forEach(ir),t(null,r.data)}catch(e){t(e)}}),r._changes=function(e){let t,n,r="batch_size"in e?e.batch_size:25;!(e=t4(e)).continuous||"heartbeat"in e||(e.heartbeat=1e4);let o="timeout"in e?e.timeout:3e4;"timeout"in e&&e.timeout&&o-e.timeout<5e3&&(o=e.timeout+5e3),"heartbeat"in e&&e.heartbeat&&o-e.heartbeat<5e3&&(o=e.heartbeat+5e3);let s={};"timeout"in e&&e.timeout&&(s.timeout=e.timeout);let a=void 0!==e.limit&&e.limit,l=a;if(e.style&&(s.style=e.style),(e.include_docs||e.filter&&"function"==typeof e.filter)&&(s.include_docs=!0),e.attachments&&(s.attachments=!0),e.continuous&&(s.feed="longpoll"),e.seq_interval&&(s.seq_interval=e.seq_interval),e.conflicts&&(s.conflicts=!0),e.descending&&(s.descending=!0),e.update_seq&&(s.update_seq=!0),"heartbeat"in e&&e.heartbeat&&(s.heartbeat=e.heartbeat),e.filter&&"string"==typeof e.filter&&(s.filter=e.filter),e.view&&"string"==typeof e.view&&(s.filter="_view",s.view=e.view),e.query_params&&"object"==typeof e.query_params)for(let t in e.query_params)Object.prototype.hasOwnProperty.call(e.query_params,t)&&(s[t]=e.query_params[t]);let f="GET";e.doc_ids?(s.filter="_doc_ids",f="POST",t={doc_ids:e.doc_ids}):e.selector&&(s.filter="_selector",f="POST",t={selector:e.selector});let d=new AbortController,h=async function(o,h){if(e.aborted)return;s.since=o,"object"==typeof s.since&&(s.since=JSON.stringify(s.since)),e.descending?a&&(s.limit=l):s.limit=!a||l>r?r:l;let p=is(i,"_changes"+iu(s)),y={signal:d.signal,method:f,body:JSON.stringify(t)};if(n=o,!e.aborted)try{await c();let e=await u(p,y);h(null,e.data)}catch(e){h(e)}},p={results:[]},y=function(t,i){if(e.aborted)return;let o=0;if(i&&i.results){o=i.results.length,p.last_seq=i.last_seq;let t=null,n=null;"number"==typeof i.pending&&(t=i.pending),("string"==typeof p.last_seq||"number"==typeof p.last_seq)&&(n=p.last_seq),e.query_params,i.results=i.results.filter(function(r){l--;let i=nO(e)(r);return i&&(e.include_docs&&e.attachments&&e.binary&&ir(r),e.return_docs&&p.results.push(r),e.onChange(r,t,n)),i})}else if(t){e.aborted=!0,e.complete(t);return}i&&i.last_seq&&(n=i.last_seq);let s=a&&l<=0||i&&o<r||e.descending;(!e.continuous||a&&l<=0)&&s?e.complete(null,p):nt(function(){h(n,y)})};return h(e.since||0,y),{cancel:function(){e.aborted=!0,d.abort()}}},r.revsDiff=a("revsDiff",async function(e,t,n){"function"==typeof t&&(n=t,t={});try{let t=await u(is(i,"_revs_diff"),{method:"POST",body:JSON.stringify(e)});n(null,t.data)}catch(e){n(e)}}),r._close=function(e){e()},r._destroy=async function(e,t){try{let e=await u(is(i,""),{method:"DELETE"});t(null,e)}catch(e){404===e.status?t(null,{ok:!0}):t(e)}}}ic.valid=function(){return!0};class il extends Error{constructor(e){super(),this.status=400,this.name="query_parse_error",this.message=e,this.error=!0;try{Error.captureStackTrace(this,il)}catch(e){}}}class id extends Error{constructor(e){super(),this.status=404,this.name="not_found",this.message=e,this.error=!0;try{Error.captureStackTrace(this,id)}catch(e){}}}class ih extends Error{constructor(e){super(),this.status=500,this.name="invalid_value",this.message=e,this.error=!0;try{Error.captureStackTrace(this,ih)}catch(e){}}}function ip(e,t){return t&&e.then(function(e){nt(function(){t(null,e)})},function(e){nt(function(){t(e)})}),e}function iy(e,t){return function(){var n=arguments,r=this;return e.add(function(){return t.apply(r,n)})}}function ig(e){var t=new Set(e),n=Array(t.size),r=-1;return t.forEach(function(e){n[++r]=e}),n}function iv(e){var t=Array(e.size),n=-1;return e.forEach(function(e,r){t[++n]=r}),t}function im(e){return new ih("builtin "+e+" function requires map values to be numbers or number arrays")}function i_(e){for(var t=0,n=0,r=e.length;n<r;n++){var i=e[n];if("number"!=typeof i)if(Array.isArray(i)){t="number"==typeof t?[t]:t;for(var o=0,s=i.length;o<s;o++){var a=i[o];if("number"!=typeof a)throw im("_sum");void 0===t[o]?t.push(a):t[o]+=a}}else throw im("_sum");else"number"==typeof t?t+=i:t[0]+=i}return t}var ib=nr.bind(null,"log"),iw=Array.isArray,ik=JSON.parse;function ix(e,t){return nB("return ("+e.replace(/;\s*$/,"")+");",{emit:t,sum:i_,log:ib,isArray:iw,toJSON:ik})}class iO{constructor(){this.promise=Promise.resolve()}add(e){return this.promise=this.promise.catch(()=>{}).then(()=>e()),this.promise}finish(){return this.promise}}function iE(e){if(!e)return"undefined";switch(typeof e){case"function":case"string":return e.toString();default:return JSON.stringify(e)}}async function iA(e,t,n,r,i,o){let s,a=iE(n)+iE(r)+"undefined";if(!i&&(s=e._cachedViews=e._cachedViews||{})[a])return s[a];let u=e.info().then(async function(u){let c,l=u.db_name+"-mrview-"+(i?"temp":tJ().hash(a));await nP(e,"_local/"+o,function(e){e.views=e.views||{};let n=t;-1===n.indexOf("/")&&(n=t+"/"+t);let r=e.views[n]=e.views[n]||{};if(!r[l])return r[l]=!0,e});let f=(await e.registerDependentDatabase(l)).db;f.auto_compaction=!0;let d={name:l,db:f,sourceDB:e,adapter:e.adapter,mapFun:n,reduceFun:r};try{c=await d.db.get("_local/lastSeq")}catch(e){if(404!==e.status)throw e}return d.seq=c?c.seq:0,s&&d.db.once("destroyed",function(){delete s[a]}),d});return s&&(s[a]=u),u}let ij={},iS=new iO;function iq(e){return -1===e.indexOf("/")?[e,e]:e.split("/")}function iC(e,t,n){try{e.emit("error",t)}catch(e){nr("error","The user's map/reduce function threw an uncaught error.\nYou can debug this error by doing:\nmyDatabase.on('error', function (err) { debugger; });\nPlease double-check your map/reduce function."),nr("error",t,n)}}var iR={_sum:function(e,t){return i_(t)},_count:function(e,t){return t.length},_stats:function(e,t){return{sum:i_(t),min:Math.min.apply(null,t),max:Math.max.apply(null,t),count:t.length,sumsqr:function(e){for(var t=0,n=0,r=e.length;n<r;n++){var i=e[n];t+=i*i}return t}(t)}}},iT=function(e,t,n,r){var i;function o(e,t){let n=rw(e.key,t.key);return 0!==n?n:rw(e.value,t.value)}function s(e,t,n){return(n=n||0,"number"==typeof t)?e.slice(n,t+n):n>0?e.slice(n):e}function a(e){let t=e.value;return t&&"object"==typeof t&&t._id||e.id}function u(e){return function(t){return e.include_docs&&e.attachments&&e.binary&&function(e){for(let r of e.rows){let e=r.doc&&r.doc._attachments;if(e)for(let r of Object.keys(e)){var t,n;let i=e[r];e[r].data=(t=i.data,n=i.content_type,nI(nL(t),n))}}}(t),t}}function c(e,t,n,r){let i=t[e];void 0!==i&&(r&&(i=encodeURIComponent(JSON.stringify(i))),n.push(e+"="+i))}function l(e){if(void 0!==e){let t=Number(e);return isNaN(t)||t!==parseInt(e,10)?e:t}}function f(e,t){let n=e.descending?"endkey":"startkey",r=e.descending?"startkey":"endkey";if(void 0!==e[n]&&void 0!==e[r]&&rw(e[n],e[r])>0)throw new il("No rows can match your key range, reverse your start_key and end_key or set {descending : true}");if(t.reduce&&!1!==e.reduce){if(e.include_docs)throw new il("{include_docs:true} is invalid for reduce");else if(e.keys&&e.keys.length>1&&!e.group&&!e.group_level)throw new il("Multi-key fetches for reduce views must use {group: true}")}for(let t of["group_level","limit","skip"]){let n=function(e){if(e){if("number"!=typeof e)return new il(`Invalid value for integer: "${e}"`);if(e<0)return new il(`Invalid value for positive integer: "${e}"`)}}(e[t]);if(n)throw n}}async function d(e,t,n){let r,i,o=[],s="GET";if(c("reduce",n,o),c("include_docs",n,o),c("attachments",n,o),c("limit",n,o),c("descending",n,o),c("group",n,o),c("group_level",n,o),c("skip",n,o),c("stale",n,o),c("conflicts",n,o),c("startkey",n,o,!0),c("start_key",n,o,!0),c("endkey",n,o,!0),c("end_key",n,o,!0),c("inclusive_end",n,o),c("key",n,o,!0),c("update_seq",n,o),o=""===(o=o.join("&"))?"":"?"+o,void 0!==n.keys){let e=`keys=${encodeURIComponent(JSON.stringify(n.keys))}`;e.length+o.length+1<=2e3?o+=("?"===o[0]?"&":"?")+e:(s="POST","string"==typeof t?r={keys:n.keys}:t.keys=n.keys)}if("string"==typeof t){let a=iq(t),c=await e.fetch("_design/"+a[0]+"/_view/"+a[1]+o,{headers:new rd({"Content-Type":"application/json"}),method:s,body:JSON.stringify(r)});i=c.ok;let l=await c.json();if(!i)throw l.status=c.status,nx(l);for(let e of l.rows)if(e.value&&e.value.error&&"builtin_reduce_error"===e.value.error)throw Error(e.reason);return new Promise(function(e){e(l)}).then(u(n))}for(let e of(r=r||{},Object.keys(t)))Array.isArray(t[e])?r[e]=t[e]:r[e]=t[e].toString();let a=await e.fetch("_temp_view"+o,{headers:new rd({"Content-Type":"application/json"}),method:"POST",body:JSON.stringify(r)});i=a.ok;let l=await a.json();if(!i)throw l.status=a.status,nx(l);return new Promise(function(e){e(l)}).then(u(n))}function h(e){return function(t){if(404===t.status)return e;throw t}}async function p(e,t,n){let r="_local/doc_"+e,i={_id:r,keys:[]},o=n.get(e),s=o[0],a=o[1],u=await (1===a.length&&/^1-/.test(a[0].rev)?Promise.resolve(i):t.db.get(r).catch(h(i))),c=await (!u.keys.length?Promise.resolve({rows:[]}):t.db.allDocs({keys:u.keys,include_docs:!0}));return function(e,t){let n=[],r=new Set;for(let e of t.rows){let t=e.doc;if(t&&(n.push(t),r.add(t._id),t._deleted=!s.has(t._id),!t._deleted)){let e=s.get(t._id);"value"in e&&(t.value=e.value)}}let i=iv(s);for(let e of i)if(!r.has(e)){let t={_id:e},r=s.get(e);"value"in r&&(t.value=r.value),n.push(t)}return e.keys=ig(i.concat(e.keys)),n.push(e),n}(u,c)}function y(e){let t="string"==typeof e?e:e.name,n=ij[t];return n||(n=ij[t]=new iO),n}async function g(e,t){return iy(y(e),function(){return v(e,t)})()}async function v(e,n){let r,i,s,a=t(e.mapFun,function(e,t){let n={id:i._id,key:rk(e)};null!=t&&(n.value=rk(t)),r.push(n)}),u=e.seq||0,c=0,l={view:e.name,indexed_docs:c};e.sourceDB.emit("indexing",l);let f=new iO;async function d(){return function(t,l){var y;let g=t.results;if(!g.length&&!l.length)return;for(let e of l)if(0>g.findIndex(function(t){return t.id===e.docId})){let t={_id:e.docId,doc:{_id:e.docId,_deleted:1},changes:[]};e.doc&&(t.doc=e.doc,t.changes.push({rev:e.doc._rev})),g.push(t)}let v=function(t){let n=new Map;for(let s of t){if("_"!==s.doc._id[0]){r=[],(i=s.doc)._deleted||function(e,t,n){try{t(n)}catch(r){iC(e,r,{fun:t,doc:n})}}(e.sourceDB,a,i),r.sort(o);let t=function(e){let t,n=new Map;for(let r=0,i=e.length;r<i;r++){let i=e[r],o=[i.key,i.id];r>0&&0===rw(i.key,t)&&o.push(r),n.set(rx(o),i),t=i.key}return n}(r);n.set(s.doc._id,[t,s.changes])}u=s.seq}return n}(g);f.add((y=u,function(){var t;return t="_local/lastSeq",e.db.get(t).catch(h({_id:t,seq:0})).then(function(t){return Promise.all(iv(v).map(function(t){return p(t,e,v)})).then(function(n){var r=n.flat();return t.seq=y,r.push(t),e.db.bulkDocs({docs:r})}).then(()=>e.sourceDB.get("_local/purges").then(function(t){let n=t.purgeSeq;return e.db.get("_local/purgeSeq").then(function(e){return e._rev}).catch(h(void 0)).then(function(t){return e.db.put({_id:"_local/purgeSeq",_rev:t,purgeSeq:n})})}).catch(function(e){if(404!==e.status)throw e}))})})),c+=g.length;let m={view:e.name,last_seq:t.last_seq,results_count:g.length,indexed_docs:c};if(e.sourceDB.emit("indexing",m),e.sourceDB.activeTasks.update(s,{completed_items:c}),!(g.length<n.changes_batch_size))return d()}(await e.sourceDB.changes({return_docs:!0,conflicts:!0,include_docs:!0,style:"all_docs",since:u,limit:n.changes_batch_size}),await e.db.get("_local/purgeSeq").then(function(e){return e.purgeSeq}).catch(h(-1)).then(function(t){return e.sourceDB.get("_local/purges").then(function(n){let r=n.purges.filter(function(e,n){return n>t}).map(e=>e.docId);return Promise.all(r.filter(function(e,t){return r.indexOf(e)===t}).map(function(t){return e.sourceDB.get(t).then(function(e){return{docId:t,doc:e}}).catch(h({docId:t}))}))}).catch(h([]))}))}try{await e.sourceDB.info().then(function(t){s=e.sourceDB.activeTasks.add({name:"view_indexing",total_items:t.update_seq-u})}),await d(),await f.finish(),e.seq=u,e.sourceDB.activeTasks.remove(s)}catch(t){e.sourceDB.activeTasks.remove(s,t)}}function m(e,t){return iy(y(e),function(){return b(e,t)})()}async function b(e,t){let r,i=e.reduceFun&&!1!==t.reduce,o=t.skip||0;async function u(t){t.include_docs=!0;let n=await e.db.allDocs(t);return r=n.total_rows,n.rows.map(function(e){if("value"in e.doc&&"object"==typeof e.doc.value&&null!==e.doc.value){let t=Object.keys(e.doc.value).sort(),n=["id","key","value"];if(!(t<n||t>n))return e.doc.value}let t=function(e){for(var t=[],n=[],r=0;;){var i=e[r++];if("\0"===i)if(1===t.length)return t.pop();else{!function(e,t){var n=e.pop();if(t.length){var r=t[t.length-1];n===r.element&&(t.pop(),r=t[t.length-1]);var i=r.element,o=r.index;Array.isArray(i)?i.push(n):o===e.length-2?i[e.pop()]=n:e.push(n)}}(t,n);continue}switch(i){case"1":t.push(null);break;case"2":t.push("1"===e[r]),r++;break;case"3":var o=function(e,t){var n,r=t;if("1"===e[t])n=0,t++;else{var i="0"===e[t];t++;var o="",s=parseInt(e.substring(t,t+3),10)+-324;for(i&&(s=-s),t+=3;;){var a=e[t];if("\0"===a)break;o+=a,t++}n=1===(o=o.split(".")).length?parseInt(o,10):parseFloat(o[0]+"."+o[1]),i&&(n-=10),0!==s&&(n=parseFloat(n+"e"+s))}return{num:n,length:t-r}}(e,r);t.push(o.num),r+=o.length;break;case"4":for(var s="";;){var a=e[r];if("\0"===a)break;s+=a,r++}s=s.replace(/\u0001\u0001/g,"\0").replace(/\u0001\u0002/g,"\x01").replace(/\u0002\u0002/g,"\x02"),t.push(s);break;case"5":var u={element:[],index:t.length};t.push(u.element),n.push(u);break;case"6":var c={element:{},index:t.length};t.push(c.element),n.push(c);break;default:throw Error("bad collationIndex or unexpectedly reached end of input: "+i)}}}(e.doc._id);return{key:t[0],id:t[1],value:"value"in e.doc?e.doc.value:null}})}async function c(u){let c;if(c=i?function(e,t,r){0===r.group_level&&delete r.group_level;let i=r.group||r.group_level,o=n(e.reduceFun),a=[],u=isNaN(r.group_level)?Number.POSITIVE_INFINITY:r.group_level;for(let e of t){let t=a[a.length-1],n=i?e.key:null;if(i&&Array.isArray(n)&&(n=n.slice(0,u)),t&&0===rw(t.groupKey,n)){t.keys.push([e.key,e.id]),t.values.push(e.value);continue}a.push({keys:[[e.key,e.id]],values:[e.value],groupKey:n})}for(let n of(t=[],a)){let r=function(e,t,n,r,i){try{return{output:t(n,r,i)}}catch(o){return iC(e,o,{fun:t,keys:n,values:r,rereduce:i}),{error:o}}}(e.sourceDB,o,n.keys,n.values,!1);if(r.error&&r.error instanceof ih)throw r.error;t.push({value:r.error?null:r.output,key:n.groupKey})}return{rows:s(t,r.limit,r.skip)}}(e,u,t):void 0===t.keys?{total_rows:r,offset:o,rows:u}:{total_rows:r,offset:o,rows:s(u,t.limit,t.skip)},t.update_seq&&(c.update_seq=e.seq),t.include_docs){let n=ig(u.map(a)),r=await e.sourceDB.allDocs({keys:n,include_docs:!0,conflicts:t.conflicts,attachments:t.attachments,binary:t.binary}),i=new Map;for(let e of r.rows)i.set(e.id,e.doc);for(let e of u){let t=a(e),n=i.get(t);n&&(e.doc=n)}}return c}if(void 0===t.keys||t.keys.length||(t.limit=0,delete t.keys),void 0!==t.keys){let e=t.keys.map(function(e){let n={startkey:rx([e]),endkey:rx([e,{}])};return t.update_seq&&(n.update_seq=!0),u(n)});return c((await Promise.all(e)).flat())}{let e,n,r={descending:t.descending};if(t.update_seq&&(r.update_seq=!0),"start_key"in t&&(e=t.start_key),"startkey"in t&&(e=t.startkey),"end_key"in t&&(n=t.end_key),"endkey"in t&&(n=t.endkey),void 0!==e&&(r.startkey=t.descending?rx([e,{}]):rx([e])),void 0!==n){let e=!1!==t.inclusive_end;t.descending&&(e=!e),r.endkey=rx(e?[n,{}]:[n])}if(void 0!==t.key){let e=rx([t.key]),n=rx([t.key,{}]);r.descending?(r.endkey=e,r.startkey=n):(r.startkey=e,r.endkey=n)}return i||("number"==typeof t.limit&&(r.limit=t.limit),r.skip=o),c(await u(r))}}async function w(e){return(await e.fetch("_view_cleanup",{headers:new rd({"Content-Type":"application/json"}),method:"POST"})).json()}async function k(t){try{let n=await t.get("_local/"+e),r=new Map;for(let e of Object.keys(n.views)){let t=iq(e),n="_design/"+t[0],i=t[1],o=r.get(n);o||(o=new Set,r.set(n,o)),o.add(i)}let i={keys:iv(r),include_docs:!0},o=await t.allDocs(i),s={};for(let e of o.rows){let t=e.key.substring(8);for(let i of r.get(e.key)){let r=t+"/"+i;n.views[r]||(r=i);let o=Object.keys(n.views[r]),a=e.doc&&e.doc.views&&e.doc.views[i];for(let e of o)s[e]=s[e]||a}}let a=Object.keys(s).filter(function(e){return!s[e]}).map(function(e){return iy(y(e),function(){return new t.constructor(e,t.__opts).destroy()})()});return Promise.all(a).then(function(){return{ok:!0}})}catch(e){if(404===e.status)return{ok:!0};throw e}}async function x(t,n,i){if("function"==typeof t._query){var o;return o=n,new Promise(function(e,n){t._query(o,i,function(t,r){if(t)return n(t);e(r)})})}if(nA(t))return d(t,n,i);let s={changes_batch_size:t.__opts.view_update_changes_batch_size||50};if("string"!=typeof n)return f(i,n),iS.add(async function(){var r,o;let a=await iA(t,"temp_view/temp_view",n.map,n.reduce,!0,e);return r=g(a,s).then(function(){return m(a,i)}),o=function(){return a.db.destroy()},r.then(function(e){return o().then(function(){return e})},function(e){return o().then(function(){throw e})})}),iS.finish();{let o=n,a=iq(o),u=a[0],c=a[1],l=await t.get("_design/"+u);if(!(n=l.views&&l.views[c]))throw new id(`ddoc ${l._id} has no view named ${c}`);r(l,c),f(i,n);let d=await iA(t,o,n.map,n.reduce,!1,e);return"ok"===i.stale||"update_after"===i.stale?"update_after"===i.stale&&nt(function(){g(d,s)}):await g(d,s),m(d,i)}}return{query:function(e,t,n){var r;let i=this;"function"==typeof t&&(n=t,t={}),t=t?((r=t).group_level=l(r.group_level),r.limit=l(r.limit),r.skip=l(r.skip),r):{},"function"==typeof e&&(e={map:e});let o=Promise.resolve().then(function(){return x(i,e,t)});return ip(o,n),o},viewCleanup:(i=function(){if("function"==typeof this._viewCleanup){var e;return e=this,new Promise(function(t,n){e._viewCleanup(function(e,r){if(e)return n(e);t(r)})})}return nA(this)?w(this):k(this)},function(...e){var t=e.pop(),n=i.apply(this,e);return"function"==typeof t&&ip(n,t),n})}}("mrviews",function(e,t){return"function"==typeof e&&2===e.length?function(n){return e(n,t)}:ix(e.toString(),t)},function(e){var t=e.toString(),n=function(e){if(/^_sum/.test(e))return iR._sum;if(/^_count/.test(e))return iR._count;if(/^_stats/.test(e))return iR._stats;if(/^_/.test(e))throw Error(e+" is not a supported reduce function.")}(t);return n||ix(t)},function(e,t){var n=e.views&&e.views[t];if("string"!=typeof n.map)throw new id("ddoc "+e._id+" has no string view named "+t+", instead found object of type: "+typeof n.map)});function i$(e,t){return Promise.all(Object.keys(t._attachments).map(function(n){return e.getAttachment(t._id,n,{rev:t._rev})}))}var iB="pouchdb";function iP(e,t,n,r,i){return e.get(t).catch(function(n){if(404===n.status)return("http"===e.adapter||"https"===e.adapter)&&no(404,"PouchDB is just checking if a remote checkpoint exists."),{session_id:r,_id:t,history:[],replicator:iB,version:1};throw n}).then(function(o){if(!i.cancelled&&o.last_seq!==n)return o.history=(o.history||[]).filter(function(e){return e.session_id!==r}),o.history.unshift({last_seq:n,session_id:r}),o.history=o.history.slice(0,5),o.version=1,o.replicator=iB,o.session_id=r,o.last_seq=n,e.put(o).catch(function(o){if(409===o.status)return iP(e,t,n,r,i);throw o})})}class iL{constructor(e,t,n,r,i={writeSourceCheckpoint:!0,writeTargetCheckpoint:!0}){this.src=e,this.target=t,this.id=n,this.returnValue=r,this.opts=i,void 0===i.writeSourceCheckpoint&&(i.writeSourceCheckpoint=!0),void 0===i.writeTargetCheckpoint&&(i.writeTargetCheckpoint=!0)}writeCheckpoint(e,t){var n=this;return this.updateTarget(e,t).then(function(){return n.updateSource(e,t)})}updateTarget(e,t){return this.opts.writeTargetCheckpoint?iP(this.target,this.id,e,t,this.returnValue):Promise.resolve(!0)}updateSource(e,t){if(!this.opts.writeSourceCheckpoint)return Promise.resolve(!0);var n=this;return iP(this.src,this.id,e,t,this.returnValue).catch(function(e){if(iI(e))return n.opts.writeSourceCheckpoint=!1,!0;throw e})}getCheckpoint(){var e=this;return e.opts.writeSourceCheckpoint||e.opts.writeTargetCheckpoint?e.opts&&e.opts.writeSourceCheckpoint&&!e.opts.writeTargetCheckpoint?e.src.get(e.id).then(function(e){return e.last_seq||0}).catch(function(e){if(404!==e.status)throw e;return 0}):e.target.get(e.id).then(function(t){return e.opts&&e.opts.writeTargetCheckpoint&&!e.opts.writeSourceCheckpoint?t.last_seq||0:e.src.get(e.id).then(function(e){var n;return t.version!==e.version?0:(n=t.version?t.version.toString():"undefined")in iU?iU[n](t,e):0},function(n){if(404===n.status&&t.last_seq)return e.src.put({_id:e.id,last_seq:0}).then(function(){return 0},function(n){return iI(n)?(e.opts.writeSourceCheckpoint=!1,t.last_seq):0});throw n})}).catch(function(e){if(404!==e.status)throw e;return 0}):Promise.resolve(0)}}var iU={undefined:function(e,t){return 0===rw(e.last_seq,t.last_seq)?t.last_seq:0},1:function(e,t){var n,r;return(n=t,r=e,n.session_id===r.session_id?{last_seq:n.last_seq,history:n.history}:function e(t,n){var r=t[0],i=t.slice(1),o=n[0],s=n.slice(1);return r&&0!==n.length?iD(r.session_id,n)?{last_seq:r.last_seq,history:t}:iD(o.session_id,i)?{last_seq:o.last_seq,history:s}:e(i,s):{last_seq:0,history:[]}}(n.history,r.history)).last_seq}};function iD(e,t){var n=t[0],r=t.slice(1);return!!e&&0!==t.length&&(e===n.session_id||iD(e,r))}function iI(e){return"number"==typeof e.status&&4===Math.floor(e.status/100)}function iN(e,t,n,r,i){return this instanceof iL?iN:new iL(e,t,n,r,i)}class iM extends t0(){constructor(){super(),this.cancelled=!1,this.state="pending";let e=new Promise((e,t)=>{this.once("complete",e),this.once("error",t)});this.then=function(t,n){return e.then(t,n)},this.catch=function(t){return e.catch(t)},this.catch(function(){})}cancel(){this.cancelled=!0,this.state="cancelled",this.emit("cancel")}ready(e,t){if(this._readyCalled)return;this._readyCalled=!0;let n=()=>{this.cancel()};function r(){e.removeListener("destroyed",n),t.removeListener("destroyed",n)}e.once("destroyed",n),t.once("destroyed",n),this.once("complete",r),this.once("error",r)}}function iF(e,t){var n=t.PouchConstructor;return"string"==typeof e?new n(e,t):e}function iK(e,t,n,r){if("function"==typeof n&&(r=n,n={}),void 0===n&&(n={}),n.doc_ids&&!Array.isArray(n.doc_ids))throw nk(nv,"`doc_ids` filter parameter is not a list.");n.complete=r,(n=t4(n)).continuous=n.continuous||n.live,n.retry="retry"in n&&n.retry,n.PouchConstructor=n.PouchConstructor||this;var i=new iM(n);return!function e(t,n,r,i,o){var s,a,u,c=[],l={seq:0,changes:[],docs:[]},f=!1,d=!1,h=!1,p=0,y=0,g=r.continuous||r.live||!1,v=r.batch_size||100,m=r.batches_limit||10,b=r.style||"all_docs",w=!1,k=r.doc_ids,x=r.selector,O=[],E=tX();o=o||{ok:!0,start_time:new Date().toISOString(),docs_read:0,docs_written:0,doc_write_failures:0,errors:[]};var A={};function j(){var e,o,s,u,c,l;return a?Promise.resolve():(e=r.doc_ids?r.doc_ids.sort(rw):"",o=r.filter?r.filter.toString():"",s="",u="",c="",r.selector&&(c=JSON.stringify(r.selector)),r.filter&&r.query_params&&(s=JSON.stringify(Object.keys(l=r.query_params).sort(rw).reduce(function(e,t){return e[t]=l[t],e},{}))),r.filter&&"_view"===r.filter&&(u=r.view.toString()),Promise.all([t.id(),n.id()]).then(function(t){var n=t[0]+t[1]+o+u+s+e+c;return new Promise(function(e){nW(n,e)})}).then(function(e){return"_local/"+(e=e.replace(/\//g,".").replace(/\+/g,"_"))})).then(function(e){var o={};a=new iN(t,n,e,i,!1===r.checkpoint?{writeSourceCheckpoint:!1,writeTargetCheckpoint:!1}:"source"===r.checkpoint?{writeSourceCheckpoint:!0,writeTargetCheckpoint:!1}:"target"===r.checkpoint?{writeSourceCheckpoint:!1,writeTargetCheckpoint:!0}:{writeSourceCheckpoint:!0,writeTargetCheckpoint:!0})})}function S(){if(O=[],0!==s.docs.length){var e=s.docs,t={timeout:r.timeout};return n.bulkDocs({docs:e,new_edits:!1},t).then(function(t){if(i.cancelled)throw $(),Error("cancelled");var n=Object.create(null);t.forEach(function(e){e.error&&(n[e.id]=e)});var r=Object.keys(n).length;o.doc_write_failures+=r,o.docs_written+=e.length-r,e.forEach(function(e){var t=n[e._id];if(t){o.errors.push(t);var r=(t.name||"").toLowerCase();if("unauthorized"===r||"forbidden"===r)i.emit("denied",t4(t));else throw t}else O.push(e)})},function(t){throw o.doc_write_failures+=e.length,t})}}function q(){if(s.error)throw Error("There was a problem getting docs.");o.last_seq=y=s.seq;var e=t4(o);return O.length&&(e.docs=O,"number"==typeof s.pending&&(e.pending=s.pending,delete s.pending),i.emit("change",e)),f=!0,t.info().then(function(e){var n=t.activeTasks.get(u);if(s&&n){var r=n.completed_items||0,i=parseInt(e.update_seq,10)-parseInt(p,10);t.activeTasks.update(u,{completed_items:r+s.changes.length,total_items:i})}}),a.writeCheckpoint(s.seq,E).then(function(){if(i.emit("checkpoint",{checkpoint:s.seq}),f=!1,i.cancelled)throw $(),Error("cancelled");s=void 0,U()}).catch(function(e){throw N(e),e})}function C(){var e,r,a;return(e=s.diffs,e=t4(e),r=[],a=!0,Promise.resolve().then(function(){var o,s,u=(s=[],Object.keys(o=e).forEach(function(e){o[e].missing.forEach(function(t){s.push({id:e,rev:t})})}),{docs:s,revs:!0,latest:!0});if(u.docs.length)return t.bulkGet(u).then(function(e){if(i.cancelled)throw Error("cancelled");return Promise.all(e.results.map(function(e){return Promise.all(e.docs.map(function(e){var r,i,o=e.ok;return(e.error&&(a=!1),o&&o._attachments)?(r=nA(t)&&!nA(n),i=Object.keys(o._attachments),!r?i$(t,o):n.get(o._id).then(function(e){return Promise.all(i.map(function(r){return e._attachments&&e._attachments[r]&&e._attachments[r].digest===o._attachments[r].digest?n.getAttachment(e._id,r):t.getAttachment(o._id,r)}))}).catch(function(e){if(404!==e.status)throw e;return i$(t,o)})).then(e=>{var t=Object.keys(o._attachments);return e.forEach(function(e,n){var r=o._attachments[t[n]];delete r.stub,delete r.length,r.data=e}),o}):o}))})).then(function(e){r=r.concat(e.flat().filter(Boolean))})})}).then(function(){return{ok:a,docs:r}})).then(function(e){s.error=!e.ok,e.docs.forEach(function(e){delete s.diffs[e._id],o.docs_read++,s.docs.push(e)})})}function R(e){if(0===l.changes.length){0===c.length&&!s&&((g&&A.live||d)&&(i.state="pending",i.emit("paused")),d&&$());return}(e||d||l.changes.length>=v)&&(c.push(l),l={seq:0,changes:[],docs:[]},("pending"===i.state||"stopped"===i.state)&&(i.state="active",i.emit("active")),function e(){if(!i.cancelled&&!s){var t;if(0===c.length)return void R(!0);s=c.shift(),i.emit("checkpoint",{start_next_batch:s.seq}),(t={},s.changes.forEach(function(e){i.emit("checkpoint",{revs_diff:e}),"_user/"!==e.id&&(t[e.id]=e.changes.map(function(e){return e.rev}))}),n.revsDiff(t).then(function(e){if(i.cancelled)throw $(),Error("cancelled");s.diffs=e})).then(C).then(S).then(q).then(e).catch(function(e){T("batch processing terminated with error",e)})}}())}function T(e,t){h||(t.message||(t.message=e),o.ok=!1,o.status="aborting",c=[],l={seq:0,changes:[],docs:[]},$(t))}function $(s){if(!h&&(!i.cancelled||(o.status="cancelled",!f)))if(o.status=o.status||"complete",o.end_time=new Date().toISOString(),o.last_seq=y,h=!0,t.activeTasks.remove(u,s),s){(s=nk(s)).result=o;var a=(s.name||"").toLowerCase();"unauthorized"===a||"forbidden"===a?(i.emit("error",s),i.removeAllListeners()):function(e,t,n,r){if(!1===e.retry){t.emit("error",n),t.removeAllListeners();return}if("function"!=typeof e.back_off_function&&(e.back_off_function=ni),t.emit("requestError",n),"active"===t.state||"pending"===t.state){t.emit("paused",n),t.state="stopped";var i=function(){e.current_back_off=0};t.once("paused",function(){t.removeListener("active",i)}),t.once("active",i)}e.current_back_off=e.current_back_off||0,e.current_back_off=e.back_off_function(e.current_back_off),setTimeout(r,e.current_back_off)}(r,i,s,function(){e(t,n,r,i)})}else i.emit("complete",o),i.removeAllListeners()}function B(e,n,o){if(i.cancelled)return $();if("number"==typeof n&&(l.pending=n),!nO(r)(e)){var s=t.activeTasks.get(u);if(s){var a=s.completed_items||0;t.activeTasks.update(u,{completed_items:++a})}return}l.seq=e.seq||o,l.changes.push(e),i.emit("checkpoint",{pending_batch:l.seq}),nt(function(){R(0===c.length&&A.live)})}function P(e){if(w=!1,i.cancelled)return $();if(e.results.length>0)A.since=e.results[e.results.length-1].seq,U(),R(!0);else{var t=function(){g?(A.live=!0,U()):d=!0,R(!0)};s||0!==e.results.length?t():(f=!0,a.writeCheckpoint(e.last_seq,E).then(function(){if(f=!1,o.last_seq=y=e.last_seq,i.cancelled)throw $(),Error("cancelled");t()}).catch(N))}}function L(e){if(w=!1,i.cancelled)return $();T("changes rejected",e)}function U(){if(!w&&!d&&c.length<m){w=!0,i._changes&&(i.removeListener("cancel",i._abortChanges),i._changes.cancel()),i.once("cancel",n);var e=t.changes(A).on("change",B);e.then(o,o),e.then(P).catch(L),r.retry&&(i._changes=e,i._abortChanges=n)}function n(){e.cancel()}function o(){i.removeListener("cancel",n)}}function D(e){return t.info().then(function(n){var i=void 0===r.since?parseInt(n.update_seq,10)-parseInt(e,10):parseInt(n.update_seq,10);return u=t.activeTasks.add({name:`${g?"continuous ":""}replication from ${n.db_name}`,total_items:i}),e})}function I(){j().then(function(){return i.cancelled?void $():a.getCheckpoint().then(D).then(function(e){y=e,p=e,A={since:y,limit:v,batch_size:v,style:b,doc_ids:k,selector:x,return_docs:!0},r.filter&&("string"!=typeof r.filter?A.include_docs=!0:A.filter=r.filter),"heartbeat"in r&&(A.heartbeat=r.heartbeat),"timeout"in r&&(A.timeout=r.timeout),r.query_params&&(A.query_params=r.query_params),r.view&&(A.view=r.view),U()})}).catch(function(e){T("getCheckpoint rejected with ",e)})}function N(e){f=!1,T("writeCheckpoint completed with error",e)}if(i.ready(t,n),i.cancelled)return void $();i._addedListeners||(i.once("cancel",$),"function"==typeof r.complete&&(i.once("error",r.complete),i.once("complete",function(e){r.complete(null,e)})),i._addedListeners=!0),void 0===r.since?I():j().then(function(){return f=!0,a.writeCheckpoint(r.since,E)}).then(function(){if(f=!1,i.cancelled)return void $();y=r.since,I()}).catch(N)}(iF(e,n),iF(t,n),n,i),i}function iz(e,t,n,r){return"function"==typeof n&&(r=n,n={}),void 0===n&&(n={}),(n=t4(n)).PouchConstructor=n.PouchConstructor||this,new iJ(e=iF(e,n),t=iF(t,n),n,r)}class iJ extends t0(){constructor(e,t,n,r){super(),this.canceled=!1;let i=n.push?Object.assign({},n,n.push):n,o=n.pull?Object.assign({},n,n.pull):n;this.push=iK(e,t,i),this.pull=iK(t,e,o),this.pushPaused=!0,this.pullPaused=!0;let s=e=>{this.emit("change",{direction:"pull",change:e})},a=e=>{this.emit("change",{direction:"push",change:e})},u=e=>{this.emit("denied",{direction:"push",doc:e})},c=e=>{this.emit("denied",{direction:"pull",doc:e})},l=()=>{this.pushPaused=!0,this.pullPaused&&this.emit("paused")},f=()=>{this.pullPaused=!0,this.pushPaused&&this.emit("paused")},d=()=>{this.pushPaused=!1,this.pullPaused&&this.emit("active",{direction:"push"})},h=()=>{this.pullPaused=!1,this.pushPaused&&this.emit("active",{direction:"pull"})},p={},y=e=>(t,n)=>{let r="change"===t&&(n===s||n===a),i="denied"===t&&(n===c||n===u),o="paused"===t&&(n===f||n===l),y="active"===t&&(n===h||n===d);(r||i||o||y)&&(t in p||(p[t]={}),p[t][e]=!0,2===Object.keys(p[t]).length&&this.removeAllListeners(t))};function g(e,t,n){-1==e.listeners(t).indexOf(n)&&e.on(t,n)}n.live&&(this.push.on("complete",this.pull.cancel.bind(this.pull)),this.pull.on("complete",this.push.cancel.bind(this.push))),this.on("newListener",function(e){"change"===e?(g(this.pull,"change",s),g(this.push,"change",a)):"denied"===e?(g(this.pull,"denied",c),g(this.push,"denied",u)):"active"===e?(g(this.pull,"active",h),g(this.push,"active",d)):"paused"===e&&(g(this.pull,"paused",f),g(this.push,"paused",l))}),this.on("removeListener",function(e){"change"===e?(this.pull.removeListener("change",s),this.push.removeListener("change",a)):"denied"===e?(this.pull.removeListener("denied",c),this.push.removeListener("denied",u)):"active"===e?(this.pull.removeListener("active",h),this.push.removeListener("active",d)):"paused"===e&&(this.pull.removeListener("paused",f),this.push.removeListener("paused",l))}),this.pull.on("removeListener",y("pull")),this.push.on("removeListener",y("push"));let v=Promise.all([this.push,this.pull]).then(e=>{let t={push:e[0],pull:e[1]};return this.emit("complete",t),r&&r(null,t),this.removeAllListeners(),t},e=>{if(this.cancel(),r?r(e):this.emit("error",e),this.removeAllListeners(),r)throw e});this.then=function(e,t){return v.then(e,t)},this.catch=function(e){return v.catch(e)}}cancel(){this.canceled||(this.canceled=!0,this.push.cancel(),this.pull.cancel())}}rl.plugin(function(e){e.adapter("idb",ie,!0)}).plugin(function(e){e.adapter("http",ic,!1),e.adapter("https",ic,!1)}).plugin({query:function(e,t,n){return iT.query.call(this,e,t,n)},viewCleanup:function(e){return iT.viewCleanup.call(this,e)}}).plugin(function(e){e.replicate=iK,e.sync=iz,Object.defineProperty(e.prototype,"replicate",{get:function(){var e=this;return void 0===this.replicateMethods&&(this.replicateMethods={from:function(t,n,r){return e.constructor.replicate(t,e,n,r)},to:function(t,n,r){return e.constructor.replicate(e,t,n,r)}}),this.replicateMethods}}),e.prototype.sync=function(e,t,n){return this.constructor.sync(this,e,t,n)}});class iW extends Error{constructor(e,t,n){super(),this.status=e,this.name=t,this.message=n,this.error=!0}toString(){return JSON.stringify({status:this.status,name:this.name,message:this.message,reason:this.reason})}}new iW(401,"unauthorized","Name or password is incorrect."),new iW(400,"bad_request","Missing JSON list of 'docs'"),new iW(404,"not_found","missing"),new iW(409,"conflict","Document update conflict"),new iW(400,"bad_request","_id field must contain a string"),new iW(412,"missing_id","_id is required for puts"),new iW(400,"bad_request","Only reserved document ids may start with underscore."),new iW(412,"precondition_failed","Database not open");var iV=new iW(500,"unknown_error","Database encountered an unknown error");function iH(e){if("object"!=typeof e){var t=e;(e=iV).data=t}return"error"in e&&"conflict"===e.error&&(e.name="conflict",e.status=409),"name"in e||(e.name=e.error||"unknown"),"status"in e||(e.status=500),"message"in e||(e.message=e.message||e.reason),"stack"in e||(e.stack=Error().stack),e}new iW(500,"badarg","Some query argument is invalid"),new iW(400,"invalid_request","Request was invalid"),new iW(400,"query_parse_error","Some query parameter is invalid"),new iW(500,"doc_validation","Bad special document member"),new iW(400,"bad_request","Something wrong with the request"),new iW(400,"bad_request","Document must be a JSON object"),new iW(404,"not_found","Database not found"),new iW(500,"indexed_db_went_bad","unknown"),new iW(500,"web_sql_went_bad","unknown"),new iW(500,"levelDB_went_went_bad","unknown"),new iW(403,"forbidden","Forbidden by design doc validate_doc_update function"),new iW(400,"bad_request","Invalid rev format"),new iW(412,"file_exists","The database could not be created, the file already exists."),new iW(412,"missing_stub","A pre-existing attachment stub wasn't found"),new iW(413,"invalid_url","Provided URL is invalid");var iQ=Headers;function iG(e,t){if(e===t)return 0;e=iX(e),t=iX(t);var n,r,i=iZ(e),o=iZ(t);if(i-o!=0)return i-o;switch(typeof e){case"number":return e-t;case"boolean":return e<t?-1:1;case"string":return(n=e)===(r=t)?0:n>r?1:-1}return Array.isArray(e)?function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=iG(e[r],t[r]);if(0!==i)return i}return e.length===t.length?0:e.length>t.length?1:-1}(e,t):function(e,t){for(var n=Object.keys(e),r=Object.keys(t),i=Math.min(n.length,r.length),o=0;o<i;o++){var s=iG(n[o],r[o]);if(0!==s||0!==(s=iG(e[n[o]],t[r[o]])))return s}return n.length===r.length?0:n.length>r.length?1:-1}(e,t)}function iX(e){switch(typeof e){case"undefined":return null;case"number":if(e===1/0||e===-1/0||isNaN(e))return null;break;case"object":var t=e;if(Array.isArray(e)){var n=e.length;e=Array(n);for(var r=0;r<n;r++)e[r]=iX(t[r])}else if(e instanceof Date)return e.toJSON();else if(null!==e){for(var i in e={},t)if(Object.prototype.hasOwnProperty.call(t,i)){var o=t[i];void 0!==o&&(e[i]=iX(o))}}}return e}function iY(e){return iZ(e=iX(e))+""+function(e){if(null!==e)switch(typeof e){case"boolean":return+!!e;case"number":return function(e){if(0===e)return"1";var t,n=e.toExponential().split(/e\+?/),r=parseInt(n[1],10),i=e<0,o=i?"0":"2";o+=""+(t=((i?-r:r)- -324).toString(),function(e,t,n){for(var r="",i=3-e.length;r.length<i;)r+="0";return r}(t,"0",3)+t);var s=Math.abs(parseFloat(n[0]));i&&(s=10-s);var a=s.toFixed(20);return o+(""+(a=a.replace(/\.?0+$/,"")))}(e);case"string":return e.replace(/\u0002/g,"\x02\x02").replace(/\u0001/g,"\x01\x02").replace(/\u0000/g,"\x01\x01");case"object":var t=Array.isArray(e),n=t?e:Object.keys(e),r=-1,i=n.length,o="";if(t)for(;++r<i;)o+=iY(n[r]);else for(;++r<i;){var s=n[r];o+=iY(s)+iY(e[s])}return o}return""}(e)+"\0"}function iZ(e){var t=["boolean","number","string","object"].indexOf(typeof e);return~t?null===e?1:Array.isArray(e)?5:t<3?t+2:t+3:Array.isArray(e)?5:void 0}self.setImmediate||self.setTimeout;var i0=Function.prototype.toString,i1=i0.call(Object);function i2(e){if(!e||"object"!=typeof e)return e;if(Array.isArray(e)){for(n=0,t=[],r=e.length;n<r;n++)t[n]=i2(e[n]);return t}if(e instanceof Date&&isFinite(e))return e.toISOString();if("undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer||"undefined"!=typeof Blob&&e instanceof Blob)return e instanceof ArrayBuffer?e.slice(0):e.slice(0,e.size,e.type);if(!function(e){var t=Object.getPrototypeOf(e);if(null===t)return!0;var n=t.constructor;return"function"==typeof n&&n instanceof n&&i0.call(n)==i1}(e))return e;for(n in t={},e)if(Object.prototype.hasOwnProperty.call(e,n)){var t,n,r,i=i2(e[n]);void 0!==i&&(t[n]=i)}return t}try{localStorage.setItem("_pouch_check_localstorage",1),f=!!localStorage.getItem("_pouch_check_localstorage")}catch(e){f=!1}let i4="function"==typeof queueMicrotask?queueMicrotask:function(e){Promise.resolve().then(e)};function i5(e){if("undefined"!=typeof console&&"function"==typeof console[e]){var t=Array.prototype.slice.call(arguments,1);console[e].apply(console,t)}}t0();function i6(e){return"boolean"==typeof e._remote?e._remote:"function"==typeof e.type&&(i5("warn","db.type() is deprecated and will be removed in a future version of PouchDB"),"http"===e.type())}function i3(e,t,n){return e.get(t).catch(function(e){if(404!==e.status)throw e;return{}}).then(function(r){var i,o,s,a=r._rev,u=n(r);return u?(u._id=t,u._rev=a,i=e,o=u,s=n,i.put(o).then(function(e){return{updated:!0,rev:e.rev}},function(e){if(409!==e.status)throw e;return i3(i,o._id,s)})):{updated:!1,rev:a}})}class i8 extends Error{constructor(e){super(),this.status=400,this.name="query_parse_error",this.message=e,this.error=!0;try{Error.captureStackTrace(this,i8)}catch(e){}}}class i7 extends Error{constructor(e){super(),this.status=404,this.name="not_found",this.message=e,this.error=!0;try{Error.captureStackTrace(this,i7)}catch(e){}}}class i9 extends Error{constructor(e){super(),this.status=500,this.name="invalid_value",this.message=e,this.error=!0;try{Error.captureStackTrace(this,i9)}catch(e){}}}function oe(e,t){return t&&e.then(function(e){i4(function(){t(null,e)})},function(e){i4(function(){t(e)})}),e}function ot(e,t){return function(){var n=arguments,r=this;return e.add(function(){return t.apply(r,n)})}}function on(e){var t=new Set(e),n=Array(t.size),r=-1;return t.forEach(function(e){n[++r]=e}),n}function or(e){var t=Array(e.size),n=-1;return e.forEach(function(e,r){t[++n]=r}),t}class oi{constructor(){this.promise=Promise.resolve()}add(e){return this.promise=this.promise.catch(()=>{}).then(()=>e()),this.promise}finish(){return this.promise}}function oo(e){if(!e)return"undefined";switch(typeof e){case"function":case"string":return e.toString();default:return JSON.stringify(e)}}async function os(e,t,n,r,i,o){let s,a=oo(n)+oo(r)+"undefined";if(!i&&(s=e._cachedViews=e._cachedViews||{})[a])return s[a];let u=e.info().then(async function(u){let c,l=u.db_name+"-mrview-"+(i?"temp":tJ().hash(a));await i3(e,"_local/"+o,function(e){e.views=e.views||{};let n=t;-1===n.indexOf("/")&&(n=t+"/"+t);let r=e.views[n]=e.views[n]||{};if(!r[l])return r[l]=!0,e});let f=(await e.registerDependentDatabase(l)).db;f.auto_compaction=!0;let d={name:l,db:f,sourceDB:e,adapter:e.adapter,mapFun:n,reduceFun:r};try{c=await d.db.get("_local/lastSeq")}catch(e){if(404!==e.status)throw e}return d.seq=c?c.seq:0,s&&d.db.once("destroyed",function(){delete s[a]}),d});return s&&(s[a]=u),u}let oa={},ou=new oi;function oc(e){return -1===e.indexOf("/")?[e,e]:e.split("/")}function ol(e,t,n){try{e.emit("error",t)}catch(e){i5("error","The user's map/reduce function threw an uncaught error.\nYou can debug this error by doing:\nmyDatabase.on('error', function (err) { debugger; });\nPlease double-check your map/reduce function."),i5("error",t,n)}}function of(e,t){for(var n=e,r=0,i=t.length;r<i&&(n=n[t[r]]);r++);return n}function od(e,t){return e<t?-1:+(e>t)}function oh(e){for(var t=[],n="",r=0,i=e.length;r<i;r++){var o=e[r];r>0&&"\\"===e[r-1]&&("$"===o||"."===o)?n=n.substring(0,n.length-1)+o:"."===o?(t.push(n),n=""):n+=o}return t.push(n),t}var op=["$or","$nor","$not"];function oy(e){return op.indexOf(e)>-1}function og(e){return Object.keys(e)[0]}function ov(e){var t={},n={$or:!0,$nor:!0};return e.forEach(function(e){Object.keys(e).forEach(function(r){var i=e[r];if("object"!=typeof i&&(i={$eq:i}),oy(r))if(i instanceof Array){if(n[r]){n[r]=!1,t[r]=i;return}var o=[];t[r].forEach(function(e){Object.keys(i).forEach(function(t){var n=i[t],r=Math.max(Object.keys(e).length,Object.keys(n).length),s=ov([e,n]);Object.keys(s).length<=r||o.push(s)})}),t[r]=o}else t[r]=ov([i]);else{var s=t[r]=t[r]||{};Object.keys(i).forEach(function(e){var t,n,r,o,a,u,c,l,f,d,h,p,y=i[e];if("$gt"===e||"$gte"===e){return t=e,n=y,void(void 0===(r=s).$eq&&(void 0!==r.$gte?"$gte"===t?n>r.$gte&&(r.$gte=n):n>=r.$gte&&(delete r.$gte,r.$gt=n):void 0!==r.$gt?"$gte"===t?n>r.$gt&&(delete r.$gt,r.$gte=n):n>r.$gt&&(r.$gt=n):r[t]=n))}if("$lt"===e||"$lte"===e){return o=e,a=y,void(void 0===(u=s).$eq&&(void 0!==u.$lte?"$lte"===o?a<u.$lte&&(u.$lte=a):a<=u.$lte&&(delete u.$lte,u.$lt=a):void 0!==u.$lt?"$lte"===o?a<u.$lt&&(delete u.$lt,u.$lte=a):a<u.$lt&&(u.$lt=a):u[o]=a))}if("$ne"===e){return c=y,void("$ne"in(l=s)?l.$ne.push(c):l.$ne=[c])}if("$eq"===e){return f=y,d=s,void(delete d.$gt,delete d.$gte,delete d.$lt,delete d.$lte,delete d.$ne,d.$eq=f)}if("$regex"===e){return h=y,void("$regex"in(p=s)?p.$regex.push(h):p.$regex=[h])}s[e]=y})}})}),t}function om(e){var t=i2(e);(function e(t,n){for(var r in t){"$and"===r&&(n=!0);var i=t[r];"object"==typeof i&&(n=e(i,n))}return n})(t,!1)&&"$and"in(t=function e(t){for(var n in t){if(Array.isArray(t))for(var r in t)t[r].$and&&(t[r]=ov(t[r].$and));var i=t[n];"object"==typeof i&&e(i)}return t}(t))&&(t=ov(t.$and)),["$or","$nor"].forEach(function(e){e in t&&t[e].forEach(function(e){for(var t=Object.keys(e),n=0;n<t.length;n++){var r=t[n],i=e[r];("object"!=typeof i||null===i)&&(e[r]={$eq:i})}})}),"$not"in t&&(t.$not=ov([t.$not]));for(var n=Object.keys(t),r=0;r<n.length;r++){var i=n[r],o=t[i];("object"!=typeof o||null===o)&&(o={$eq:o}),t[i]=o}return function e(t){Object.keys(t).forEach(function(n){var r=t[n];Array.isArray(r)?r.forEach(function(t){t&&"object"==typeof t&&e(t)}):"$ne"===n?t.$ne=[r]:"$regex"===n?t.$regex=[r]:r&&"object"==typeof r&&e(r)})}(t),t}function o_(e,t,n){if(e=e.filter(function(e){return ob(e.doc,t.selector,n)}),t.sort){var r,i=function(e){function t(t){return e.map(function(e){return of(t,oh(og(e)))})}return function(e,n){var r,i,o=iG(t(e.doc),t(n.doc));return 0!==o?o:(r=e.doc._id,r<(i=n.doc._id)?-1:+(r>i))}}(t.sort);e=e.sort(i),"string"!=typeof t.sort[0]&&"desc"===(r=t.sort[0])[og(r)]&&(e=e.reverse())}if("limit"in t||"skip"in t){var o=t.skip||0,s=("limit"in t?t.limit:e.length)+o;e=e.slice(o,s)}return e}function ob(e,t,n){return n.every(function(n){var r,i,o,s=t[n],a=oh(n),u=of(e,a);return oy(n)?(r=n,i=s,o=e,"$or"===r?i.some(function(e){return ob(o,e,Object.keys(e))}):"$not"===r?!ob(o,i,Object.keys(i)):!i.find(function(e){return ob(o,e,Object.keys(e))})):ow(s,e,a,u)})}function ow(e,t,n,r){return!e||("object"==typeof e?Object.keys(e).every(function(i){var o=e[i];if(0===i.indexOf("$"))return ok(i,t,o,n,r);var s=oh(i);if(void 0===r&&"object"!=typeof o&&s.length>0)return!1;var a=of(r,s);return"object"==typeof o?ow(o,t,n,a):ok("$eq",t,o,s,a)}):e===r)}function ok(e,t,n,r,i){if(!oA[e])throw Error('unknown operator "'+e+'" - should be one of $eq, $lte, $lt, $gt, $gte, $exists, $ne, $in, $nin, $size, $mod, $regex, $elemMatch, $type, $allMatch or $all');return oA[e](t,n,r,i)}function ox(e){return null!=e}function oO(e){return void 0!==e}function oE(e,t){return t.some(function(t){return e instanceof Array?e.some(function(e){return 0===iG(t,e)}):0===iG(t,e)})}var oA={$elemMatch:function(e,t,n,r){return!!Array.isArray(r)&&0!==r.length&&("object"==typeof r[0]&&null!==r[0]?r.some(function(e){return ob(e,t,Object.keys(t))}):r.some(function(r){return ow(t,e,n,r)}))},$allMatch:function(e,t,n,r){return!!Array.isArray(r)&&0!==r.length&&("object"==typeof r[0]&&null!==r[0]?r.every(function(e){return ob(e,t,Object.keys(t))}):r.every(function(r){return ow(t,e,n,r)}))},$eq:function(e,t,n,r){return oO(r)&&0===iG(r,t)},$gte:function(e,t,n,r){return oO(r)&&iG(r,t)>=0},$gt:function(e,t,n,r){return oO(r)&&iG(r,t)>0},$lte:function(e,t,n,r){return oO(r)&&0>=iG(r,t)},$lt:function(e,t,n,r){return oO(r)&&0>iG(r,t)},$exists:function(e,t,n,r){return t?oO(r):!oO(r)},$mod:function(e,t,n,r){return ox(r)&&"number"==typeof r&&parseInt(r,10)===r&&r%t[0]===t[1]},$ne:function(e,t,n,r){return t.every(function(e){return 0!==iG(r,e)})},$in:function(e,t,n,r){return ox(r)&&oE(r,t)},$nin:function(e,t,n,r){return ox(r)&&!oE(r,t)},$size:function(e,t,n,r){return ox(r)&&Array.isArray(r)&&r.length===t},$all:function(e,t,n,r){return Array.isArray(r)&&t.every(function(e){return r.some(function(t){return 0===iG(e,t)})})},$regex:function(e,t,n,r){return ox(r)&&"string"==typeof r&&t.every(function(e){return new RegExp(e).test(r)})},$type:function(e,t,n,r){switch(t){case"null":return null===r;case"boolean":return"boolean"==typeof r;case"number":return"number"==typeof r;case"string":return"string"==typeof r;case"array":return r instanceof Array;case"object":return"[object Object]"===({}).toString.call(r)}}};function oj(e,t){if("object"!=typeof t)throw Error("Selector error: expected a JSON object");var n=o_([{doc:e}],{selector:t=om(t)},Object.keys(t));return n&&1===n.length}let oS=(...e)=>{let t=[];for(let n of e)Array.isArray(n)?t=t.concat(oS(...n)):t.push(n);return t},oq="function"==typeof Array.prototype.flat?(...e)=>e.flat(1/0):oS;function oC(e){let t={};for(let n of e)Object.assign(t,n);return t}function oR(e,t){for(let n=0,r=Math.min(e.length,t.length);n<r;n++)if(e[n]!==t[n])return!1;return!0}function oT(e,t){if(e.length!==t.length)return!1;for(let n=0,r=e.length;n<r;n++)if(e[n]!==t[n])return!1;return!0}function o$(e){return function(...t){let n=t[t.length-1];if("function"!=typeof n)return e.apply(this,t);{let r=n.bind(null,null),i=n.bind(null);e.apply(this,t.slice(0,-1)).then(r,i)}}}function oB(e){for(let t of((e=i2(e)).index||(e.index={}),["type","name","ddoc"]))e.index[t]&&(e[t]=e.index[t],delete e.index[t]);return e.fields&&(e.index.fields=e.fields,delete e.fields),e.type||(e.type="json"),e}function oP(e){return"object"==typeof e&&null!==e}let oL=["$all","$allMatch","$and","$elemMatch","$exists","$in","$mod","$nin","$nor","$not","$or","$regex","$size","$type"],oU=["$in","$nin","$mod","$all"],oD=["$eq","$gt","$gte","$lt","$lte"];function oI(e,t){if(Array.isArray(e))for(let n of e)oP(n)&&oI(n,t);else for(let[n,r]of Object.entries(e))-1!==oL.indexOf(n)&&function(e,t,n){let r="",i=t,o=!0;if(-1===["$in","$nin","$or","$and","$mod","$nor","$all"].indexOf(e)||Array.isArray(t)||(r="Query operator "+e+" must be an array."),-1===["$not","$elemMatch","$allMatch"].indexOf(e)||!Array.isArray(t)&&oP(t)||(r="Query operator "+e+" must be an object."),"$mod"===e&&Array.isArray(t))if(2!==t.length)r="Query operator $mod must be in the format [divisor, remainder], where divisor and remainder are both integers.";else{let e=t[0],n=t[1];0===e&&(r="Query operator $mod's divisor cannot be 0, cannot divide by zero.",o=!1),("number"!=typeof e||parseInt(e,10)!==e)&&(r="Query operator $mod's divisor is not an integer.",i=e),parseInt(n,10)!==n&&(r="Query operator $mod's remainder is not an integer.",i=n)}if("$exists"===e&&"boolean"!=typeof t&&(r="Query operator $exists must be a boolean."),"$type"===e){let e=["null","boolean","number","string","array","object"],n='"'+e.slice(0,e.length-1).join('", "')+'", or "'+e[e.length-1]+'"';"string"!=typeof t?r="Query operator $type must be a string. Supported values: "+n+".":-1==e.indexOf(t)&&(r="Query operator $type must be a string. Supported values: "+n+".")}if("$size"===e&&parseInt(t,10)!==t&&(r="Query operator $size must be a integer."),"$regex"===e&&"string"!=typeof t&&(n?r="Query operator $regex must be a string.":t instanceof RegExp||(r="Query operator $regex must be a string or an instance of a javascript regular expression.")),r)throw o&&(r+=" Received"+(null===i?" ":Array.isArray(i)?" array":" "+typeof i)+": "+(oP(i)?JSON.stringify(i,null,"	"):i)),Error(r)}(n,r,t),-1===oD.indexOf(n)&&-1===oU.indexOf(n)&&oP(r)&&oI(r,t)}async function oN(e,t,n){n.body&&(n.body=JSON.stringify(n.body),n.headers=new iQ({"Content-type":"application/json"}));let r=await e.fetch(t,n),i=await r.json();if(!r.ok)throw i.status=r.status,iH(function(e,t){function n(t){for(var n=Object.getOwnPropertyNames(e),r=0,i=n.length;r<i;r++)"function"!=typeof e[n[r]]&&(this[n[r]]=e[n[r]]);void 0===this.stack&&(this.stack=Error().stack),void 0!==t&&(this.reason=t)}return n.prototype=iW.prototype,new n(void 0)}(i));return i}async function oM(e,t){return await oN(e,"_index",{method:"POST",body:oB(t)})}async function oF(e,t){return oI(t.selector,!0),await oN(e,"_find",{method:"POST",body:t})}async function oK(e,t){return await oN(e,"_explain",{method:"POST",body:t})}async function oz(e){return await oN(e,"_index",{method:"GET"})}async function oJ(e,t){let n=t.ddoc,r=t.type||"json",i=t.name;if(!n)throw Error("you must provide an index's ddoc");if(!i)throw Error("you must provide an index's name");let o="_index/"+[n,r,i].map(encodeURIComponent).join("/");return await oN(e,o,{method:"DELETE"})}function oW(e,t){for(let n of t)if(void 0===(e=e[n]))return;return e}let oV=function(e,t,n,r){var i;function o(e,t){let n=iG(e.key,t.key);return 0!==n?n:iG(e.value,t.value)}function s(e,t,n){return(n=n||0,"number"==typeof t)?e.slice(n,t+n):n>0?e.slice(n):e}function a(e){let t=e.value;return t&&"object"==typeof t&&t._id||e.id}function u(e){return function(t){return e.include_docs&&e.attachments&&e.binary&&function(e){for(let t of e.rows){let e=t.doc&&t.doc._attachments;if(e)for(let t of Object.keys(e)){let n=e[t];e[t].data=function(e,t){var n;return n=atob(e),function(e,t){e=e||[],t=t||{};try{return new Blob(e,t)}catch(i){if("TypeError"!==i.name)throw i;for(var n=new("undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof MSBlobBuilder?MSBlobBuilder:"undefined"!=typeof MozBlobBuilder?MozBlobBuilder:WebKitBlobBuilder),r=0;r<e.length;r+=1)n.append(e[r]);return n.getBlob(t.type)}}([function(e){for(var t=e.length,n=new ArrayBuffer(t),r=new Uint8Array(n),i=0;i<t;i++)r[i]=e.charCodeAt(i);return n}(n)],{type:t})}(n.data,n.content_type)}}}(t),t}}function c(e,t,n,r){let i=t[e];void 0!==i&&(r&&(i=encodeURIComponent(JSON.stringify(i))),n.push(e+"="+i))}function l(e){if(void 0!==e){let t=Number(e);return isNaN(t)||t!==parseInt(e,10)?e:t}}function f(e,t){let n=e.descending?"endkey":"startkey",r=e.descending?"startkey":"endkey";if(void 0!==e[n]&&void 0!==e[r]&&iG(e[n],e[r])>0)throw new i8("No rows can match your key range, reverse your start_key and end_key or set {descending : true}");if(t.reduce&&!1!==e.reduce){if(e.include_docs)throw new i8("{include_docs:true} is invalid for reduce");else if(e.keys&&e.keys.length>1&&!e.group&&!e.group_level)throw new i8("Multi-key fetches for reduce views must use {group: true}")}for(let t of["group_level","limit","skip"]){let n=function(e){if(e){if("number"!=typeof e)return new i8(`Invalid value for integer: "${e}"`);if(e<0)return new i8(`Invalid value for positive integer: "${e}"`)}}(e[t]);if(n)throw n}}async function d(e,t,n){let r,i,o=[],s="GET";if(c("reduce",n,o),c("include_docs",n,o),c("attachments",n,o),c("limit",n,o),c("descending",n,o),c("group",n,o),c("group_level",n,o),c("skip",n,o),c("stale",n,o),c("conflicts",n,o),c("startkey",n,o,!0),c("start_key",n,o,!0),c("endkey",n,o,!0),c("end_key",n,o,!0),c("inclusive_end",n,o),c("key",n,o,!0),c("update_seq",n,o),o=""===(o=o.join("&"))?"":"?"+o,void 0!==n.keys){let e=`keys=${encodeURIComponent(JSON.stringify(n.keys))}`;e.length+o.length+1<=2e3?o+=("?"===o[0]?"&":"?")+e:(s="POST","string"==typeof t?r={keys:n.keys}:t.keys=n.keys)}if("string"==typeof t){let a=oc(t),c=await e.fetch("_design/"+a[0]+"/_view/"+a[1]+o,{headers:new iQ({"Content-Type":"application/json"}),method:s,body:JSON.stringify(r)});i=c.ok;let l=await c.json();if(!i)throw l.status=c.status,iH(l);for(let e of l.rows)if(e.value&&e.value.error&&"builtin_reduce_error"===e.value.error)throw Error(e.reason);return new Promise(function(e){e(l)}).then(u(n))}for(let e of(r=r||{},Object.keys(t)))Array.isArray(t[e])?r[e]=t[e]:r[e]=t[e].toString();let a=await e.fetch("_temp_view"+o,{headers:new iQ({"Content-Type":"application/json"}),method:"POST",body:JSON.stringify(r)});i=a.ok;let l=await a.json();if(!i)throw l.status=a.status,iH(l);return new Promise(function(e){e(l)}).then(u(n))}function h(e){return function(t){if(404===t.status)return e;throw t}}async function p(e,t,n){let r="_local/doc_"+e,i={_id:r,keys:[]},o=n.get(e),s=o[0],a=o[1],u=await (1===a.length&&/^1-/.test(a[0].rev)?Promise.resolve(i):t.db.get(r).catch(h(i))),c=await (!u.keys.length?Promise.resolve({rows:[]}):t.db.allDocs({keys:u.keys,include_docs:!0}));return function(e,t){let n=[],r=new Set;for(let e of t.rows){let t=e.doc;if(t&&(n.push(t),r.add(t._id),t._deleted=!s.has(t._id),!t._deleted)){let e=s.get(t._id);"value"in e&&(t.value=e.value)}}let i=or(s);for(let e of i)if(!r.has(e)){let t={_id:e},r=s.get(e);"value"in r&&(t.value=r.value),n.push(t)}return e.keys=on(i.concat(e.keys)),n.push(e),n}(u,c)}function y(e){let t="string"==typeof e?e:e.name,n=oa[t];return n||(n=oa[t]=new oi),n}async function g(e,t){return ot(y(e),function(){return v(e,t)})()}async function v(e,n){let r,i,s,a=t(e.mapFun,function(e,t){let n={id:i._id,key:iX(e)};null!=t&&(n.value=iX(t)),r.push(n)}),u=e.seq||0,c=0,l={view:e.name,indexed_docs:c};e.sourceDB.emit("indexing",l);let f=new oi;async function d(){return function(t,l){var y;let g=t.results;if(!g.length&&!l.length)return;for(let e of l)if(0>g.findIndex(function(t){return t.id===e.docId})){let t={_id:e.docId,doc:{_id:e.docId,_deleted:1},changes:[]};e.doc&&(t.doc=e.doc,t.changes.push({rev:e.doc._rev})),g.push(t)}let v=function(t){let n=new Map;for(let s of t){if("_"!==s.doc._id[0]){r=[],(i=s.doc)._deleted||function(e,t,n){try{t(n)}catch(r){ol(e,r,{fun:t,doc:n})}}(e.sourceDB,a,i),r.sort(o);let t=function(e){let t,n=new Map;for(let r=0,i=e.length;r<i;r++){let i=e[r],o=[i.key,i.id];r>0&&0===iG(i.key,t)&&o.push(r),n.set(iY(o),i),t=i.key}return n}(r);n.set(s.doc._id,[t,s.changes])}u=s.seq}return n}(g);f.add((y=u,function(){var t;return t="_local/lastSeq",e.db.get(t).catch(h({_id:t,seq:0})).then(function(t){return Promise.all(or(v).map(function(t){return p(t,e,v)})).then(function(n){var r=n.flat();return t.seq=y,r.push(t),e.db.bulkDocs({docs:r})}).then(()=>e.sourceDB.get("_local/purges").then(function(t){let n=t.purgeSeq;return e.db.get("_local/purgeSeq").then(function(e){return e._rev}).catch(h(void 0)).then(function(t){return e.db.put({_id:"_local/purgeSeq",_rev:t,purgeSeq:n})})}).catch(function(e){if(404!==e.status)throw e}))})})),c+=g.length;let m={view:e.name,last_seq:t.last_seq,results_count:g.length,indexed_docs:c};if(e.sourceDB.emit("indexing",m),e.sourceDB.activeTasks.update(s,{completed_items:c}),!(g.length<n.changes_batch_size))return d()}(await e.sourceDB.changes({return_docs:!0,conflicts:!0,include_docs:!0,style:"all_docs",since:u,limit:n.changes_batch_size}),await e.db.get("_local/purgeSeq").then(function(e){return e.purgeSeq}).catch(h(-1)).then(function(t){return e.sourceDB.get("_local/purges").then(function(n){let r=n.purges.filter(function(e,n){return n>t}).map(e=>e.docId);return Promise.all(r.filter(function(e,t){return r.indexOf(e)===t}).map(function(t){return e.sourceDB.get(t).then(function(e){return{docId:t,doc:e}}).catch(h({docId:t}))}))}).catch(h([]))}))}try{await e.sourceDB.info().then(function(t){s=e.sourceDB.activeTasks.add({name:"view_indexing",total_items:t.update_seq-u})}),await d(),await f.finish(),e.seq=u,e.sourceDB.activeTasks.remove(s)}catch(t){e.sourceDB.activeTasks.remove(s,t)}}function m(e,t){return ot(y(e),function(){return b(e,t)})()}async function b(e,t){let r,i=e.reduceFun&&!1!==t.reduce,o=t.skip||0;async function u(t){t.include_docs=!0;let n=await e.db.allDocs(t);return r=n.total_rows,n.rows.map(function(e){if("value"in e.doc&&"object"==typeof e.doc.value&&null!==e.doc.value){let t=Object.keys(e.doc.value).sort(),n=["id","key","value"];if(!(t<n||t>n))return e.doc.value}let t=function(e){for(var t=[],n=[],r=0;;){var i=e[r++];if("\0"===i)if(1===t.length)return t.pop();else{!function(e,t){var n=e.pop();if(t.length){var r=t[t.length-1];n===r.element&&(t.pop(),r=t[t.length-1]);var i=r.element,o=r.index;Array.isArray(i)?i.push(n):o===e.length-2?i[e.pop()]=n:e.push(n)}}(t,n);continue}switch(i){case"1":t.push(null);break;case"2":t.push("1"===e[r]),r++;break;case"3":var o=function(e,t){var n,r=t;if("1"===e[t])n=0,t++;else{var i="0"===e[t];t++;var o="",s=parseInt(e.substring(t,t+3),10)+-324;for(i&&(s=-s),t+=3;;){var a=e[t];if("\0"===a)break;o+=a,t++}n=1===(o=o.split(".")).length?parseInt(o,10):parseFloat(o[0]+"."+o[1]),i&&(n-=10),0!==s&&(n=parseFloat(n+"e"+s))}return{num:n,length:t-r}}(e,r);t.push(o.num),r+=o.length;break;case"4":for(var s="";;){var a=e[r];if("\0"===a)break;s+=a,r++}s=s.replace(/\u0001\u0001/g,"\0").replace(/\u0001\u0002/g,"\x01").replace(/\u0002\u0002/g,"\x02"),t.push(s);break;case"5":var u={element:[],index:t.length};t.push(u.element),n.push(u);break;case"6":var c={element:{},index:t.length};t.push(c.element),n.push(c);break;default:throw Error("bad collationIndex or unexpectedly reached end of input: "+i)}}}(e.doc._id);return{key:t[0],id:t[1],value:"value"in e.doc?e.doc.value:null}})}async function c(u){let c;if(c=i?function(e,t,r){0===r.group_level&&delete r.group_level;let i=r.group||r.group_level,o=n(e.reduceFun),a=[],u=isNaN(r.group_level)?Number.POSITIVE_INFINITY:r.group_level;for(let e of t){let t=a[a.length-1],n=i?e.key:null;if(i&&Array.isArray(n)&&(n=n.slice(0,u)),t&&0===iG(t.groupKey,n)){t.keys.push([e.key,e.id]),t.values.push(e.value);continue}a.push({keys:[[e.key,e.id]],values:[e.value],groupKey:n})}for(let n of(t=[],a)){let r=function(e,t,n,r,i){try{return{output:t(n,r,i)}}catch(o){return ol(e,o,{fun:t,keys:n,values:r,rereduce:i}),{error:o}}}(e.sourceDB,o,n.keys,n.values,!1);if(r.error&&r.error instanceof i9)throw r.error;t.push({value:r.error?null:r.output,key:n.groupKey})}return{rows:s(t,r.limit,r.skip)}}(e,u,t):void 0===t.keys?{total_rows:r,offset:o,rows:u}:{total_rows:r,offset:o,rows:s(u,t.limit,t.skip)},t.update_seq&&(c.update_seq=e.seq),t.include_docs){let n=on(u.map(a)),r=await e.sourceDB.allDocs({keys:n,include_docs:!0,conflicts:t.conflicts,attachments:t.attachments,binary:t.binary}),i=new Map;for(let e of r.rows)i.set(e.id,e.doc);for(let e of u){let t=a(e),n=i.get(t);n&&(e.doc=n)}}return c}if(void 0===t.keys||t.keys.length||(t.limit=0,delete t.keys),void 0!==t.keys){let e=t.keys.map(function(e){let n={startkey:iY([e]),endkey:iY([e,{}])};return t.update_seq&&(n.update_seq=!0),u(n)});return c((await Promise.all(e)).flat())}{let e,n,r={descending:t.descending};if(t.update_seq&&(r.update_seq=!0),"start_key"in t&&(e=t.start_key),"startkey"in t&&(e=t.startkey),"end_key"in t&&(n=t.end_key),"endkey"in t&&(n=t.endkey),void 0!==e&&(r.startkey=t.descending?iY([e,{}]):iY([e])),void 0!==n){let e=!1!==t.inclusive_end;t.descending&&(e=!e),r.endkey=iY(e?[n,{}]:[n])}if(void 0!==t.key){let e=iY([t.key]),n=iY([t.key,{}]);r.descending?(r.endkey=e,r.startkey=n):(r.startkey=e,r.endkey=n)}return i||("number"==typeof t.limit&&(r.limit=t.limit),r.skip=o),c(await u(r))}}async function w(e){return(await e.fetch("_view_cleanup",{headers:new iQ({"Content-Type":"application/json"}),method:"POST"})).json()}async function k(t){try{let n=await t.get("_local/"+e),r=new Map;for(let e of Object.keys(n.views)){let t=oc(e),n="_design/"+t[0],i=t[1],o=r.get(n);o||(o=new Set,r.set(n,o)),o.add(i)}let i={keys:or(r),include_docs:!0},o=await t.allDocs(i),s={};for(let e of o.rows){let t=e.key.substring(8);for(let i of r.get(e.key)){let r=t+"/"+i;n.views[r]||(r=i);let o=Object.keys(n.views[r]),a=e.doc&&e.doc.views&&e.doc.views[i];for(let e of o)s[e]=s[e]||a}}let a=Object.keys(s).filter(function(e){return!s[e]}).map(function(e){return ot(y(e),function(){return new t.constructor(e,t.__opts).destroy()})()});return Promise.all(a).then(function(){return{ok:!0}})}catch(e){if(404===e.status)return{ok:!0};throw e}}async function x(t,n,i){if("function"==typeof t._query){var o;return o=n,new Promise(function(e,n){t._query(o,i,function(t,r){if(t)return n(t);e(r)})})}if(i6(t))return d(t,n,i);let s={changes_batch_size:t.__opts.view_update_changes_batch_size||50};if("string"!=typeof n)return f(i,n),ou.add(async function(){var r,o;let a=await os(t,"temp_view/temp_view",n.map,n.reduce,!0,e);return r=g(a,s).then(function(){return m(a,i)}),o=function(){return a.db.destroy()},r.then(function(e){return o().then(function(){return e})},function(e){return o().then(function(){throw e})})}),ou.finish();{let o=n,a=oc(o),u=a[0],c=a[1],l=await t.get("_design/"+u);if(!(n=l.views&&l.views[c]))throw new i7(`ddoc ${l._id} has no view named ${c}`);r(l,c),f(i,n);let d=await os(t,o,n.map,n.reduce,!1,e);return"ok"===i.stale||"update_after"===i.stale?"update_after"===i.stale&&i4(function(){g(d,s)}):await g(d,s),m(d,i)}}return{query:function(e,t,n){var r;let i=this;"function"==typeof t&&(n=t,t={}),t=t?((r=t).group_level=l(r.group_level),r.limit=l(r.limit),r.skip=l(r.skip),r):{},"function"==typeof e&&(e={map:e});let o=Promise.resolve().then(function(){return x(i,e,t)});return oe(o,n),o},viewCleanup:(i=function(){if("function"==typeof this._viewCleanup){var e;return e=this,new Promise(function(t,n){e._viewCleanup(function(e,r){if(e)return n(e);t(r)})})}return i6(this)?w(this):k(this)},function(...e){var t=e.pop(),n=i.apply(this,e);return"function"==typeof t&&oe(n,t),n})}}("indexes",function(e,t){return function(e,t,n){let r=e.every(e=>-1===e.indexOf(".")),i=1===e.length;if(r)if(i)return o=e[0],function(e){(!n||oj(e,n))&&t(e[o])};else return function(r){(!n||oj(r,n))&&t(e.map(e=>r[e]))};if(i){var o;let r=oh(e[0]);return function(e){if(n&&!oj(e,n))return;let i=oW(e,r);void 0!==i&&t(i)}}return function(r){if(n&&!oj(r,n))return;let i=[];for(let t of e){let e=oW(r,oh(t));if(void 0===e)return;i.push(e)}t(i)}}(Object.keys(e.fields),t,e.partial_filter_selector)},function(){throw Error("reduce not supported")},function(e,t){let n=e.views[t];if(!n.map||!n.map.fields)throw Error("ddoc "+e._id+" with view "+t+" doesn't have map.fields defined. maybe it wasn't created by this plugin?")});function oH(e){return e._customFindAbstractMapper?{query:function(t,n){let r=oV.query.bind(this);return e._customFindAbstractMapper.query.call(this,t,n,r)},viewCleanup:function(){let t=oV.viewCleanup.bind(this);return e._customFindAbstractMapper.viewCleanup.call(this,t)}}:oV}let oQ=/^_design\//;function oG(e){return e.fields=e.fields.map(function(e){if("string"==typeof e){let t={};return t[e]="asc",t}return e}),e.partial_filter_selector&&(e.partial_filter_selector=om(e.partial_filter_selector)),e}async function oX(e,t){let n,r=i2((t=oB(t)).index);t.index=oG(t.index);var i=t.index;let o=i.fields.filter(function(e){return"asc"===e[og(e)]});if(0!==o.length&&o.length!==i.fields.length)throw Error("unsupported mixed sorting");function s(){var e;return n||(e=JSON.stringify(t),n=tJ().hash(e))}let a=t.name||"idx-"+s(),u=t.ddoc||"idx-"+s(),c="_design/"+u,l=!1,f=!1;if(e.constructor.emit("debug",["find","creating index",c]),await i3(e,c,function(e){return e._rev&&"query"!==e.language&&(l=!0),e.language="query",e.views=e.views||{},!(f=!!e.views[a])&&(e.views[a]={map:{fields:oC(t.index.fields),partial_filter_selector:t.index.partial_filter_selector},reduce:"_count",options:{def:r}},e)}),l)throw Error('invalid language for ddoc with id "'+c+'" (should be "query")');return await oH(e).query.call(e,u+"/"+a,{limit:0,reduce:!1}),{id:c,name:a,result:f?"exists":"created"}}async function oY(e){let t=await e.allDocs({startkey:"_design/",endkey:"_design/",include_docs:!0}),n={indexes:[{ddoc:null,name:"_all_docs",type:"special",def:{fields:[{_id:"asc"}]}}]};return n.indexes=oq(n.indexes,t.rows.filter(function(e){return"query"===e.doc.language}).map(function(e){return(void 0!==e.doc.views?Object.keys(e.doc.views):[]).map(function(t){let n=e.doc.views[t];return{ddoc:e.id,name:t,type:"json",def:oG(n.options.def)}})})),n.indexes.sort(function(e,t){var n,r;return n=e.name,n<(r=t.name)?-1:+(n>r)}),n.total_rows=n.indexes.length,n}let oZ={"":{}},o0={queryOpts:{limit:0,startkey:oZ,endkey:null},inMemoryFields:[]};function o1(e,t){let n=t.def.fields.map(og);return e.slice().sort(function(e,t){var r,i;let o=n.indexOf(e),s=n.indexOf(t);return -1===o&&(o=Number.MAX_VALUE),-1===s&&(s=Number.MAX_VALUE),(r=o)<(i=s)?-1:+(r>i)})}let o2=["$eq","$gt","$gte","$lt","$lte"];function o4(e){return -1===o2.indexOf(e)}async function o5(e,t){let n=i2(t);n.descending?("endkey"in n&&"string"!=typeof n.endkey&&(n.endkey=""),"startkey"in n&&"string"!=typeof n.startkey&&(n.limit=0)):("startkey"in n&&"string"!=typeof n.startkey&&(n.startkey=""),"endkey"in n&&"string"!=typeof n.endkey&&(n.limit=0)),"key"in n&&"string"!=typeof n.key&&(n.limit=0),n.limit>0&&n.indexes_count&&(n.original_limit=n.limit,n.limit+=n.indexes_count);let r=await e.allDocs(n);return r.rows=r.rows.filter(function(e){return!/^_design\//.test(e.id)}),n.original_limit&&(n.limit=n.original_limit),r.rows=r.rows.slice(0,n.limit),r}async function o6(e,t,n){return"_all_docs"===n.name?o5(e,t):oH(e).query.call(e,n.ddoc.substring(8)+"/"+n.name,t)}async function o3(e,t,n){let r;if(t.selector&&(oI(t.selector,!1),t.selector=om(t.selector)),t.sort&&(t.sort=function(e){if(!Array.isArray(e))throw Error("invalid sort json - should be an array");return e.map(function(e){if("string"!=typeof e)return e;{let t={};return t[e]="asc",t}})}(t.sort)),t.use_index&&(a=t.use_index,r=[],"string"==typeof a?r.push(a):r=a,t.use_index=r.map(function(e){return e.replace(oQ,"")})),"limit"in t||(t.limit=25),"object"!=typeof t.selector)throw Error("you must provide a selector when you find()");let i=await oY(e);e.constructor.emit("debug",["find","planning query",t]);let o=function(e,t){var n,r;let i=e.selector,o=e.sort;if(Object.keys(i).map(function(e){return i[e]}).some(function(e){return"object"==typeof e&&0===Object.keys(e).length}))return Object.assign({},o0,{index:t[0]});let s=function(e,t){let n,r=Object.keys(e),i=t?t.map(og):[];return(n=r.length>=i.length?r:i,0===i.length)?{fields:n}:{fields:n=n.sort(function(e,t){let n=i.indexOf(e);-1===n&&(n=Number.MAX_VALUE);let r=i.indexOf(t);return -1===r&&(r=Number.MAX_VALUE),n<r?-1:+(n>r)}),sortOrder:t.map(og)}}(i,o),a=s.fields,u=function(e,t,n,r,i){let o=r.filter(function(r){let i=r.def.fields.map(og);if(!function(e,t,n){if(t){let r=!(t.length>e.length)&&oR(t,e),i=oR(n,e);return r&&i}var r=n;for(let t of(r=r.slice(),e)){if(!r.length)break;let e=r.indexOf(t);if(-1===e)return!1;r.splice(e,1)}return!0}(i,n,t))return!1;let o=e[i[0]];return void 0===o||1!==Object.keys(o).length||"$ne"!==og(o)});if(0===o.length){if(i)throw{error:"no_usable_index",message:"There is no index available for this selector."};let e=r[0];return e.defaultUsed=!0,e}if(1===o.length&&!i)return o[0];let s=function(e){let t={};for(let n of e)t[n]=!0;return t}(t);if(i){let e="_design/"+i[0],t=2===i.length&&i[1],n=o.find(function(n){return!!t&&n.ddoc===e&&t===n.name||n.ddoc===e});if(!n)throw{error:"unknown_error",message:"Could not find that index or could not use that index for the query"};return n}return function(e,t){let n=null,r=-1;for(let i of e){let e=t(i);e>r&&(r=e,n=i)}return n}(o,function(e){let t=e.def.fields.map(og),n=0;for(let e of t)s[e]&&n++;return n})}(i,a,s.sortOrder,t,e.use_index),c=(n=i,(r=u).defaultUsed?{queryOpts:{startkey:null},inMemoryFields:[Object.keys(n)]}:1===r.def.fields.length?function(e,t){let n,r=og(t.def.fields[0]),i=e[r]||{},o=[];for(let e of Object.keys(i)){o4(e)&&o.push(r);let t=i[e],s=function(e,t){switch(e){case"$eq":return{key:t};case"$lte":return{endkey:t};case"$gte":return{startkey:t};case"$lt":return{endkey:t,inclusive_end:!1};case"$gt":return{startkey:t,inclusive_start:!1}}return{startkey:null}}(e,t);n=n?oC([n,s]):s}return{queryOpts:n,inMemoryFields:o}}(n,r):function(e,t){let n,r,i=t.def.fields.map(og),o=[],s=[],a=[];function u(e){!1!==n&&s.push(null),!1!==r&&a.push(oZ),o=i.slice(e)}for(let t=0,o=i.length;t<o;t++){let o=e[i[t]];if(o&&Object.keys(o).length){if(Object.keys(o).some(o4)){u(t);break}else if(t>0){let n="$gt"in o||"$gte"in o||"$lt"in o||"$lte"in o,r=Object.keys(e[i[t-1]]),s=oT(r,["$eq"]),a=oT(r,Object.keys(o));if(n&&!s&&!a){u(t);break}}}else{u(t);break}let c=Object.keys(o),l=null;for(let e of c){let t=o[e],n=function(e,t){switch(e){case"$eq":return{startkey:t,endkey:t};case"$lte":return{endkey:t};case"$gte":return{startkey:t};case"$lt":return{endkey:t,inclusive_end:!1};case"$gt":return{startkey:t,inclusive_start:!1}}}(e,t);l=l?oC([l,n]):n}s.push("startkey"in l?l.startkey:null),a.push("endkey"in l?l.endkey:oZ),"inclusive_start"in l&&(n=l.inclusive_start),"inclusive_end"in l&&(r=l.inclusive_end)}let c={startkey:s,endkey:a};return void 0!==n&&(c.inclusive_start=n),void 0!==r&&(c.inclusive_end=r),{queryOpts:c,inMemoryFields:o}}(n,r)),l=c.queryOpts,f=function(e,t,n,r){let i=oq(e,function(e,t,n){n=o1(n,e);let r=!1;for(let i=0,o=n.length;i<o;i++){let s=n[i];if(r||!function(e,t){return e.def.fields.some(e=>og(e)===t)}(e,s))return n.slice(i);i<o-1&&"$eq"!==og(t[s])&&(r=!0)}return[]}(t,n,r),function(e){let t=[];for(let[n,r]of Object.entries(e))for(let e of Object.keys(r))"$ne"===e&&t.push(n);return t}(n));return o1(Array.from(new Set(i)),t)}(c.inMemoryFields,u,i,a);return{queryOpts:l,index:u,inMemoryFields:f}}(t,i.indexes);e.constructor.emit("debug",["find","query plan",o]);let s=o.index;var a,u,c=t,l=s;if(l.defaultUsed&&c.sort){let e=c.sort.filter(function(e){return"_id"!==Object.keys(e)[0]}).map(function(e){return Object.keys(e)[0]});if(e.length>0)throw Error('Cannot sort on field(s) "'+e.join(",")+'" when using the default index')}l.defaultUsed;let f=Object.assign({include_docs:!0,reduce:!1,indexes_count:i.total_rows},o.queryOpts);if("startkey"in f&&"endkey"in f&&iG(f.startkey,f.endkey)>0)return{docs:[]};if(t.sort&&"string"!=typeof t.sort[0]&&"desc"===(u=t.sort[0])[og(u)]&&(f.descending=!0,f=function(e){let t=i2(e);return delete t.startkey,delete t.endkey,delete t.inclusive_start,delete t.inclusive_end,"endkey"in e&&(t.startkey=e.endkey),"startkey"in e&&(t.endkey=e.startkey),"inclusive_start"in e&&(t.inclusive_end=e.inclusive_start),"inclusive_end"in e&&(t.inclusive_start=e.inclusive_end),t}(f)),!o.inMemoryFields.length&&(f.limit=t.limit,"skip"in t&&(f.skip=t.skip)),n)return Promise.resolve(o,f);let d=await o6(e,f,s);!1===f.inclusive_start&&(d.rows=function(e,t,n){let r=n.def.fields,i=0;for(let o of e){let e=function(e,t){return t.def.fields.map(t=>of(e,oh(og(t))))}(o.doc,n);if(1===r.length)e=e[0];else for(;e.length>t.length;)e.pop();if(Math.abs(iG(e,t))>0)break;++i}return i>0?e.slice(i):e}(d.rows,f.startkey,s)),o.inMemoryFields.length&&(d.rows=o_(d.rows,t,o.inMemoryFields));let h={docs:d.rows.map(function(e){let n=e.doc;return t.fields?function(e,t){let n={};for(let r of t){let t=oh(r),i=of(e,t);void 0!==i&&function(e,t,n){for(var r=0,i=t.length;r<i-1;r++){var o=t[r];e=e[o]=e[o]||{}}e[t[i-1]]=n}(n,t,i)}return n}(n,t.fields):n})};return s.defaultUsed&&(h.warning="No matching index found, create an index to optimize query time."),h}async function o8(e,t){let n=await o3(e,t,!0);return{dbname:e.name,index:n.index,selector:t.selector,range:{start_key:n.queryOpts.startkey,end_key:n.queryOpts.endkey},opts:{use_index:t.use_index||[],bookmark:"nil",limit:t.limit,skip:t.skip,sort:t.sort||{},fields:t.fields,conflicts:!1,r:[49]},limit:t.limit,skip:t.skip||0,fields:t.fields}}async function o7(e,t){if(!t.ddoc)throw Error("you must supply an index.ddoc when deleting");if(!t.name)throw Error("you must supply an index.name when deleting");let n=t.ddoc,r=t.name;return await i3(e,n,function(e){return 1===Object.keys(e.views).length&&e.views[r]?{_id:n,_deleted:!0}:(delete e.views[r],e)}),await oH(e).viewCleanup.apply(e),{ok:!0}}let o9={};o9.createIndex=o$(async function(e){if("object"!=typeof e)throw Error("you must provide an index to create");return(i6(this)?oM:oX)(this,e)}),o9.find=o$(async function(e){if("object"!=typeof e)throw Error("you must provide search parameters to find()");return(i6(this)?oF:o3)(this,e)}),o9.explain=o$(async function(e){if("object"!=typeof e)throw Error("you must provide search parameters to explain()");return(i6(this)?oK:o8)(this,e)}),o9.getIndexes=o$(async function(){return(i6(this)?oz:oY)(this)}),o9.deleteIndex=o$(async function(e){if("object"!=typeof e)throw Error("you must provide an index to delete");return(i6(this)?oJ:o7)(this,e)}),rl.plugin(o9);let se=new rl("indicator"),st=async e=>{var t;let n={};e.code&&(n.code={$regex:e.code}),(null==(t=e.tags)?void 0:t.length)&&e.tags.length>0&&(n.tags={$in:e.tags});let r=null;try{r=await se.find({selector:{docType:"indicator",...n}}),console.log("sdfaddddddddddddd",n,r)}catch(e){console.log("22222222222222222222",e)}return(null==r?void 0:r.docs)||[]},sn=async e=>{try{let t={_id:"indicator_"+e.code,...e},n=await se.post(t,{});console.log("!!!!!!!!!!!!!!!!!!!!!!",n)}catch(e){console.log(e)}},sr=async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";try{let n={_id:"indicator_"+e.code,_rev:t,...e},r=await se.put(n,{});console.log("!!!!!!!!!!!!!!!!!!!!!!",r)}catch(e){console.log(e)}},si=async e=>{try{let t=await se.remove(e);console.log("!!!!!!!!!!!!!!!!!!!!!!",t)}catch(e){console.log(e)}},so=async()=>{if(!(self instanceof ServiceWorkerGlobalScope))return;let e=new Date;if(9>e.getHours()||e.getHours()>23)return void console.log("notify, not work time!");console.log("notify, work time"),await self.registration.showNotification("Critical Error",{body:"Critical error "+new Date,icon:"notify.png"})};var ss=n(836);console.log([{'revision':'ef63c9fa0ac9699a09faaba3d72ba527','url':'/_next/app-build-manifest.json'},{'revision':'26c9b4eb3a7483594b3aaa3c52e571bf','url':'/_next/server/app/_not-found/page_client-reference-manifest.js'},{'revision':'53cd070b4d4d9ec6174f2ce84519f17d','url':'/_next/server/app/manifest.webmanifest/route_client-reference-manifest.js'},{'revision':'57449337d4579d08063a5dd635ad473f','url':'/_next/server/app/page_client-reference-manifest.js'},{'revision':'f4f9bf5680e1fc4ad2395452fa732268','url':'/_next/server/middleware-build-manifest.js'},{'revision':'13f0cbd4846da86fd34585e4d19cb944','url':'/_next/server/middleware-react-loadable-manifest.js'},{'revision':'aa261ff5816daa9f8441e7a4d521f5b8','url':'/_next/server/next-font-manifest.js'},{'revision':'7b50e5e0fbeae1d64f7a1491a6e9095e','url':'/_next/server/next-font-manifest.json'},{'revision':null,'url':'/_next/static/J5JPcDWWd9-Iw9k5DFGIe/_buildManifest.js'},{'revision':null,'url':'/_next/static/J5JPcDWWd9-Iw9k5DFGIe/_ssgManifest.js'},{'revision':null,'url':'/_next/static/chunks/367a3e88.9051c3b441245410.js'},{'revision':null,'url':'/_next/static/chunks/4bd1b696-8df62ebad66e5555.js'},{'revision':null,'url':'/_next/static/chunks/554.6dca66eea426df5a.js'},{'revision':null,'url':'/_next/static/chunks/576.804ea29a74cf50c4.js'},{'revision':null,'url':'/_next/static/chunks/684-ffe317bbf8728ad1.js'},{'revision':null,'url':'/_next/static/chunks/691-a4dbbad0fd014141.js'},{'revision':null,'url':'/_next/static/chunks/741.e780787d97aa2388.js'},{'revision':null,'url':'/_next/static/chunks/753.b1989cd6ab91cbc6.js'},{'revision':null,'url':'/_next/static/chunks/761-9674647468db3702.js'},{'revision':null,'url':'/_next/static/chunks/764.8d159b893b74d228.js'},{'revision':null,'url':'/_next/static/chunks/987.3a2e8977e23f97c5.js'},{'revision':null,'url':'/_next/static/chunks/app/_not-found/page-a1547d4eba41b8a1.js'},{'revision':null,'url':'/_next/static/chunks/app/layout-e40ead9ebfc9edff.js'},{'revision':null,'url':'/_next/static/chunks/app/manifest.webmanifest/route-e55362ab5032d06c.js'},{'revision':null,'url':'/_next/static/chunks/app/page-b8ab65170ec58030.js'},{'revision':null,'url':'/_next/static/chunks/framework-f593a28cde54158e.js'},{'revision':null,'url':'/_next/static/chunks/main-a1c93dc8ac438092.js'},{'revision':null,'url':'/_next/static/chunks/main-app-36f966ff0157d7f6.js'},{'revision':null,'url':'/_next/static/chunks/pages/_app-da15c11dea942c36.js'},{'revision':null,'url':'/_next/static/chunks/pages/_error-cc3f077a18ea1793.js'},{'revision':null,'url':'/_next/static/chunks/polyfills-42372ed130431b0a.js'},{'revision':null,'url':'/_next/static/chunks/webpack-4543e0702b996779.js'},{'revision':null,'url':'/_next/static/css/cd189e7eab13b42a.css'},{'revision':null,'url':'/_next/static/media/569ce4b8f30dc480-s.p.woff2'},{'revision':null,'url':'/_next/static/media/747892c23ea88013-s.woff2'},{'revision':null,'url':'/_next/static/media/8d697b304b401681-s.woff2'},{'revision':null,'url':'/_next/static/media/93f479601ee12b01-s.p.woff2'},{'revision':null,'url':'/_next/static/media/9610d9e46709d722-s.woff2'},{'revision':null,'url':'/_next/static/media/ba015fad6dcf6784-s.woff2'},{'revision':'065a35915c201eeeb7cc4d5a16ab0f28','url':'/favicon/apple-touch-icon.png'},{'revision':'f62ab69e1969a46af631ad0e1100dc30','url':'/favicon/favicon-96x96.png'},{'revision':'3ef6c236f25025aa33cac31586f14e70','url':'/favicon/favicon.ico'},{'revision':'63bba9dac9d76d81e0442969cdb449c6','url':'/favicon/favicon.svg'},{'revision':'76cd0bebf86c4e12dffe99134a4619e1','url':'/favicon/site.webmanifest'},{'revision':'2dd6a82731e4c4bd6047d24d7770357e','url':'/favicon/web-app-manifest-192x192.png'},{'revision':'0face174be2199bbec4fae0c1adbd5bf','url':'/favicon/web-app-manifest-512x512.png'},{'revision':'7b9abae03b893208102511a2c036b035','url':'/file.svg'},{'revision':'2584a8643a4ea29f6bab508a5b55bee7','url':'/globe.svg'},{'revision':'688128be216cc2f753fe641590f2fcd3','url':'/manifest.json'},{'revision':'27b465f3573cd703750dcb0338ee01ea','url':'/n.svg'},{'revision':'d938eca3d89e313300b3c41fbff932f8','url':'/next.svg'},{'revision':'f1cbebe4672f72ab8c08d1bfd8159e37','url':'/notify.png'},{'revision':'f29c387a44ea21815073080ad12f32c0','url':'/push-notifications.jpg'},{'revision':'0222c3eef0be0734c8cd707b37c55d7e','url':'/vercel.svg'},{'revision':'8640fa467518096c9dff915641caaf95','url':'/window.svg'}]),console.log(ss.env),function(e,t){B().precache(e),function(e,t,n){let r;if("string"==typeof e){let t=new URL(e,location.href);r=new L(({url:e})=>e.href===t.href,void 0,void 0)}else if(e instanceof RegExp)r=new U(e,void 0,void 0);else if("function"==typeof e)r=new L(e,t,n);else if(e instanceof L)r=e;else throw new p("unsupported-route-type",{moduleName:"workbox-routing",funcName:"registerRoute",paramName:"capture"});I().registerRoute(r)}(new N(B(),void 0))}([]);let sa=0;async function su(){let e=await tK(),t=await st({}),n=!1,r={};for(let e of t)r[e.code]=e;let i={};for(let t of e){i[t.code]=!0,"critical"===t.level&&(n=!0);let e=r[t.code],o={docType:"indicator",code:t.code,level:t.level,tags:t.tags,text:t.text,revisionAt:t.revisionAt};e?await sr(o,e._rev):await sn(o)}for(let e of t)void 0===i[e.code]&&await si(e);n&&sa>0&&await so(),sa++,self.clients.matchAll().then(e=>{e.forEach(e=>{console.log("DB_UPDATED ",e),e.postMessage({type:"DB_UPDATED"})})}),console.log("Date "+new Date,st),setTimeout(su,2e4)}self.addEventListener("install",()=>{console.log("ENV ert:",self.__ENV)}),self.addEventListener("activate",e=>{console.log("activate"),e.waitUntil(su())})})()})();